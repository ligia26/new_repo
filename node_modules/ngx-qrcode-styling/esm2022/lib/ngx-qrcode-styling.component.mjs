import { Component, Input, ViewEncapsulation } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "./ngx-qrcode-styling.service";
class NgxQrcodeStylingComponent {
    constructor(canvas, service) {
        this.canvas = canvas;
        this.service = service;
        /**
         * TemplateType
         */
        this.template = 'default';
        /**
         * number
         */
        this.scale = 0;
        /**
         * number
         */
        this.rotate = 0;
        /**
         * number
         */
        this.zIndex = 2;
    }
    ngOnInit() {
        if (this.canvas) {
            /**
             * @Input override
             */
            if (this.template)
                this.config = {
                    ...this.config,
                    template: this.template
                };
            if (this.type)
                this.config = {
                    ...this.config,
                    type: this.type
                };
            if (this.shape)
                this.config = {
                    ...this.config,
                    shape: this.shape
                };
            if (this.width)
                this.config = {
                    ...this.config,
                    width: this.width
                };
            if (this.height)
                this.config = {
                    ...this.config,
                    height: this.height
                };
            if (this.margin)
                this.config = {
                    ...this.config,
                    margin: this.margin
                };
            if (this.data)
                this.config = {
                    ...this.config,
                    data: this.data
                };
            if (this.image)
                this.config = {
                    ...this.config,
                    image: this.image
                };
            if (this.scale)
                this.config = {
                    ...this.config,
                    scale: this.scale
                };
            if (this.rotate)
                this.config = {
                    ...this.config,
                    rotate: this.rotate
                };
            if (this.zIndex)
                this.config = {
                    ...this.config,
                    zIndex: this.zIndex
                };
            if (this.frameOptions)
                this.config = {
                    ...this.config,
                    frameOptions: this.frameOptions
                };
            if (this.qrOptions)
                this.config = {
                    ...this.config,
                    qrOptions: this.qrOptions
                };
            if (this.imageOptions)
                this.config = {
                    ...this.config,
                    imageOptions: this.imageOptions
                };
            if (this.dotsOptions)
                this.config = {
                    ...this.config,
                    dotsOptions: this.dotsOptions
                };
            if (this.cornersSquareOptions)
                this.config = {
                    ...this.config,
                    cornersSquareOptions: this.cornersSquareOptions
                };
            if (this.cornersDotOptions)
                this.config = {
                    ...this.config,
                    cornersDotOptions: this.cornersDotOptions
                };
            if (this.backgroundOptions)
                this.config = {
                    ...this.config,
                    backgroundOptions: this.backgroundOptions
                };
            this.create(this.config);
        }
    }
    /**
     * create
     * @param config
     * @returns
     */
    create(config) {
        return this.service.create(config, this.canvas.nativeElement);
    }
    /**
     * update
     * @param config
     * @param configUpdate
     * @returns
     */
    update(config, configUpdate) {
        return this.service.update(config, configUpdate, this.canvas.nativeElement);
    }
    /**
     * download image
     * @param fileName eg: demo.png
     * @param timeout
     * @returns
     */
    download(fileName, timeout = 0) {
        return this.service.download(this.canvas.nativeElement, fileName, timeout);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.4", ngImport: i0, type: NgxQrcodeStylingComponent, deps: [{ token: i0.ElementRef }, { token: i1.NgxQrcodeStylingService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.4", type: NgxQrcodeStylingComponent, selector: "ngx-qrcode-styling", inputs: { config: "config", template: "template", type: "type", shape: "shape", width: "width", height: "height", margin: "margin", data: "data", image: "image", scale: "scale", rotate: "rotate", zIndex: "zIndex", frameOptions: "frameOptions", qrOptions: "qrOptions", imageOptions: "imageOptions", dotsOptions: "dotsOptions", cornersSquareOptions: "cornersSquareOptions", cornersDotOptions: "cornersDotOptions", backgroundOptions: "backgroundOptions" }, ngImport: i0, template: '<ng-content></ng-content>', isInline: true, encapsulation: i0.ViewEncapsulation.None }); }
}
export { NgxQrcodeStylingComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.4", ngImport: i0, type: NgxQrcodeStylingComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'ngx-qrcode-styling',
                    template: '<ng-content></ng-content>',
                    encapsulation: ViewEncapsulation.None
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.NgxQrcodeStylingService }]; }, propDecorators: { config: [{
                type: Input
            }], template: [{
                type: Input
            }], type: [{
                type: Input
            }], shape: [{
                type: Input
            }], width: [{
                type: Input
            }], height: [{
                type: Input
            }], margin: [{
                type: Input
            }], data: [{
                type: Input
            }], image: [{
                type: Input
            }], scale: [{
                type: Input
            }], rotate: [{
                type: Input
            }], zIndex: [{
                type: Input
            }], frameOptions: [{
                type: Input
            }], qrOptions: [{
                type: Input
            }], imageOptions: [{
                type: Input
            }], dotsOptions: [{
                type: Input
            }], cornersSquareOptions: [{
                type: Input
            }], cornersDotOptions: [{
                type: Input
            }], backgroundOptions: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXFyY29kZS1zdHlsaW5nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1xcmNvZGUtc3R5bGluZy9zcmMvbGliL25neC1xcmNvZGUtc3R5bGluZy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBYyxLQUFLLEVBQVUsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7OztBQW9CeEYsTUFLYSx5QkFBeUI7SUF1SnBDLFlBQ1UsTUFBa0IsRUFDbEIsT0FBZ0M7UUFEaEMsV0FBTSxHQUFOLE1BQU0sQ0FBWTtRQUNsQixZQUFPLEdBQVAsT0FBTyxDQUF5QjtRQWpKMUM7O1dBRUc7UUFFSSxhQUFRLEdBQWlCLFNBQVMsQ0FBQztRQTRDMUM7O1dBRUc7UUFFSSxVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBRXpCOztXQUVHO1FBRUksV0FBTSxHQUFXLENBQUMsQ0FBQztRQUUxQjs7V0FFRztRQUVJLFdBQU0sR0FBVSxDQUFDLENBQUM7SUFrRnJCLENBQUM7SUFFTCxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBRWY7O2VBRUc7WUFDSCxJQUFJLElBQUksQ0FBQyxRQUFRO2dCQUNmLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7aUJBQ3hCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxJQUFJO2dCQUNYLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ2hCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxLQUFLO2dCQUNaLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7aUJBQ2xCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxLQUFLO2dCQUNaLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7aUJBQ2xCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxNQUFNO2dCQUNiLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07aUJBQ3BCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxNQUFNO2dCQUNiLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07aUJBQ3BCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxJQUFJO2dCQUNYLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ2hCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxLQUFLO2dCQUNaLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7aUJBQ2xCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxLQUFLO2dCQUNaLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7aUJBQ2xCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxNQUFNO2dCQUNiLElBQUksQ0FBQyxNQUFNLEdBQUc7b0JBQ1osR0FBRyxJQUFJLENBQUMsTUFBTTtvQkFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07aUJBQ3BCLENBQUM7WUFFSixJQUFJLElBQUksQ0FBQyxNQUFNO2dCQUNiLElB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QUFJO3NCQURWLEtBQUs7Z0JBT0MsS0FBSztzQkFEWCxLQUFLO2dCQU9DLEtBQUs7c0JBRFgsS0FBSztnQkFPQyxNQUFNO3NCQURaLEtBQUs7Z0JBT0MsTUFBTTtzQkFEWixLQUFLO2dCQU9DLFlBQVk7c0JBRGxCLEtBQUs7Z0JBaUJOLFNBQVM7c0JBRFIsS0FBSztnQkFXTixZQUFZO3NCQURYLEtBQUs7Z0JBWU4sV0FBVztzQkFEVixLQUFLO2dCQVdOLG9CQUFvQjtzQkFEbkIsS0FBSztnQkFXTixpQkFBaUI7c0JBRGhCLEtBQUs7Z0JBV04saUJBQWlCO3NCQURoQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICdyeGpzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgQ29ybmVyRG90VHlwZSxcclxuICBDb3JuZXJTcXVhcmVUeXBlLFxyXG4gIERvdFR5cGUsXHJcbiAgRHJhd1R5cGUsXHJcbiAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwsXHJcbiAgRnJhbWVTdHlsZSxcclxuICBHcmFkaWVudCxcclxuICBNb2RlLFxyXG4gIE9wdGlvbnMsXHJcbiAgU2hhcGVUeXBlLFxyXG4gIFRlbXBsYXRlVHlwZSxcclxuICBUeXBlTnVtYmVyLFxyXG4gIFVua25vd25PYmplY3QsXHJcbn0gZnJvbSAnLi9uZ3gtcXJjb2RlLXN0eWxpbmcub3B0aW9ucyc7XHJcbmltcG9ydCB7IE5neFFyY29kZVN0eWxpbmdTZXJ2aWNlIH0gZnJvbSAnLi9uZ3gtcXJjb2RlLXN0eWxpbmcuc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25neC1xcmNvZGUtc3R5bGluZycsXHJcbiAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOZ3hRcmNvZGVTdHlsaW5nQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgLyoqXHJcbiAgICogT3B0aW9uc1xyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGNvbmZpZyE6IE9wdGlvbnM7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlbXBsYXRlVHlwZVxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIHRlbXBsYXRlOiBUZW1wbGF0ZVR5cGUgPSAnZGVmYXVsdCc7XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdUeXBlXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgdHlwZSE6IERyYXdUeXBlO1xyXG5cclxuICAvKipcclxuICAgKiBTaGFwZVR5cGVcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBzaGFwZSE6IFNoYXBlVHlwZTtcclxuXHJcbiAgLyoqXHJcbiAgICogbnVtYmVyXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgd2lkdGghOiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIG51bWJlclxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGhlaWdodCE6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogbnVtYmVyXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgbWFyZ2luITogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBzdHJpbmdcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBkYXRhITogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBzdHJpbmdcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBpbWFnZSE6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogbnVtYmVyXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgc2NhbGU6IG51bWJlciA9IDA7XHJcblxyXG4gIC8qKlxyXG4gICAqIG51bWJlclxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIHJvdGF0ZTogbnVtYmVyID0gMDtcclxuXHJcbiAgLyoqXHJcbiAgICogbnVtYmVyXHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBwdWJsaWMgekluZGV4OiAxIHwgMiA9IDI7XHJcblxyXG4gIC8qKlxyXG4gICAqIG9iamVjdFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGZyYW1lT3B0aW9ucyE6IHtcclxuICAgIHN0eWxlPzogRnJhbWVTdHlsZTtcclxuICAgIGhlaWdodD86IG51bWJlcjtcclxuICAgIHdpZHRoPzogbnVtYmVyO1xyXG4gICAgeD86IG51bWJlcjtcclxuICAgIHk/OiBudW1iZXI7XHJcbiAgICBiYWNrZ3JvdW5kPzogc3RyaW5nO1xyXG4gICAgdGV4dHM/OiBVbmtub3duT2JqZWN0W107XHJcbiAgICBjb250ZW50cz86IFVua25vd25PYmplY3RbXTtcclxuICAgIGNvbnRhaW5lcnM/OiBVbmtub3duT2JqZWN0W107XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogb2JqZWN0XHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBxck9wdGlvbnMhOiB7XHJcbiAgICB0eXBlTnVtYmVyPzogVHlwZU51bWJlcjtcclxuICAgIG1vZGU/OiBNb2RlO1xyXG4gICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWw/OiBFcnJvckNvcnJlY3Rpb25MZXZlbDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBvYmplY3RcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIGltYWdlT3B0aW9ucyE6IHtcclxuICAgIGhpZGVCYWNrZ3JvdW5kRG90cz86IGJvb2xlYW47XHJcbiAgICBpbWFnZVNpemU/OiBudW1iZXI7XHJcbiAgICBjcm9zc09yaWdpbj86IHN0cmluZztcclxuICAgIG1hcmdpbj86IG51bWJlcjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBvYmplY3RcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIGRvdHNPcHRpb25zIToge1xyXG4gICAgdHlwZT86IERvdFR5cGU7XHJcbiAgICBjb2xvcj86IHN0cmluZztcclxuICAgIGdyYWRpZW50PzogR3JhZGllbnQ7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogb2JqZWN0XHJcbiAgICovXHJcbiAgQElucHV0KClcclxuICBjb3JuZXJzU3F1YXJlT3B0aW9ucyE6IHtcclxuICAgIHR5cGU/OiBDb3JuZXJTcXVhcmVUeXBlO1xyXG4gICAgY29sb3I/OiBzdHJpbmc7XHJcbiAgICBncmFkaWVudD86IEdyYWRpZW50O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIG9iamVjdFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgY29ybmVyc0RvdE9wdGlvbnMhOiB7XHJcbiAgICB0eXBlPzogQ29ybmVyRG90VHlwZTtcclxuICAgIGNvbG9yPzogc3RyaW5nO1xyXG4gICAgZ3JhZGllbnQ/OiBHcmFkaWVudDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBvYmplY3RcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIGJhY2tncm91bmRPcHRpb25zIToge1xyXG4gICAgcm91bmQ/OiBudW1iZXI7XHJcbiAgICBjb2xvcj86IHN0cmluZztcclxuICAgIGdyYWRpZW50PzogR3JhZGllbnQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNhbnZhczogRWxlbWVudFJlZixcclxuICAgIHByaXZhdGUgc2VydmljZTogTmd4UXJjb2RlU3R5bGluZ1NlcnZpY2VcclxuICApIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBJbnB1dCBvdmVycmlkZVxyXG4gICAgICAgKi9cclxuICAgICAgaWYgKHRoaXMudGVtcGxhdGUpXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLnR5cGUpXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5zaGFwZSlcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgc2hhcGU6IHRoaXMuc2hhcGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRoaXMud2lkdGgpXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmhlaWdodClcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5tYXJnaW4pXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIG1hcmdpbjogdGhpcy5tYXJnaW5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRoaXMuZGF0YSlcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgZGF0YTogdGhpcy5kYXRhXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmltYWdlKVxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICBpbWFnZTogdGhpcy5pbWFnZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5zY2FsZSlcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRoaXMucm90YXRlKVxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICByb3RhdGU6IHRoaXMucm90YXRlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLnpJbmRleClcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgekluZGV4OiB0aGlzLnpJbmRleFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5mcmFtZU9wdGlvbnMpXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIGZyYW1lT3B0aW9uczogdGhpcy5mcmFtZU9wdGlvbnNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRoaXMucXJPcHRpb25zKVxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICBxck9wdGlvbnM6IHRoaXMucXJPcHRpb25zXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmltYWdlT3B0aW9ucylcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgaW1hZ2VPcHRpb25zOiB0aGlzLmltYWdlT3B0aW9uc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5kb3RzT3B0aW9ucylcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgZG90c09wdGlvbnM6IHRoaXMuZG90c09wdGlvbnNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKHRoaXMuY29ybmVyc1NxdWFyZU9wdGlvbnMpXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgIGNvcm5lcnNTcXVhcmVPcHRpb25zOiB0aGlzLmNvcm5lcnNTcXVhcmVPcHRpb25zXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmNvcm5lcnNEb3RPcHRpb25zKVxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICBjb3JuZXJzRG90T3B0aW9uczogdGhpcy5jb3JuZXJzRG90T3B0aW9uc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kT3B0aW9ucylcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZE9wdGlvbnM6IHRoaXMuYmFja2dyb3VuZE9wdGlvbnNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5jcmVhdGUodGhpcy5jb25maWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogY3JlYXRlXHJcbiAgICogQHBhcmFtIGNvbmZpZyBcclxuICAgKiBAcmV0dXJucyBcclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlKGNvbmZpZzogT3B0aW9ucyk6IEFzeW5jU3ViamVjdDxhbnk+IHtcclxuICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY3JlYXRlKGNvbmZpZywgdGhpcy5jYW52YXMubmF0aXZlRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1cGRhdGVcclxuICAgKiBAcGFyYW0gY29uZmlnIFxyXG4gICAqIEBwYXJhbSBjb25maWdVcGRhdGUgXHJcbiAgICogQHJldHVybnMgXHJcbiAgICovXHJcbiAgcHVibGljIHVwZGF0ZShjb25maWc6IE9wdGlvbnMsIGNvbmZpZ1VwZGF0ZTogT3B0aW9ucyk6IEFzeW5jU3ViamVjdDxhbnk+IHtcclxuICAgIHJldHVybiB0aGlzLnNlcnZpY2UudXBkYXRlKGNvbmZpZywgY29uZmlnVXBkYXRlLCB0aGlzLmNhbnZhcy5uYXRpdmVFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGRvd25sb2FkIGltYWdlXHJcbiAgICogQHBhcmFtIGZpbGVOYW1lIGVnOiBkZW1vLnBuZ1xyXG4gICAqIEBwYXJhbSB0aW1lb3V0IFxyXG4gICAqIEByZXR1cm5zIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBkb3dubG9hZChmaWxlTmFtZT86IHN0cmluZywgdGltZW91dCA9IDApOiBBc3luY1N1YmplY3Q8YW55PiB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmRvd25sb2FkKHRoaXMuY2FudmFzLm5hdGl2ZUVsZW1lbnQsIGZpbGVOYW1lLCB0aW1lb3V0KTtcclxuICB9XHJcbn1cclxuIl19
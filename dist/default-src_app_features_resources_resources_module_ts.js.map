{"version":3,"file":"default-src_app_features_resources_resources_module_ts.js","mappings":"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","sources":["./src/app/features/resources/_pipes/orderBy.pipe.ts","./src/app/features/resources/_services/booking-timeslots.service.ts","./src/app/features/resources/_services/cultural-booking.service.ts","./src/app/features/resources/_services/menu.service.ts","./src/app/features/resources/_services/product-list.service.ts","./src/app/features/resources/_services/rental-booking.service.ts","./src/app/features/resources/_services/stepper.service.ts","./src/app/features/resources/_services/tickets-booking.service.ts","./src/app/features/resources/_services/timepicker.service.ts","./src/app/features/resources/components/provider-create-shared-experience/provider-create-shared-experience.component.ts","./src/app/features/resources/components/provider-lobby/provider-lobby.component.ts","./src/app/features/resources/components/resource-radio-option/resource-radio-option.component.ts","./src/app/features/resources/components/shared-experiences-list/shared-experiences-list.component.ts","./src/app/features/resources/components/stepper-content/add-mode/add-new-template/add-new-template.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/facilities/facilities.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/gallery/gallery.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/general-informations/general-informations.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/payment/payment.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/policy/no-policy/no-policy.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-cultural-booking/policy-cultural-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-rental-booking/policy-rental-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/policy/restaurant-policy/restaurant-policy.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/related-resource/cultural-related-res/cultural-related-res.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/apply-job/apply-job.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/car-booking/car-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/cultural-booking/cultural-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/external-url/external-url.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/add-edit-category/add-edit-category.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/delete-menu-category/delete-menu-category.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/menu.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/no-booking/no-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/add-edit-product/add-edit-product.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/delete-product-modal/delete-product-modal.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/products-list.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/add-edit-room-modal/add-edit-room-modal.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/delete-room-modal/delete-room-modal.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/rental-booking.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/add-edit-service/add-edit-service.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/delete-modal-service/delete-modal-service.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/service-booking-time-slots.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/add-edit-ticket/add-edit-ticket.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/delete-ticket/delete-ticket.component.ts","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/ticket-booking.component.ts","./src/app/features/resources/components/stepper-title-list/stepper-title-list.component.ts","./src/app/features/resources/pages/add-resource/add-resource.component.ts","./src/app/features/resources/pages/resources-list/resources-list.component.ts","./src/app/features/resources/resources-routing.module.ts","./src/app/features/resources/resources.component.ts","./src/app/features/resources/resources.module.ts","./src/app/shared/_services/can-deactivate-guard.service.ts","./src/app/shared/_services/createResource.service.ts","./src/app/standalone-components/product-preview/product-preview.component.ts","./src/app/standalone-components/service-timeslot-preview/service-timeslot-preview.component.ts","./src/app/standalone-components/ticket-card/ticket-card.component.ts","./src/app/features/resources/components/provider-create-shared-experience/provider-create-shared-experience.component.scss","./src/app/features/resources/components/provider-lobby/provider-lobby.component.scss","./src/app/features/resources/components/resource-radio-option/resource-radio-option.component.scss","./src/app/features/resources/components/shared-experiences-list/shared-experiences-list.component.scss","./src/app/features/resources/components/stepper-content/add-mode/add-new-template/add-new-template.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/facilities/facilities.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/gallery/gallery.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/general-informations/general-informations.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/payment/payment.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/policy/no-policy/no-policy.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-cultural-booking/policy-cultural-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-rental-booking/policy-rental-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/policy/restaurant-policy/restaurant-policy.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/related-resource/cultural-related-res/cultural-related-res.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/apply-job/apply-job.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/car-booking/car-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/cultural-booking/cultural-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/external-url/external-url.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/add-edit-category/add-edit-category.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/delete-menu-category/delete-menu-category.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/menu.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/no-booking/no-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/add-edit-product/add-edit-product.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/delete-product-modal/delete-product-modal.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/products-list.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/add-edit-room-modal/add-edit-room-modal.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/delete-room-modal/delete-room-modal.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/rental-booking.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/add-edit-service/add-edit-service.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/delete-modal-service/delete-modal-service.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/service-booking-time-slots.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/add-edit-ticket/add-edit-ticket.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/delete-ticket/delete-ticket.component.scss","./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/ticket-booking.component.scss","./src/app/features/resources/components/stepper-title-list/stepper-title-list.component.scss","./src/app/features/resources/pages/add-resource/add-resource.component.scss","./src/app/features/resources/pages/resources-list/resources-list.component.scss","./src/app/features/resources/resources.component.scss","./src/app/standalone-components/product-preview/product-preview.component.scss","./src/app/standalone-components/service-timeslot-preview/service-timeslot-preview.component.scss","./src/app/standalone-components/ticket-card/ticket-card.component.scss"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'orderBy'\n})\nexport class OrderByPipe implements PipeTransform {\n    transform(array: any[], field: string): any[] {\n        if (!Array.isArray(array)) {\n            return;\n        }\n        array.sort((a: any, b: any) => {\n            if (a[field] < b[field]) {\n                return -1;\n            } else if (a[field] > b[field]) {\n                return 1;\n            } else {\n                return 0;\n            }\n        });\n        return array;\n    }\n}\n\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class BookingTimeslotsService {\n    refreshServiceList$ = new BehaviorSubject(false);\n    serviceList$ = new BehaviorSubject([]);\n\n    deleteServiceList$ = new BehaviorSubject([]);\n\n    constructor(private http: HttpClient) {\n    }\n\n    /** Listeners */\n\n\n\n    refreshServiceListData() {\n        return this.refreshServiceList$.asObservable();\n    }\n\n    serviceListData() {\n        return this.serviceList$.asObservable()\n    }\n\n    /** Custom Functions */\n    addServiceToList(service) {\n        this.serviceList$.next(this.serviceList$.getValue().concat(service))\n    }\n\n    addServiceToDeleteList(service) {\n        this.deleteServiceList$.next(this.deleteServiceList$.getValue().concat(service))\n    }\n\n\n    //------------------REQUESTS------------------\n\n    getServicesByResourceId(resourceId: string){\n        return this.http.get('/bestinform/getBookingTimeSlotListByResourceId?resourceId='+resourceId);\n    }\n\n    createService(resourceId: string, service){\n        return this.http.post('/bestinform/createBookingTimeSlot?resourceId=' + resourceId, service);\n    }\n\n    updateServiceByServiceId(serviceId: string, service){\n        return this.http.put('/bestinform/updateBookingTimeSlot?bookingTimeSlotId=' + serviceId, service);\n    }\n\n    deleteService(serviceId:string){\n        return this.http.delete('/bestinform/deleteBookingTimeSlotById?bookingTimeSlotId=' + serviceId);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {CulturalRoom} from \"../../../shared/_models/cultural-room.model\";\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CulturalBookingService {\n\n  constructor(private http: HttpClient) { }\n\n  culturalRoom$ = new BehaviorSubject<CulturalRoom>(null);\n\n\n  culturalRoomData() {\n    return this.culturalRoom$.asObservable();\n  }\n\n  //------------------REQUESTS------------------\n  createCulturalRoom(resourceId: string, culturalRoom: CulturalRoom) {\n    return this.http.post<{success: boolean, reason: string}>('/bestinform/createCulturalRoom?resourceId=' + resourceId, culturalRoom);\n  }\n\n  updateCulturalRoom(culturalRoomId: string, newCulturalRoom: CulturalRoom) {\n    return this.http.put<{success: boolean, reason: string}>('/bestinform/updateCulturalRoom?culturalRoomId=' + culturalRoomId, newCulturalRoom);\n  }\n\n  getResourceCulturalRooms(resourceId: string) {\n    return this.http.get<CulturalRoom[]>('/bestinform/getResourceCulturalRooms?resourceId=' + resourceId);\n  }\n\n  getCulturalRoomById(culturalRoomId: string) {\n    return this.http.get<CulturalRoom>('/bestinform/getCulturalRoomById?culturalRoomId=' + culturalRoomId);\n  }\n\n  deleteCulturalRoom(culturalRoomId: string) {\n    return this.http.delete<{success: boolean, reason: string}>('/bestinform/deleteCulturalRoom?culturalRoomId=' + culturalRoomId);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MenuService {\n\n\n    refreshMenuList$ = new BehaviorSubject(false)\n    menuList$ = new BehaviorSubject([])\n\n    deleteArray$ = new BehaviorSubject([]);\n\n    menuId$ = new BehaviorSubject(undefined);\n\n    constructor(private http: HttpClient) {\n    }\n\n    refreshMenuListData() {\n        return this.refreshMenuList$.asObservable()\n    }\n\n    menuListData() {\n        return this.menuList$.asObservable();\n    }\n\n    addCategoryToList(categ) {\n        this.menuList$.next(this.menuList$.getValue().concat(categ))\n    }\n\n    addCategoryToDeleteArray(categ) {\n        this.deleteArray$.next(this.deleteArray$.getValue().concat(categ));\n    }\n\n    //req\n    createMenu(resourceId: string, menu) {\n        return this.http.post('/bestinform/createResourceMenu?resourceId=' + resourceId, menu);\n    }\n\n    getMenuById(menuId: string) {\n        return this.http.get('/bestinform/getMenuById?menuId=' + menuId);\n    }\n\n    getMenuByResourceId(resourceId: string) {\n        return this.http.get('/bestinform/getResourceMenu?resourceId=' + resourceId);\n    }\n\n    updateMenu(menuId: string, menu){\n        return this.http.put('/bestinform/updateMenu?menuId=' + menuId, menu);\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class ProductListService {\n    refreshProductList$ = new BehaviorSubject(false);\n    productsList$ = new BehaviorSubject([]);\n\n    deleteProdList$ = new BehaviorSubject([]);\n\n    imagesArray$ = new BehaviorSubject([]);\n    attachmentArray$ = new BehaviorSubject([]);\n\n    constructor(private http: HttpClient) {\n    }\n\n    /** Listeners */\n\n\n\n    refreshProductListData() {\n        return this.refreshProductList$.asObservable();\n    }\n\n    productListData() {\n        return this.productsList$.asObservable()\n    }\n\n    /** Custom Functions */\n    addProductToList(product) {\n        this.productsList$.next(this.productsList$.getValue().concat(product))\n    }\n\n    addProductToDeleteList(product) {\n        this.deleteProdList$.next(this.deleteProdList$.getValue().concat(product))\n    }\n\n    addImgtoImgList(img) {\n        this.imagesArray$.next(this.imagesArray$.getValue().concat(img))\n    }\n\n    addAttachmentToList(attach) {\n        this.attachmentArray$.next(this.attachmentArray$.getValue().concat(attach))\n    }\n\n\n    //------------------REQUESTS------------------\n\n    createProduct(resourceId: string, product) {\n        return this.http.post('/bestinform/createProduct?resourceId=' + resourceId, product);\n    }\n\n    getProductsByResourceId(resourceId: string) {\n        return this.http.get('/bestinform/getProductListByResourceId?resourceId=' + resourceId);\n    }\n\n    updateProduct(productId: string, product) {\n        return this.http.put('/bestinform/updateProduct?productId=' + productId, product);\n    }\n\n    deleteProduct(productId: string) {\n        return this.http.delete('/bestinform/deleteProduct?productId=' + productId);\n    }\n\n    uploadImageForProduct(productId: string, image) {\n        return this.http.post('/bestinform/uploadProductImages?productId=' + productId, image);\n    }\n\n    uploadAttachmentForProduct(productId: string, file) {\n        return this.http.post('/bestinform/uploadProductAttachment?productId=' + productId, file);\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RentalBookingService {\n\n\n    refreshRoomList$ = new BehaviorSubject(false)\n    roomList$ = new BehaviorSubject([])\n\n    deleteArray$ = new BehaviorSubject([]);\n\n    imagesArray$ = new BehaviorSubject([]);\n\n    constructor(private http: HttpClient) {\n    }\n\n\n    /** Listeners */\n    refreshRoomListData() {\n        return this.refreshRoomList$.asObservable()\n    }\n\n    roomListData() {\n        return this.roomList$.asObservable()\n    }\n\n    /** TO DO: de sters*/\n    deleteArrayData(){\n        return this.deleteArray$.asObservable();\n    }\n\n    imagesArrayData(){\n        return this.imagesArray$.asObservable();\n    }\n\n\n    /** Custom Functions */\n    addRoomToList(room) {\n        this.roomList$.next(this.roomList$.getValue().concat(room))\n    }\n\n    addRoomToDeleteArray(room){\n        this.deleteArray$.next(this.deleteArray$.getValue().concat(room));\n    }\n\n    addImgToImagesArray(img){\n        this.imagesArray$.next(this.imagesArray$.getValue().concat(img));\n    }\n\n    /** API Requests  */\n    createRoom(id: string, data: object) {\n        return this.http.post('/bestinform/createRoom?resourceId=' + id, data)\n    }\n\n    createRooms(id: string, data: object[]) {\n        return this.http.post('/bestinform/createRooms?resourceId=' + id, data)\n    }\n\n    updateRoom(id: string, data: object) {\n        return this.http.put('/bestinform/updateRoom?roomItemId=' + id, data)\n    }\n\n    deleteRoom(roomId: string) {\n        return this.http.delete('/bestinform/deleteRoom?roomItemId=' + roomId)\n    }\n\n    getRoomList(resourceId: string) {\n        return this.http.get('/bestinform/getRoomListByResourceId?resourceId=' + resourceId)\n    }\n\n    uploadRoomThumbnail(roomId: string, image) {\n        return this.http.post('/bestinform/uploadRoomImage?roomId=' + roomId, image)\n    }\n\n    uploadRoomGallery(roomId: string, images) {\n        return this.http.post('/bestinform/uploadRoomItemImages?roomItemId=' + roomId, images)\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class StepperService {\n\n\n    // Stepper\n    step$ = new BehaviorSubject(0);\n    stepsTitle$ = new BehaviorSubject([]);\n    stepperStage$ = new BehaviorSubject('Add');\n\n    // stepperStage$ = new BehaviorSubject('Configure/Edit');\n\n\n    constructor(private http: HttpClient) {\n        // Listen to Step Stage Changes\n        this.getStepperStage().subscribe({\n            next: stage => {\n                console.log('STAGE', stage);\n                this.changeStepperStage(stage)\n            }\n        })\n    }\n\n\n    /** Stepper Listener*/\n    getStep() {\n        return this.step$.asObservable()\n    }\n\n    getStepsTitle() {\n        return this.stepsTitle$.asObservable()\n    }\n\n    getStepperStage() {\n        return this.stepperStage$.asObservable()\n    }\n\n    /** Go to next step*/\n    nextStep(notCultural?: boolean) {\n\n        // Check if you get to the last step\n        if (this.step$.getValue() === this.stepsTitle$.getValue()[this.stepsTitle$.getValue().length - 1].id) {\n            return\n        }\n\n        if (notCultural) {\n            // Skip related\n            this.step$.next(this.step$.getValue() + 2)\n        } else {\n            // Go one step forward\n            this.step$.next(this.step$.getValue() + 1);\n        }\n\n\n    }\n\n    /** Go to previous step*/\n    prevStep(notCultural?: boolean) {\n\n        // Check if you get to the first step\n        if (this.step$.getValue() === this.stepsTitle$.getValue()[0].id) {\n            return\n        }\n\n        if (notCultural) {\n            // Skip related\n            this.step$.next(this.step$.getValue() - 2)\n        } else {\n            // Go one step back\n            this.step$.next(this.step$.getValue() - 1)\n        }\n\n    }\n\n    /** Change Stepper Stage*/\n    changeStepperStage(stage) {\n        if (stage === 'Add') {\n            return this.stepsTitle$.next([\n                {id: 0, stepName: 'Domeniul'},\n                {id: 1, stepName: 'Categorie resurse'},\n                {id: 2, stepName: 'Tipul de resursă'},\n                {id: 3, stepName: 'Configurație'}\n            ])\n        } else if (stage === 'Configure/Edit') {\n            return this.stepsTitle$.next([\n                {id: 0, stepName: 'Informatii generale'},\n                {id: 1, stepName: 'Facilități'},\n                {id: 2, stepName: 'Setup'},\n                {id: 3, stepName: 'Resurse asociate'},\n                {id: 4, stepName: 'Politici'},\n                {id: 5, stepName: 'Galerie'},\n                {id: 6, stepName: 'Payment'}\n            ])\n        }\n    }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject, tap} from \"rxjs\";\nimport {Ticket} from \"../../../shared/_models/ticket.model\";\nimport {ResourcesService} from \"./resources.service\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class TicketsBookingService {\n    refreshTicketList$ = new BehaviorSubject(false)\n    ticketsList$ = new BehaviorSubject([])\n\n    createArray$ = new BehaviorSubject([]);\n    refreshCreateArray$ = new BehaviorSubject(false);\n\n    initList$ = new BehaviorSubject([]);\n\n    deleteArray$ = new BehaviorSubject([]);\n    refreshDeleteArray$ = new BehaviorSubject(false);\n\n    updateArray$ = new BehaviorSubject([]);\n    refreshUpdateArray$ = new BehaviorSubject(false);\n\n    constructor(private http: HttpClient,\n                private resourceService: ResourcesService) {\n    }\n\n    /** Listeners */\n\n\n\n    refreshTicketListData() {\n        return this.refreshTicketList$.asObservable();\n    }\n\n\n    refreshTicketCreateData() {\n        return this.refreshCreateArray$.asObservable();\n    }\n\n    refreshTicketDeleteData() {\n        return this.refreshDeleteArray$.asObservable();\n    }\n\n    refreshTicketUpdateData() {\n        return this.refreshUpdateArray$.asObservable();\n    }\n\n\n    ticketListData() {\n        return this.ticketsList$.asObservable()\n    }\n\n    createArrayData() {\n        return this.createArray$.asObservable();\n    }\n\n    updateArrayData() {\n        return this.updateArray$.asObservable();\n    }\n\n\n    /** Custom Functions */\n    addTicketToList(ticket) {\n        this.ticketsList$.next(this.ticketsList$.getValue().concat(ticket))\n    }\n\n    addTicketToCreateArrayEdit(ticket) {\n        this.createArray$.next(this.createArray$.getValue().concat(ticket));\n    }\n\n    addTicketToDeleteArray(ticket) {\n        this.deleteArray$.next(this.deleteArray$.getValue().concat(ticket));\n    }\n\n    addTicketToUpdateArray(ticket) {\n        this.updateArray$.next(this.updateArray$.getValue().concat(ticket));\n    }\n\n\n    //------------------REQUESTS------------------\n    createTicket(resourceId: string, ticket: Ticket) {\n        return this.http.post('/bestinform/createTicket?resourceId=' + resourceId, ticket);\n    }\n\n    createTickets(resourceId: string, tickets: Array<Ticket>) {\n        return this.http.post('/bestinform/createTickets?resourceId=' + resourceId, tickets);\n    }\n\n    updateTicket(ticketId: string, ticket: Ticket) {\n        return this.http.put('/bestinform/updateTicket?ticketId=' + ticketId, ticket);\n    }\n\n    deleteTicket(ticketId: string) {\n        return this.http.delete('/bestinform/deleteTicket?ticketId=' + ticketId);\n    }\n\n    getTicketList(resourceId: string) {\n        return this.http.get('/bestinform/getTicketListByResourceId?resourceId=' + resourceId)\n        // .pipe(tap((res:any) => this.initList$.next(res)))\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject, tap} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class TimepickerService {\n\n    constructor(private http: HttpClient){}\n\n    refreshTimetableList$ = new BehaviorSubject(false);\n    timetableList$ = new BehaviorSubject([]);\n\n    refreshTimepickerList$ = new BehaviorSubject(false);\n    timepickerList$ = new BehaviorSubject([]);\n\n    timepickerId$ = new BehaviorSubject(undefined);\n\n    timePicker$ = new BehaviorSubject(undefined);\n    changePolicies$ = new BehaviorSubject(undefined);\n    bookingPolicies$ = new BehaviorSubject(undefined);\n\n    private hasFreeEntry = false;\n\n    setFreeEntry(newValue: boolean) {\n        this.hasFreeEntry = newValue;\n    }\n\n    getFreeEntry() {\n        return this.hasFreeEntry;\n    }\n\n\n    refreshTimetableListData() {\n        return this.refreshTimetableList$.asObservable();\n    }\n\n    refreshTimepickerListData() {\n        return this.refreshTimepickerList$.asObservable();\n    }\n\n\n\n    // ------------------- REQUESTS ------------------\n    createTimepicker(resourceId: string, timepicker){\n        return this.http.post('/bestinform/createBookingTimePicker?resourceId='+resourceId, timepicker);\n    }\n\n    getTimepickerByResourceId(resourceId: string){\n        return this.http.get('/bestinform/getBookingTimePickerByResourceId?resourceId=' + resourceId);\n    }\n\n    updateTimepicker(timepickerId: string, timepicker){\n        return this.http.put('/bestinform/updateBookingTimePicker?bookingTimePickerId=' + timepickerId, timepicker);\n    }\n\n\n}","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {SharedExperiencesService} from \"../../../../shared/_services/shared-experiences.service\";\nimport {ResourcesService as ResourceService} from \"../../_services/resources.service\";\nimport {Resource} from \"../../../../shared/_models/resource.model\";\nimport {Subject, takeUntil} from \"rxjs\";\nimport {ResourcesService} from \"../../../../shared/_services/resources.service\";\nimport {DatePipe} from \"@angular/common\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {ToastService} from \"../../../../shared/_services/toast.service\";\n\n@Component({\n    selector: 'app-provider-create-shared-experience',\n    templateUrl: './provider-create-shared-experience.component.html',\n    styleUrls: ['./provider-create-shared-experience.component.scss'],\n    providers: [DatePipe]\n})\nexport class ProviderCreateSharedExperienceComponent implements OnInit, OnDestroy {\n    private ngUnsubscribe = new Subject<void>();\n\n    currentResource: Resource;\n    timeslotsArray = [];\n    chosenResourceTimeslots = [];\n    bookingTimeslotId: string;\n    date: string;\n    today = new Date();\n\n    slotChosen: { startHour: string, endHour: string };\n    showErrorMsg = false;\n\n    sharedExperienceForm: FormGroup;\n\n    constructor(public dialogRef: MatDialogRef<ProviderCreateSharedExperienceComponent>,\n                @Inject(MAT_DIALOG_DATA) public resourceId,\n                private sharedExperienceService: SharedExperiencesService,\n                private resourceService: ResourceService,\n                private resourcesService: ResourcesService,\n                private datePipe: DatePipe,\n                private fb: FormBuilder,\n                private toastService: ToastService) {\n    }\n\n    ngOnInit() {\n        console.log(this.resourceId);\n        this.getCurrentResource();\n        this.getTimepickerForResource(this.resourceId);\n        this.formInit();\n    }\n\n    formInit() {\n        this.sharedExperienceForm = this.fb.group({\n            name: ['', Validators.required],\n            description: [''],\n            hasParticipantsLimit: [false],\n            participantsMaxNumber: [0]\n        })\n    }\n\n    getCurrentResource() {\n        this.resourceService.getResourceById(this.resourceId)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (resource: Resource) => {\n                    this.currentResource = resource;\n                }\n\n            })\n    }\n\n    getTimepickerForResource(resourceId) {\n        this.resourcesService.getTimeslotsByResourceId(resourceId)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (timeslots: any) => {\n                    this.timeslotsArray = timeslots;\n                    console.log('toate activitatile', timeslots);\n                    console.log('TIMESLOTS FOR CHOSEN RS', timeslots[0]?.slotItems);\n                    this.bookingTimeslotId = null;\n                    this.date = null;\n                }\n            })\n    }\n\n    bookingTimeslotChanged(id) {\n        console.log(id);\n        this.bookingTimeslotId = id;\n        this.date = null;\n        this.chosenResourceTimeslots = [];\n    }\n\n    dateChanged() {\n        console.log(this.datePipe.transform(this.date, 'EEEE'));\n        this.slotChosen = undefined;\n        this.resourcesService.getAvailableSlotByDate(this.bookingTimeslotId, this.datePipe.transform(this.date, 'yyyy-MM-dd'))\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (timeslots: any) => {\n                    console.log('TIMESLOTS FOR CHOSEN RS', timeslots);\n                    this.chosenResourceTimeslots = timeslots;\n                }\n            })\n    }\n\n    close() {\n        this.dialogRef.close();\n    }\n\n    save() {\n        this.sharedExperienceForm.markAllAsTouched();\n        if (this.sharedExperienceForm.valid) {\n            const experienceObj = {\n                ...this.sharedExperienceForm.value,\n                startDate: this.datePipe.transform(this.date, 'yyyy-MM-dd'),\n                startHour: this.slotChosen?.startHour,\n                resourceId: this.resourceId,\n                timeSlotReservation: {\n                    itemsNumber: 1,\n                    date: this.datePipe.transform(this.date, 'yyyy-MM-dd'),\n                    hour: this.slotChosen?.startHour,\n                    bookingTimeSlotId: this.bookingTimeslotId\n                }\n            }\n\n            console.log('exp', experienceObj);\n\n            this.sharedExperienceService.createSharedExperience(experienceObj)\n                .pipe(takeUntil(this.ngUnsubscribe))\n                .subscribe({\n                    next: (res: { success: boolean, reason: string }) => {\n                        console.log('dupa create', res);\n                        if (res.success) {\n                            this.toastService.showToast('Success', 'Your shared resource was created!', \"success\");\n                            this.close();\n                        }\n                    }\n                })\n        }\n    }\n\n    ngOnDestroy() {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {SharedExperiencesService} from \"../../../../shared/_services/shared-experiences.service\";\nimport {Subject, takeUntil} from \"rxjs\";\nimport {SharedExperience} from \"../../../../shared/_models/shared-experience.model\";\nimport {User} from \"../../../../shared/_models/user.model\";\nimport {UserDataService} from \"../../../../shared/_services/userData.service\";\nimport {ToastService} from \"../../../../shared/_services/toast.service\";\n\n@Component({\n    selector: 'app-provider-lobby',\n    templateUrl: './provider-lobby.component.html',\n    styleUrls: ['./provider-lobby.component.scss']\n})\nexport class ProviderLobbyComponent implements OnInit, OnDestroy {\n    private ngUnsubscribe = new Subject<void>();\n\n    currentExperience: SharedExperience;\n    availableSpotsLeft: number;\n    acceptedParticipants: number;\n    isHost = false;\n    currentUserId: string;\n\n    arrayPending: any;\n    arrayParticipants: any;\n\n    constructor(public dialogRef: MatDialogRef<ProviderLobbyComponent>,\n                @Inject(MAT_DIALOG_DATA) public resourceId,\n                private sharedExperienceService: SharedExperiencesService,\n                private userDataService: UserDataService) {\n    }\n\n    ngOnInit() {\n        this.getSharedExperience();\n\n    }\n\n    getSharedExperience() {\n        this.sharedExperienceService.getSharedExperienceById(this.resourceId)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (experience: SharedExperience) => {\n                    console.log('experienta mea', experience);\n                    this.currentExperience = {...experience};\n                    this.makeParticipantsArrays();\n                    console.log('experienta curenta', this.currentExperience);\n                }\n            })\n\n    }\n\n    makeParticipantsArrays(){\n        this.arrayParticipants = [];\n        this.arrayPending = [];\n        if(this.currentExperience?.participants.length > 0){\n            this.currentExperience?.participants.forEach((participant:any)=>{\n                console.log(participant);\n                if(participant.accepted && participant.type !== 'owner' ){\n                    this.arrayParticipants.push(participant);\n                }else if(!participant.accepted && participant.type === 'request' ){\n                    this.arrayPending.push(participant);\n                    console.log(this.arrayPending)\n                }\n            })\n        }\n\n    }\n\n    checkIfHost(){\n        this.userDataService.getCurrentUser()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({next:(user:User)=>{\n                    this.currentUserId = user.id;\n                    if(this.currentExperience.userId === user.id){\n                        this.isHost=true;\n                    }\n                }})\n    }\n\n    ngOnDestroy() {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {AfterViewInit, ChangeDetectorRef, Component, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-resource-radio-option',\n    templateUrl: './resource-radio-option.component.html',\n    styleUrls: ['./resource-radio-option.component.scss']\n})\nexport class ResourceRadioOptionComponent implements AfterViewInit {\n\n    @Input() iconPath: string;\n    @Input() optionName: string;\n    @Input() optionId: string;\n    @Input() initialValue: any;\n\n\n    constructor(private cd: ChangeDetectorRef) {\n\n    }\n\n    ngAfterViewInit() {\n        this.cd.detectChanges();\n    }\n\n}\n","import {Component, Inject, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialog, MatDialogRef} from \"@angular/material/dialog\";\nimport {SharedExperiencesService} from \"../../../../shared/_services/shared-experiences.service\";\nimport {Subject, takeUntil} from \"rxjs\";\nimport {ResourcesService} from \"../../_services/resources.service\";\nimport {Resource} from \"../../../../shared/_models/resource.model\";\nimport {MatSort} from \"@angular/material/sort\";\nimport {ProviderLobbyComponent} from \"../provider-lobby/provider-lobby.component\";\nimport {\n    LobbySharedExperienceComponent\n} from \"../../../shared-experiences/lobby-shared-experience/lobby-shared-experience.component\";\nimport {UserDataService} from \"../../../../shared/_services/userData.service\";\nimport {User} from \"../../../../shared/_models/user.model\";\n\n@Component({\n    selector: 'app-shared-experiences-list',\n    templateUrl: './shared-experiences-list.component.html',\n    styleUrls: ['./shared-experiences-list.component.scss']\n})\nexport class SharedExperiencesListComponent implements OnInit, OnDestroy {\n    private ngUnsubscribe = new Subject<void>();\n    @ViewChild(MatSort, {static: true}) sort: MatSort;\n\n    pageNumber = 0;\n    pageSize = 10;\n    pageSizeArray = [10, 25, 50, 100];\n    sorting = 'date';\n    dir = 'desc';\n    totalElements: number;\n    dataSource = [];\n\n    displayedColumns = ['id', 'name', 'date', 'time', 'participants', 'actions'];\n\n    currentResource: Resource;\n    userId: string;\n\n\n    constructor(public dialogRef: MatDialogRef<SharedExperiencesListComponent>,\n                @Inject(MAT_DIALOG_DATA) public resourceId,\n                private sharedExperienceService: SharedExperiencesService,\n                private resourceService: ResourcesService,\n                public dialog: MatDialog,\n                private userService: UserDataService) {\n    }\n\n    ngOnInit() {\n        this.getCurrentUser();\n        console.log('list res id', this.resourceId);\n        // this.getSharedExperiencesList();\n        this.getCurrentResource();\n    }\n\n    pageChanged(event: any) {\n        console.log('page changed');\n    }\n\n    getCurrentUser(){\n        this.userService.getCurrentUser()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (user: User) => {\n                    this.userId = user.id;\n                    this.getSharedExperiencesList();\n                }\n            })\n    }\n\n    getSharedExperiencesList() {\n        const filters = {\n            resourceId: this.resourceId,\n            userId: this.userId\n        }\n        this.sharedExperienceService.listSharedExperiencesFiltered(this.pageNumber, this.pageSize, this.sorting, this.dir, filters)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (expList: any) => {\n                    console.log('EXP LIST', expList)\n                    this.dataSource = expList?.content;\n                    this.totalElements = expList?.totalElements;\n                }\n            })\n    }\n\n    getCurrentResource(){\n        this.resourceService.getResourceById(this.resourceId)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: (resource: Resource) => {\n                    this.currentResource = resource;\n                }\n\n            })\n    }\n\n    openSharedExperienceLobbyModal(resourceId) {\n        this.dialog.open(ProviderLobbyComponent, {\n            width: '1000px',\n            height: '750px',\n            data: resourceId\n        });\n    }\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {ResourceModel} from \"../../../../_models/resource.model\";\nimport {ResourcesService} from \"../../../../_services/resources.service\";\nimport {StepperService} from \"../../../../_services/stepper.service\";\nimport {SettingsService} from \"../../../../../../shared/_services/settings.service\";\nimport {SystemSettingsService} from \"../../../../../../shared/_services/system-settings.service\";\nimport { ResourcesService as DomainService } from \"../../../../../../shared/_services/resources.service\"\nimport {DomainsService} from \"../../../../../../shared/_services/domains.service\";\nimport {Observable} from \"rxjs\";\nimport {CanDeactivateGuard} from \"../../../../../../shared/_services/can-deactivate-guard.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {CreateResourceService} from \"../../../../../../shared/_services/createResource.service\";\n\n@Component({\n    selector: 'app-add-new-template',\n    templateUrl: './add-new-template.component.html',\n    styleUrls: ['./add-new-template.component.scss']\n})\nexport class AddNewTemplateComponent implements OnInit {\n\n    eventsId: string;\n    transportId: string;\n    categoriesToBeExcluded = [];\n\n    /** Add Stage  - START */\n    dataLoaded: boolean;\n    step: number;\n    providerData: any;\n\n    // Form\n    templateForm = new FormGroup({\n        domain: new FormControl('', Validators.required),\n        categoryId: new FormControl('', Validators.required),\n        resourceTypeId: new FormControl('', Validators.required)\n    })\n\n    displayForm = new FormGroup({\n        domain: new FormControl('', Validators.required),\n        categoryId: new FormControl('', Validators.required),\n        resourceTypeId: new FormControl('', Validators.required)\n    })\n    domain: any;\n    category: any;\n    resourceType: any;\n\n\n    // Backend Data\n    optionsList: ResourceModel[] = [];\n\n    private routeSub: any;\n\n    /** Add Stage  - END */\n\n    constructor(private resourceService: ResourcesService, private stepperService: StepperService,\n                private settingService: SystemSettingsService,\n                private domainSv:DomainsService,\n                private domainService: DomainService,\n                private router: Router,\n                private route: ActivatedRoute,\n                private createResourceService: CreateResourceService) {\n    }\n\n\n    ngOnInit() {\n    this.getEventCategId();\n    this.getTransportCategId();\n    this.getCategoriesId();\n    this.providerData = this.createResourceService.providerData$.getValue();\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                if(this.templateForm.value.resourceTypeId){\n                    this.stepperService.step$.next(2);\n                }else if(this.templateForm.value.resourceTypeId){\n                    this.stepperService.step$.next(1);\n                }else if(this.templateForm.value.domain){\n                    this.stepperService.step$.next(0);\n                }\n\n\n                this.dataForAddStage();\n\n            }\n        })*/\n\n        // Listen to step changes\n        this.stepperService.getStep().subscribe({\n            next: stepNumber => this.step = stepNumber\n        })\n\n        this.dataForAddStage();\n\n    }\n\n    getDomain(domainId){\n        this.domainSv.getDomainById(domainId).subscribe({\n            next:domain => {\n                this.domain = domain.nameEn;\n\n            }\n        })\n    }\n\n    getCategory(categoryId){\n        this.domainService.getResourceCategoryById(categoryId).subscribe({\n            next: categ => {\n                this.category = categ.nameEn;\n            }\n        })\n    }\n\n    getResourceType(resType){\n        this.domainService.getResourceTypeById(resType).subscribe({\n            next: resType => {\n                this.resourceType= resType.nameEn;\n            }\n        })\n    }\n\n    getEventCategId(){\n        this.settingService.getSystemSetting().subscribe({\n            next: (resp:any)=>{\n                this.eventsId = resp.eventCategoryId;\n            }\n        })\n    }\n\n    getTransportCategId(){\n        this.settingService.getSystemSetting().subscribe({\n            next: (resp: any) => {\n                this.transportId = resp.transportCategoryId;\n            }\n        })\n    }\n\n    getCategoriesId(){\n        this.settingService.getSystemSetting().subscribe({\n            next: (resp: any) => {\n               this.categoriesToBeExcluded.push(resp.transportCategoryId);\n               this.categoriesToBeExcluded.push(resp.eventCategoryId);\n\n            }\n        })\n    }\n\n    /** Get BackEnd Data for Options*/\n    dataForAddStage() {\n\n        console.log('add stage')\n        // Data Loaded\n        this.dataLoaded = false\n\n        switch (this.step) {\n            case 0:\n                this.resourceService.getListOfDomains().subscribe({\n                    next: (data: any) => {\n                        this.optionsList = data.filter(domain => domain.nameEn !== 'Jobs Market');\n\n                        this.templateForm.patchValue({\n                            domain: this.templateForm.value.domain.length > 0 ? this.templateForm.value.domain : data[0].id\n                        })\n\n                        this.getDomain(this.templateForm.value.domain);\n                        // Data Loaded\n                        this.dataLoaded = true;\n                        console.log(this.templateForm.get('domain'))\n                    },\n                    error: (error) => console.log(error)\n\n                })\n                break\n            case 1:\n                this.resourceService.getAllResourceCategoriesByResourceDomain(this.templateForm.value.domain).subscribe({\n                    next: (data: any) => {\n                        this.optionsList = data;\n                        this.categoriesToBeExcluded.forEach(id =>{\n                            this.optionsList = this.optionsList.filter(categ => categ.id !== id);\n                        })\n\n\n\n                        this.getDomain(this.templateForm.value.domain);\n\n                        this.templateForm.patchValue({\n                            categoryId: this.templateForm.value.categoryId.length > 0 ? this.templateForm.value.categoryId : data[0].id\n                        })\n                        this.getCategory(this.templateForm.value.categoryId);\n                        // Data Loaded\n                        this.dataLoaded = true\n                    },\n                    error: (error) => console.log(error)\n                })\n                break\n            case 2:\n                this.resourceService.getAllResourceTypesByResourceCategory(this.templateForm.value.categoryId).subscribe({\n                    next: (data: any) => {\n                        this.optionsList = data;\n                        this.getCategory(this.templateForm.value.categoryId);\n\n\n                        this.templateForm.patchValue({\n                            resourceTypeId: this.templateForm.value.resourceTypeId.length > 0 ? this.templateForm.value.resourceTypeId : data[0].id\n                        })\n                        this.getResourceType(this.templateForm.value.resourceTypeId);\n\n                        // Data Loaded\n                        this.dataLoaded = true\n                    },\n                    error: (error) => console.log(error)\n                })\n                break\n            case 3:\n                // Add Template Type Object\n                this.resourceService.addTemplate(this.templateForm.value)\n\n                break\n            default:\n                this.optionsList = []\n        }\n    }\n\n    goToStep(value){\n        this.stepperService.step$.next(value);\n        this.dataForAddStage();\n    }\n\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep()\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    checkIfFirstStep() {\n        if (this.step === 0) {\n            void this.router.navigate(['../list'], {relativeTo: this.route});\n            return;\n        }\n\n        this.prevStep();\n        this.dataForAddStage();\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ResourcesService} from \"../../../../_services/resources.service\";\nimport {StepperService} from \"../../../../_services/stepper.service\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {UserDataService} from \"../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../_services/menu.service\";\nimport moment from \"moment\";\n\n@Component({\n    selector: 'app-facilities',\n    templateUrl: './facilities.component.html',\n    styleUrls: ['./facilities.component.scss']\n})\nexport class FacilitiesComponent implements OnInit, OnDestroy {\n\n    facilitiesByCategory = [];\n    form = this.resourceService.facilitiesForm$.getValue()\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(private resourceService: ResourcesService, private stepperService: StepperService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n    ngOnInit() {\n\n        // Facilities Section\n        this.createFacilitiesSection(this.resourceService.attributesFromResourceTemplate$.getValue())\n\n        // Create Dynamic Form\n        this.createDynamicForm(this.resourceService.attributesFromResourceTemplate$.getValue().filter(item => item.tabName === 'facilities'))\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n    }\n\n\n    /** Create Facilities Section */\n    createFacilitiesSection(facilities) {\n\n        // Store facilities attributes ID\n        const facilitiesAttributeIds = facilities.find(section => section.tabName === 'facilities').tabAttributes.map(attribute => attribute.id)\n\n        // Get Facilities Attributes\n        this.resourceService.getAttributes(facilitiesAttributeIds).subscribe({\n            next: (data: any) => {\n\n                // Sort facilities by categoryName\n                this.facilitiesByCategory = data.reduce((acc, item) => {\n\n                    // Check if there is an object with the same categoryZone value\n                    const index = acc.findIndex(x => x.categoryName === item.categoryName);\n\n                    // If - There is an categoryZone with the same value, then we add the attributes\n                    // Else - We create one\n                    if (index !== -1) {\n                        acc[index].tabAttributes.push({\n                            id: item.id,\n                            categoryId: item.categoryId,\n                            name: item.name,\n                            order: item.order,\n                            size: item.size,\n                            valueType: item.valueType\n                        });\n                    } else {\n                        acc.push({\n                            categoryName: item.categoryName,\n                            tabAttributes: [{\n                                id: item.id,\n                                categoryId: item.categoryId,\n                                name: item.name,\n                                order: item.order,\n                                size: item.size,\n                                valueType: item.valueType\n                            }]\n                        });\n                    }\n\n                    // Return the transform array after all items have been processed\n                    return acc;\n                }, []);\n\n                this.resourceService.facilitiesByCategory$.next(this.facilitiesByCategory)\n\n            },\n            error: (error) => console.log(error)\n        })\n    }\n\n    /** Input Column Creator*/\n    columnSize(size) {\n        switch (size) {\n            case 'full_row':\n                return 'col-12'\n            case 'half_row':\n                return 'col-md-6 col-12'\n            default:\n                return 'col-12'\n        }\n    }\n\n\n    /** Create Dynamic Form */\n    createDynamicForm(formSection) {\n        // Loop through from Sections\n        for (const section of formSection) {\n            // Loop through section attributes\n            for (const inputField of section.tabAttributes) {\n                // Create form inputs\n                if (inputField.valueType === 'toggle') {\n                    this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : 'false'));\n                }\n                this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : '', inputField.propertyRequired ? Validators.required : null));\n            }\n        }\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n\n        // // Mark as touched\n        this.form.markAllAsTouched()\n\n        // Check form validation\n        if (this.form.invalid) {\n            return\n        }\n\n        // Go the next step\n        this.stepperService.nextStep()\n\n    }\n\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : this.resourceService.resourceTemplateData$.getValue()?.bookingPolicies,\n            startDate:  (combineForms.value?.startDate !== 'Invalid date' && this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            endDate: (combineForms.value?.endDate !== 'Invalid date' &&  this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                const currentRelatedRes = this.resourceService.relatedResources$.getValue();\n                const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id === resourceRelatedRes[0]){\n                    // nu fac nimic\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id !== resourceRelatedRes[0]){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && currentRelatedRes?.length > 0){\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length === 0){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                }\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea atasamentului!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { StepperService } from \"../../../../_services/stepper.service\";\nimport { ResourcesService } from \"../../../../_services/resources.service\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { BehaviorSubject, forkJoin, Observable, Subscription } from \"rxjs\";\nimport { ActivatedRoute, NavigationStart, Router } from \"@angular/router\";\nimport { UserDataService } from \"../../../../../../shared/_services/userData.service\";\nimport { RentalBookingService } from \"../../../../_services/rental-booking.service\";\nimport { TicketsBookingService } from \"../../../../_services/tickets-booking.service\";\nimport { TimepickerService } from \"../../../../_services/timepicker.service\";\nimport { ProductListService } from \"../../../../_services/product-list.service\";\nimport { BookingTimeslotsService } from \"../../../../_services/booking-timeslots.service\";\nimport { ToastService } from \"../../../../../../shared/_services/toast.service\";\nimport { CreateResourceService } from \"../../../../../../shared/_services/createResource.service\";\nimport { SystemSettingsService } from \"../../../../../../shared/_services/system-settings.service\";\nimport { MenuService } from \"../../../../_services/menu.service\";\nimport { CulturalBookingService } from \"../../../../_services/cultural-booking.service\";\nimport moment from \"moment\";\n\n@Component({\n  selector: \"app-gallery\",\n  templateUrl: \"./gallery.component.html\",\n  styleUrls: [\"./gallery.component.scss\"],\n})\nexport class GalleryComponent implements OnInit, OnDestroy {\n  //for save resource\n  isAdmin: boolean;\n  isProvider: boolean;\n  isStaff: boolean;\n\n  // resourceId = this.resourceService.resourceId$.getValue();\n  resourceId: string;\n  roomsArray: any;\n  currentBookingType: string;\n\n  isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(\n    false\n  );\n  isSubmitLoading: boolean;\n  private unsubscribe: Subscription[] = [];\n\n  $fileObservables: Observable<object>[] = [];\n  private routeSub: any;\n\n  constructor(\n    private stepperService: StepperService,\n    private resourceService: ResourcesService,\n    private userService: UserDataService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private roomService: RentalBookingService,\n    private ticketService: TicketsBookingService,\n    private timepickerService: TimepickerService,\n    private productService: ProductListService,\n    private timeslotService: BookingTimeslotsService,\n    private toastService: ToastService,\n    private createResourceService: CreateResourceService,\n    private systemSettings: SystemSettingsService,\n    private menuService: MenuService,\n    private culturalBookingService: CulturalBookingService\n  ) {\n    const loadingSubscr = this.isSubmitLoading$\n      .asObservable()\n      .subscribe((res) => (this.isSubmitLoading = res));\n    this.unsubscribe.push(loadingSubscr);\n  }\n\n  form = this.resourceService.filesForm$.getValue();\n  resourceForm = this.resourceService.resourceData.getValue();\n\n  // resourceId = this.resourceService.resourceId$.getValue();\n\n  ngOnInit() {\n    this.resourceService.getResourceId().subscribe({\n      next: (id) => {\n        if (id) this.resourceId = id;\n      },\n    });\n    console.log(\"on init gallery\", this.resourceId);\n    console.log(\"on init gallery 2\", this.resourceForm);\n    console.log(\"on init gallery 3\", this.form.value);\n    console.log(\n      \"on init gallery 4\",\n      this.resourceService.filesForm$.getValue().value\n    );\n\n    if (this.resourceId) {\n      console.log(\n        \"form de la service pe edit res\",\n        this.resourceService.filesForm$.getValue()\n      );\n      console.log(\n        \"sunt pe edit res si formularul curent e asta\",\n        this.form.value\n      );\n      // this.form.addControl('thumbnail', new FormControl(this.resourceForm.featuredImage));\n      // this.form.addControl('images', new FormControl(this.resourceForm.images));\n      // this.form.addControl('videos', new FormControl(this.resourceForm.videos))\n\n      this.thumbnailUrl = Object.assign({}, this.resourceForm.featuredImage);\n      this.galleryUrls = Object.assign([], this.resourceForm.images);\n      this.videoUrls = Object.assign([], this.resourceForm.videos);\n\n      if (!this.resourceForm.featuredImage) {\n        this.thumbnailUrl = {\n          fileName: undefined,\n          filePath: undefined,\n        };\n      }\n\n      const serviceForm =\n        this.resourceService.filesForm$.getValue() as FormGroup;\n      if (serviceForm.value?.thumbnail instanceof Blob) {\n        const reader = new FileReader();\n        reader.onload = () => (this.thumbnailUrl.filePath = reader.result);\n        reader.readAsDataURL(serviceForm.value?.thumbnail);\n        this.thumbnailFile = serviceForm.value?.thumbnail;\n      } else {\n        this.thumbnailUrl = serviceForm.value?.thumbnail;\n      }\n\n      if (serviceForm.value?.images?.length > 0) {\n        serviceForm.value.images.forEach((image) => {\n          if (image instanceof File) {\n            const reader = new FileReader();\n            reader.onload = () =>\n              this.galleryUrls.push({\n                filePath: reader.result,\n                fileName: image.name,\n              });\n            reader.readAsDataURL(image);\n            this.galleryFiles.push(image);\n          } else {\n            this.galleryUrls.push(image);\n          }\n          console.log(this.galleryUrls);\n        });\n      }\n\n      if (serviceForm.value?.videos?.length > 0) {\n        serviceForm.value.videos.forEach((video) => {\n          if (video instanceof File) {\n            const reader = new FileReader();\n            reader.onload = () =>\n              this.videoUrls.push({\n                filePath: reader.result,\n                fileName: video.name,\n              });\n            reader.readAsDataURL(video);\n            this.videoFiles.push(video);\n          } else {\n            this.videoUrls.push(video);\n          }\n        });\n      }\n    } else {\n      const serviceForm =\n        this.resourceService.filesForm$.getValue() as FormGroup;\n      this.form.addControl(\n        \"thumbnail\",\n        new FormControl(\n          serviceForm.value?.thumbnail ? serviceForm.value.thumbnail : undefined\n        )\n      );\n      // this.form.addControl('images', new FormControl(serviceForm.value?.images?.length > 0 ? serviceForm.value?.images : []));\n      // this.form.addControl('videos', new FormControl(serviceForm.value?.videos?.length > 0 ? serviceForm.value?.videos : []));\n\n      if (\n        serviceForm.value?.thumbnail &&\n        serviceForm.value?.thumbnail instanceof Blob\n      ) {\n        const reader = new FileReader();\n        reader.onload = () => (this.thumbnailUrl.filePath = reader.result);\n        reader.readAsDataURL(serviceForm.value?.thumbnail);\n        this.thumbnailFile = serviceForm.value?.thumbnail;\n      }\n\n      if (serviceForm.value?.images?.length > 0) {\n        serviceForm.value.images.forEach((image) => {\n          console.log(\"fiecare image\", image);\n          console.log(this.galleryFiles);\n          console.log(this.galleryUrls);\n          if (image instanceof File) {\n            const reader = new FileReader();\n            reader.onload = () =>\n              this.galleryUrls.push({\n                filePath: reader.result,\n                fileName: image.name,\n              });\n            reader.readAsDataURL(image);\n            this.galleryFiles.push(image);\n          }\n\n          console.log(this.galleryUrls);\n        });\n      }\n\n      if (serviceForm.value?.videos?.length > 0) {\n        serviceForm.value.videos.forEach((video) => {\n          const reader = new FileReader();\n          reader.onload = () =>\n            this.videoUrls.push({\n              filePath: reader.result,\n              fileName: video.name,\n            });\n          reader.readAsDataURL(video);\n          this.videoFiles.push(video);\n        });\n      }\n    }\n\n    //for save resource\n    // if (this.resourceService.resourceId$.getValue()) {\n    //     this.resourceId = this.resourceService.resourceId$.getValue();\n    // }\n\n    this.currentBookingType =\n      this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n    this.userService.getCurrentUser().subscribe((response: any) => {\n      if (response.roles.includes(\"ROLE_PROVIDER\")) {\n        this.isProvider = true;\n      }\n\n      if (response.roles.includes(\"ROLE_STAFF\")) {\n        this.isStaff = true;\n      }\n\n      if (response.roles.includes(\"ROLE_SUPER_ADMIN\")) {\n        this.isAdmin = true;\n      }\n    });\n\n    /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n  }\n\n  thumbnailUrl = {\n    fileName: undefined,\n    filePath: undefined,\n  };\n  thumbnailFile: Blob;\n\n  galleryUrls = [];\n  galleryFiles = [];\n  videoUrls = [];\n  videoFiles = [];\n\n  onThumbnailChange(event) {\n    console.log(\"EVENT\", event.target.files[0].size);\n    if (event.target.files && event.target.files[0]) {\n      if (event.target.files[0].size < 2 * 1024 * 1024) {\n        this.thumbnailUrl.fileName = event.target.files[0].name;\n        this.thumbnailFile = event.target.files[0];\n        this.form.setControl(\n          \"thumbnail\",\n          new FormControl(event.target.files[0])\n        );\n        console.log(\"form\", this.form);\n\n        const reader = new FileReader();\n        reader.onload = () => (this.thumbnailUrl.filePath = reader.result);\n        reader.readAsDataURL(this.thumbnailFile);\n      } else {\n        this.toastService.showToast(\n          \"Erorr\",\n          \"File size is bigger than 2MB!\",\n          \"error\"\n        );\n        this.thumbnailUrl = {\n          fileName: undefined,\n          filePath: undefined,\n        };\n        this.thumbnailFile = undefined;\n        this.form.setControl(\"thumbnail\", new FormControl(null));\n      }\n    }\n  }\n\n  removeThumbnail() {\n    this.thumbnailUrl = {\n      fileName: undefined,\n      filePath: undefined,\n    };\n    this.thumbnailFile = undefined;\n    this.form.setControl(\"thumbnail\", new FormControl(null));\n  }\n\n  onImageChange(event, inputRef: HTMLInputElement) {\n    console.log(event.target.files);\n    if (event.target.files && event.target.files[0]) {\n      let imagesLength = event.target.files.length;\n      if (this.galleryUrls.length > 0) {\n        const newUrlLength = this.galleryUrls.length;\n        for (let i = 0; i < imagesLength; i++) {\n          if (event.target.files[i].size < 2 * 1024 * 1024) {\n            this.galleryUrls.push({\n              fileName: event.target.files[i].name,\n              filePath: undefined,\n            });\n            this.galleryFiles.push(event.target.files[i]);\n            this.form.setControl(\"images\", new FormControl(this.galleryFiles));\n\n            const reader = new FileReader();\n            reader.onload = () => {\n              this.galleryUrls[newUrlLength + i].filePath = reader.result;\n              inputRef.value = null;\n            };\n            reader.readAsDataURL(\n              this.galleryFiles[this.galleryFiles.length - 1]\n            );\n          } else {\n            this.toastService.showToast(\n              \"Erorr\",\n              \"File named \" +\n                event.target.files[i].name +\n                \" has a bigger size than 2MB!\",\n              \"error\"\n            );\n            return;\n          }\n        }\n      } else {\n        for (let i = 0; i < imagesLength; i++) {\n          if (event.target.files[i].size < 2 * 1024 * 1024) {\n            this.galleryUrls.push({\n              fileName: event.target.files[i].name,\n              filePath: undefined,\n            });\n            this.galleryFiles.push(event.target.files[i]);\n            this.form.setControl(\"images\", new FormControl(this.galleryFiles));\n\n            const reader = new FileReader();\n            reader.onload = () => {\n              // this.galleryUrls[this.galleryUrls.length - 1].filePath = reader.result;\n              this.galleryUrls[i].filePath = reader.result;\n              inputRef.value = null;\n            };\n            reader.readAsDataURL(\n              this.galleryFiles[this.galleryFiles.length - 1]\n            );\n          } else {\n            this.toastService.showToast(\n              \"Erorr\",\n              \"File named \" +\n                event.target.files[i].name +\n                \" has a bigger size than 2MB!\",\n              \"error\"\n            );\n            return;\n          }\n        }\n      }\n    }\n\n    console.log(\"gallery urls after upload img on edit\", this.galleryUrls);\n    console.log(\"form after upload img on edit\", this.form.value);\n  }\n\n  removeImage(index: number) {\n    this.galleryUrls.splice(index, 1);\n    this.galleryFiles.splice(index, 1);\n\n    if (this.resourceId && this.resourceForm.images.length > 0) {\n      this.resourceForm.images.splice(index, 1);\n    }\n  }\n\n  onVideoChange(event, inputRef: HTMLInputElement) {\n    if (event.target.files && event.target.files[0]) {\n      const videoLength = event.target.files.length;\n      if (this.videoUrls.length > 0) {\n        const newUrlLength = this.videoUrls.length;\n        for (let i = 0; i < videoLength; i++) {\n          this.videoUrls.push({\n            fileName: event.target.files[i].name,\n            filePath: undefined,\n          });\n          this.videoFiles.push(event.target.files[i]);\n          this.form.setControl(\"videos\", new FormControl(this.videoFiles));\n\n          const reader = new FileReader();\n          reader.onload = () => {\n            this.videoUrls[newUrlLength + i].filePath = reader.result;\n            inputRef.value = null;\n          };\n          reader.readAsDataURL(this.videoFiles[this.videoFiles.length - 1]);\n        }\n      } else {\n        for (let i = 0; i < videoLength; i++) {\n          this.videoUrls.push({\n            fileName: event.target.files[i].name,\n            filePath: undefined,\n          });\n          this.videoFiles.push(event.target.files[i]);\n          this.form.setControl(\"videos\", new FormControl(this.videoFiles));\n\n          const reader = new FileReader();\n          reader.onload = () => {\n            // this.galleryUrls[this.galleryUrls.length - 1].filePath = reader.result;\n            this.videoUrls[i].filePath = reader.result;\n            inputRef.value = null;\n          };\n          reader.readAsDataURL(this.videoFiles[this.videoFiles.length - 1]);\n        }\n      }\n    }\n  }\n\n  removeVideo(index: number) {\n    this.videoUrls.splice(index, 1);\n    this.videoFiles.splice(index, 1);\n\n    if (this.resourceId && this.resourceForm.videos.length > 0) {\n      this.resourceForm.videos.splice(index, 1);\n    }\n  }\n\n  /** Go to next step*/\n  nextStep() {\n    // // Mark as touched\n    // this.form.markAllAsTouched()\n    //\n    // // Check form validation\n    // if (this.form.invalid) {\n    //     return\n    // }\n\n    // this.resourceService.resourceData.next(this.form.value)\n    console.log(\"next step\", this.resourceService.filesForm$.getValue());\n    console.log(\"next step\", this.form.value);\n    // this.resourceService.filesForm$.next(this.form.value)\n    // Go the next step\n    this.stepperService.nextStep();\n  }\n\n  /** Go to previous step*/\n  prevStep() {\n    console.log(this.form.value);\n    console.log(\"imgs\", this.galleryUrls);\n    console.log(\"videos\", this.videoUrls);\n    this.stepperService.prevStep();\n  }\n\n  //for save resource\n  clearFields() {\n    // this.stepperService.step$.next(undefined);\n    this.stepperService.stepperStage$.next(undefined);\n\n    this.resourceService.resourceId$.next(undefined);\n    this.resourceService.resourceTemplateData$.next(undefined);\n    this.resourceService.resourceTemplateType$.next(undefined);\n    this.resourceService.attributesFromResourceTemplate$.next(undefined);\n    this.resourceService.generalInformationForm$.next(new FormGroup({}));\n    this.resourceService.facilitiesForm$.next(new FormGroup({}));\n    this.resourceService.filesForm$.next(new FormGroup({}));\n    this.resourceService.facilitiesByCategory$.next([]);\n    this.resourceService.resourceData.next({\n      featuredImage: undefined,\n      images: [],\n      videos: [],\n    });\n    this.resourceService.accommodationPolicy$.next(undefined);\n    this.roomService.refreshRoomList$.next(false);\n    this.roomService.roomList$.next([]);\n    this.roomService.imagesArray$.next([]);\n    this.resourceService.travelId$.next(undefined);\n    this.resourceService.relatedResources$.next([]);\n\n    this.ticketService.updateArray$.next([]);\n    this.ticketService.refreshUpdateArray$.next(false);\n    this.ticketService.createArray$.next([]);\n    this.ticketService.refreshCreateArray$.next(false);\n    this.ticketService.ticketsList$.next([]);\n    this.ticketService.refreshTicketList$.next(false);\n    this.ticketService.deleteArray$.next([]);\n\n    this.culturalBookingService.culturalRoom$.next(null);\n\n    this.timepickerService.timepickerList$.next([]);\n    this.timepickerService.timetableList$.next([]);\n    this.timepickerService.timepickerId$.next(undefined);\n    this.timepickerService.timePicker$.next(undefined);\n    this.timepickerService.changePolicies$.next(undefined);\n    this.timepickerService.bookingPolicies$.next(undefined);\n\n    this.resourceService.externalUrl$.next(undefined);\n\n    this.productService.productsList$.next([]);\n    this.productService.refreshProductList$.next(false);\n    this.productService.deleteProdList$.next([]);\n\n    this.timeslotService.serviceList$.next([]);\n    this.timeslotService.refreshServiceList$.next(false);\n\n    this.createResourceService.providerData$.next(undefined);\n\n    this.resourceService.setupListener$.next(undefined);\n    this.resourceService.generalInfoListener$.next(undefined);\n    this.resourceService.policyRentalListener$.next(undefined);\n    this.resourceService.policyMenuListener$.next(undefined);\n    this.resourceService.policyListener$.next(undefined);\n    this.resourceService.settingsTripsItineraries$.next([]);\n    this.resourceService.tripsItinerariesObject$.next({});\n\n    this.menuService.refreshMenuList$.next(false);\n    this.menuService.menuList$.next([]);\n    this.menuService.menuId$.next(undefined);\n  }\n\n  saveResource() {\n    this.isSubmitLoading = true;\n    this.roomsArray = this.roomService.roomList$.getValue();\n\n    const combineForms: any = new FormGroup({\n      ...this.resourceService.generalInformationForm$.getValue().controls,\n      ...this.resourceService.facilitiesForm$.getValue().controls,\n      ...this.resourceService.filesForm$.getValue().controls,\n    });\n\n    console.log(\"FILES FORM\", this.resourceService.filesForm$.getValue());\n\n    console.log(\"Form-uri combinate\", combineForms.value);\n    console.log(\n      \"Atribute\",\n      this.resourceService.attributesFromResourceTemplate$.getValue()\n    );\n    console.log(\n      \"Form-uri combinate 2\",\n      this.resourceService.resourceTemplateData$.getValue()\n    );\n    console.log(\n      \"Form-uri combinate 3\",\n      this.resourceService.resourceTemplateType$.getValue()\n    );\n\n    // Empty array\n    const formData = [];\n\n    // Sort form inputs by tabName\n    for (const control in combineForms.controls) {\n      this.resourceService.attributesFromResourceTemplate$\n        .getValue()\n        .forEach((section) => {\n          section.tabAttributes.forEach((attribute) => {\n            if (attribute.name === control) {\n              if (attribute.valueType === \"multiple-select\") {\n                console.log(\n                  \"ATTR SENT\",\n                  attribute,\n                  combineForms.get(control).value\n                );\n                formData.push({\n                  tabName: section.tabName,\n                  attributeName: control,\n                  attributeId: attribute.id,\n                  attributeValue: Array.isArray(combineForms.get(control).value)\n                    ? combineForms.get(control).value.join()\n                    : combineForms.get(control).value,\n                  attributeIconPath: attribute.icon.filePath,\n                });\n              } else {\n                formData.push({\n                  tabName: section.tabName,\n                  attributeName: control,\n                  attributeId: attribute.id,\n                  attributeValue: combineForms.get(control).value,\n                  attributeIconPath: attribute.icon.filePath,\n                });\n              }\n            }\n          });\n        });\n    }\n\n    console.log(\"FORM DATA\", formData);\n    const attributes = formData.reduce((acc, item) => {\n      const index = acc.findIndex((x) => x.tabName === item.tabName);\n      if (index !== -1) {\n        acc[index].tabAttributes.push({\n          attributeId: item.attributeId,\n          attributeValue: item.attributeValue,\n        });\n      } else {\n        acc.push({\n          tabName: item.tabName,\n          tabAttributes: [\n            {\n              attributeId: item.attributeId,\n              attributeValue: item.attributeValue,\n            },\n          ],\n        });\n      }\n      return acc;\n    }, []);\n\n    console.log(\n      \"sa ne uitam aici\",\n      this.resourceService.resourceTemplateData$.getValue()\n    );\n\n    // Formatted Form Object\n    const formObject = {\n      title: combineForms.value.title,\n      description: combineForms.value.description,\n      address: combineForms.value.address,\n      country: combineForms.value.country,\n      city: combineForms.value.city,\n      slug: this.resourceService.resourceId$.getValue()\n        ? \"\"\n        : combineForms.value.title,\n      featuredImage: combineForms.value.thumbnail,\n      images: this.resourceService.resourceData.getValue().images,\n      videos:\n        this.resourceService.resourceData.getValue().videos !== null\n          ? this.resourceService.resourceData.getValue().videos\n          : [],\n      geographicalCoordinates: {\n        latitude: combineForms.value.latitude,\n        longitude: combineForms.value.longitude,\n      },\n      attributes: attributes,\n      categoryId:\n        this.resourceService.resourceTemplateType$.getValue().categoryId,\n      bookingPolicies: combineForms.value?.bookingPolicies\n        ? {\n            depositRequiredPercentage:\n              combineForms.value.bookingPolicies?.depositRequiredPercentage ||\n              0,\n            depositRequiredAmount:\n              combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n            advancePartialPaymentPercentage:\n              combineForms.value.bookingPolicies\n                ?.advancePartialPaymentPercentage || 0,\n            advanceFullPayment:\n              combineForms.value.bookingPolicies?.advanceFullPayment || false,\n          }\n        : null,\n      startDate:\n        combineForms.value?.startDate !== \"Invalid date\" &&\n        this.currentBookingType === \"culturalBooking\"\n          ? moment(combineForms.value?.startDate)?.format(\"YYYY-MM-DDTHH:mm\")\n          : null,\n      endDate:\n        combineForms.value?.endDate !== \"Invalid date\" &&\n        this.currentBookingType === \"culturalBooking\"\n          ? moment(combineForms.value?.endDate)?.format(\"YYYY-MM-DDTHH:mm\")\n          : null,\n      domain: this.resourceService.resourceTemplateType$.getValue().domain,\n      resourceTypeId:\n        this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n      bookingType:\n        this.resourceService.resourceTemplateData$.getValue().bookingType,\n      timetable:\n        this.timepickerService.timetableList$.getValue().length > 0\n          ? this.timepickerService.timetableList$.getValue()\n          : !this.resourceService.resourceTemplateData$.getValue().timetable\n          ? []\n          : this.resourceService.resourceTemplateData$.getValue().timetable,\n      policy: this.resourceService.accommodationPolicy$.getValue()\n        ? Object.keys(this.resourceService.accommodationPolicy$.getValue())\n            .length === 0\n          ? this.resourceService.resourceTemplateData$.getValue().policy\n          : {\n              accommodationPolicy:\n                this.resourceService.accommodationPolicy$.getValue(),\n            }\n        : this.resourceService.resourceTemplateData$.getValue().policy,\n      externalUrl: this.resourceService.externalUrl$.getValue(),\n      sharedExperience: combineForms.value.sharedExperience,\n      forItinerary: combineForms.value.forItinerary,\n    };\n\n    console.log(\"FORM OBJ\", formObject);\n\n    if (this.resourceService.resourceId$.getValue()) {\n      this.updateResource(formObject, combineForms);\n      //added for policies check on menu\n      // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n      //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n      //             this.timepickerService.changePolicies$.getValue().modifiable ||\n      //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n      //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n      //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n      //         this.updateResource(formObject, combineForms);\n      //     } else {\n      //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n      //         this.isSubmitLoading$.next(false);\n      //     }\n      //     //if not menu, everything works like before\n      // } else {\n      //     this.updateResource(formObject, combineForms);\n      // }\n    }\n  }\n\n  updateResource(formObject: object, combineForms: any) {\n    this.resourceService\n      .updateResource(this.resourceService.resourceId$.getValue(), formObject)\n      .subscribe({\n        next: (data: any) => {\n          console.log(data);\n\n          const currentRelatedRes =\n            this.resourceService.relatedResources$.getValue();\n          const resourceRelatedRes =\n            this.resourceService.resourceTemplateData$.getValue()\n              ?.relatedResources;\n          if (\n            resourceRelatedRes?.length > 0 &&\n            currentRelatedRes?.length > 0 &&\n            currentRelatedRes[0]?.id === resourceRelatedRes[0]\n          ) {\n            // nu fac nimic\n          } else if (\n            resourceRelatedRes?.length > 0 &&\n            currentRelatedRes?.length > 0 &&\n            currentRelatedRes[0]?.id !== resourceRelatedRes[0]\n          ) {\n            this.$fileObservables.push(\n              this.resourceService.removeRelatedResource(\n                resourceRelatedRes[0],\n                this.resourceService.resourceId$.getValue()\n              )\n            );\n            this.$fileObservables.push(\n              this.resourceService.addRelatedresources(\n                this.resourceService.resourceId$.getValue(),\n                currentRelatedRes[0].id\n              )\n            );\n          } else if (\n            (resourceRelatedRes?.length === 0 || !resourceRelatedRes) &&\n            currentRelatedRes?.length > 0\n          ) {\n            this.$fileObservables.push(\n              this.resourceService.addRelatedresources(\n                this.resourceService.resourceId$.getValue(),\n                currentRelatedRes[0].id\n              )\n            );\n          } else if (\n            resourceRelatedRes?.length > 0 &&\n            currentRelatedRes?.length === 0\n          ) {\n            this.$fileObservables.push(\n              this.resourceService.removeRelatedResource(\n                resourceRelatedRes[0],\n                this.resourceService.resourceId$.getValue()\n              )\n            );\n          }\n\n          // console.log('IMAGINE', combineForms.value.thumbnail);\n          // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n          // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n          if (\n            combineForms.value.thumbnail &&\n            combineForms.value.thumbnail !==\n              this.resourceService.resourceData.getValue().featuredImage\n          ) {\n            const thumbnailData = new FormData();\n            thumbnailData.append(\"file\", combineForms.value.thumbnail);\n            this.$fileObservables.push(\n              this.resourceService.uploadResourceImage(\n                this.resourceService.resourceId$.getValue(),\n                thumbnailData\n              )\n            );\n          }\n\n          if (combineForms.value.images?.length > 0) {\n            const newImages = combineForms.value.images.filter(\n              (x) =>\n                this.resourceService.resourceData\n                  .getValue()\n                  .images.indexOf(x) === -1\n            );\n            console.log(\"Diferenta arrays\", newImages);\n\n            if (newImages.length > 0) {\n              const imagesData = new FormData();\n              newImages.forEach((galleryFile) => {\n                imagesData.append(\"files\", galleryFile);\n              });\n              this.$fileObservables.push(\n                this.resourceService.uploadDocAttachements(\n                  this.resourceService.resourceId$.getValue(),\n                  \"image\",\n                  imagesData\n                )\n              );\n            }\n          }\n\n          if (combineForms.value.videos?.length > 0) {\n            const newVideos = combineForms.value.videos.filter(\n              (x) =>\n                this.resourceService.resourceData\n                  .getValue()\n                  .videos.indexOf(x) === -1\n            );\n            console.log(\"Diferenta arrays\", newVideos);\n\n            if (newVideos.length > 0) {\n              const videosData = new FormData();\n              newVideos.forEach((videoFile) => {\n                videosData.append(\"files\", videoFile);\n              });\n              this.$fileObservables.push(\n                this.resourceService.uploadDocAttachements(\n                  this.resourceService.resourceId$.getValue(),\n                  \"video\",\n                  videosData\n                )\n              );\n            }\n          }\n\n          if (data.success) {\n            if (this.ticketService.createArray$.getValue().length > 0) {\n              // Create new tickets\n              this.$fileObservables.push(\n                this.ticketService.createTickets(\n                  this.resourceId,\n                  this.ticketService.createArray$.getValue()\n                )\n              );\n              // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n              //     next: (tickets: { success: boolean, reason: string }) => {\n              //         if (tickets.success) {\n              //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n              //             this.ticketService.createArray$.next([]);\n              //             console.log(this.ticketService.createArray$.getValue());\n              //         }\n              //     }\n              // })\n            } else {\n              console.log(\"n-am in create\");\n            }\n\n            if (this.ticketService.updateArray$.getValue().length > 0) {\n              console.log(\"am in update\");\n              //Update tickets\n              const updateArray = this.ticketService.updateArray$.getValue();\n              updateArray.forEach((ticket) => {\n                this.$fileObservables.push(\n                  this.ticketService.updateTicket(ticket.id, ticket)\n                );\n                // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                //     next: (tickets: { success: boolean, reason: string }) => {\n                //         if (tickets.success) {\n                //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                //             this.ticketService.updateArray$.next([]);\n                //         }\n                //     }\n                // })\n              });\n            } else {\n              console.log(\"n-am in update\");\n            }\n\n            if (this.ticketService.deleteArray$.getValue().length > 0) {\n              //Delete tickets\n              const deleteArray = this.ticketService.deleteArray$.getValue();\n              deleteArray.forEach((ticket) => {\n                // console.log('ticket de sters', ticket)\n                this.$fileObservables.push(\n                  this.ticketService.deleteTicket(ticket.id)\n                );\n                // this.ticketService.deleteTicket(ticket.id).subscribe({\n                //     next: (tickets: { success: boolean, reason: string }) => {\n                //         if (tickets.success) {\n                //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                //             this.ticketService.deleteArray$.next([]);\n                //         }\n                //     },\n                //     error: err => {\n                //         console.log(err);\n                //     }\n                //\n                // })\n              });\n            }\n\n            if (this.productService.productsList$.getValue().length > 0) {\n              const prodArray = this.productService.productsList$.getValue();\n              prodArray.forEach((product) => {\n                if (product.state === \"add\") {\n                  this.productService\n                    .createProduct(this.resourceId, product)\n                    .subscribe({\n                      next: (respAdd: { success: boolean; reason: string }) => {\n                        if (respAdd) {\n                          const imagArray =\n                            this.productService.imagesArray$.getValue();\n                          console.log(\"array\", imagArray);\n                          imagArray.forEach((imageObj) => {\n                            if (product.id === imageObj.id) {\n                              console.log(\n                                \"imaginea cu id-ul \" +\n                                  product.id +\n                                  \" va avea astea\",\n                                imageObj\n                              );\n                              if (imageObj.imageFile !== undefined) {\n                                const thumbnailData = new FormData();\n                                thumbnailData.append(\n                                  \"images\",\n                                  imageObj.imageFile\n                                );\n                                console.log(\"thumb data\", thumbnailData);\n\n                                // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                this.productService\n                                  .uploadImageForProduct(\n                                    respAdd.reason,\n                                    thumbnailData\n                                  )\n                                  .subscribe({\n                                    next: (thumb) => {\n                                      console.log(\"thumbnail uploadat\", thumb);\n                                    },\n                                    error: (error) => {\n                                      if (\n                                        error.error.reason === \"fileSizeTooBig\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\",\n                                          \"error\"\n                                        );\n                                      } else if (\n                                        error.error.reason === \"wrongExtension\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Formatul fisierului nu este permis!\",\n                                          \"error\"\n                                        );\n                                      } else {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"A aparut o problemă la încărcarea imaginii!\",\n                                          \"error\"\n                                        );\n                                      }\n                                    },\n                                  });\n                              }\n\n                              this.productService.imagesArray$.next([]);\n                            }\n                          });\n\n                          const attachArray =\n                            this.productService.attachmentArray$.getValue();\n                          attachArray.forEach((attach) => {\n                            console.log(\"ATTACHMENT\", attach);\n                            if (product.id === attach.id) {\n                              console.log(\n                                \"imaginea cu id-ul \" +\n                                  product.id +\n                                  \" va avea astea\",\n                                attach\n                              );\n                              if (attach.attachmentFile !== undefined) {\n                                const thumbnailData = new FormData();\n                                thumbnailData.append(\n                                  \"file\",\n                                  attach.attachmentFile\n                                );\n                                console.log(\"thumb data\", thumbnailData);\n\n                                // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                this.productService\n                                  .uploadAttachmentForProduct(\n                                    respAdd.reason,\n                                    thumbnailData\n                                  )\n                                  .subscribe({\n                                    next: (thumb) => {\n                                      console.log(\"attachment uploadat\", thumb);\n                                    },\n                                    error: (error) => {\n                                      if (\n                                        error.error.reason === \"fileSizeTooBig\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\",\n                                          \"error\"\n                                        );\n                                      } else if (\n                                        error.error.reason === \"wrongExtension\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Formatul fisierului nu este permis!\",\n                                          \"error\"\n                                        );\n                                      } else {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"A aparut o problemă la încărcarea imaginii!\",\n                                          \"error\"\n                                        );\n                                      }\n                                    },\n                                  });\n                              }\n\n                              this.productService.attachmentArray$.next([]);\n                            }\n                          });\n                        }\n                      },\n                    });\n                } else if (product.state === \"update\") {\n                  this.productService\n                    .updateProduct(product.id, product)\n                    .subscribe({\n                      next: (respUpdate: {\n                        success: boolean;\n                        reason: string;\n                      }) => {\n                        console.log(\"update prod\", respUpdate);\n                        if (respUpdate) {\n                          const imagArray =\n                            this.productService.imagesArray$.getValue();\n                          console.log(\"array\", imagArray);\n                          imagArray.forEach((imageObj) => {\n                            if (product.id === imageObj.id) {\n                              console.log(\n                                \"imaginea cu id-ul \" +\n                                  product.id +\n                                  \" va avea astea\",\n                                imageObj\n                              );\n                              if (imageObj.imageFile !== undefined) {\n                                const thumbnailData = new FormData();\n                                thumbnailData.append(\n                                  \"images\",\n                                  imageObj.imageFile\n                                );\n                                console.log(\"thumb data\", thumbnailData);\n\n                                // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                this.productService\n                                  .uploadImageForProduct(\n                                    product.id,\n                                    thumbnailData\n                                  )\n                                  .subscribe({\n                                    next: (thumb) => {\n                                      console.log(\"thumbnail uploadat\", thumb);\n                                    },\n                                    error: (error) => {\n                                      if (\n                                        error.error.reason === \"fileSizeTooBig\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\",\n                                          \"error\"\n                                        );\n                                      } else if (\n                                        error.error.reason === \"wrongExtension\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Formatul fisierului nu este permis!\",\n                                          \"error\"\n                                        );\n                                      } else {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"A aparut o problemă la încărcarea imaginii!\",\n                                          \"error\"\n                                        );\n                                      }\n                                    },\n                                  });\n                              }\n\n                              this.productService.imagesArray$.next([]);\n                            }\n                          });\n\n                          const attachArray =\n                            this.productService.attachmentArray$.getValue();\n                          attachArray.forEach((attach) => {\n                            console.log(\"ATTACHMENT\", attach);\n                            if (product.id === attach.id) {\n                              console.log(\n                                \"imaginea cu id-ul \" +\n                                  product.id +\n                                  \" va avea astea\",\n                                attach\n                              );\n                              if (attach.attachmentFile !== undefined) {\n                                const thumbnailData = new FormData();\n                                thumbnailData.append(\n                                  \"file\",\n                                  attach.attachmentFile\n                                );\n                                console.log(\"thumb data\", thumbnailData);\n\n                                // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                this.productService\n                                  .uploadAttachmentForProduct(\n                                    product.id,\n                                    thumbnailData\n                                  )\n                                  .subscribe({\n                                    next: (thumb) => {\n                                      console.log(\"attachment uploadat\", thumb);\n                                    },\n                                    error: (error) => {\n                                      if (\n                                        error.error.reason === \"fileSizeTooBig\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\",\n                                          \"error\"\n                                        );\n                                      } else if (\n                                        error.error.reason === \"wrongExtension\"\n                                      ) {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"Formatul fisierului nu este permis!\",\n                                          \"error\"\n                                        );\n                                      } else {\n                                        this.toastService.showToast(\n                                          \"Eroare\",\n                                          \"A aparut o problemă la încărcarea atasamentului!\",\n                                          \"error\"\n                                        );\n                                      }\n                                    },\n                                  });\n                              }\n\n                              this.productService.attachmentArray$.next([]);\n                            }\n                          });\n                        }\n                      },\n                    });\n                }\n              });\n            }\n\n            //product list\n            if (this.productService.deleteProdList$.getValue().length > 0) {\n              const deleteProdArray =\n                this.productService.deleteProdList$.getValue();\n              deleteProdArray.forEach((product) => {\n                this.productService.deleteProduct(product.id).subscribe({\n                  next: (respAdd: { success: boolean; reason: string }) => {\n                    if (respAdd) {\n                      const imagArray =\n                        this.productService.imagesArray$.getValue();\n                      console.log(\"array\", imagArray);\n                      imagArray.forEach((imageObj) => {\n                        if (product.id === imageObj.id) {\n                          console.log(\n                            \"imaginea cu id-ul \" +\n                              product.id +\n                              \" va avea astea\",\n                            imageObj\n                          );\n                          if (imageObj.imageFile !== undefined) {\n                            const thumbnailData = new FormData();\n                            thumbnailData.append(\"images\", imageObj.imageFile);\n                            console.log(\"thumb data\", thumbnailData);\n\n                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                            this.productService\n                              .uploadImageForProduct(\n                                respAdd.reason,\n                                thumbnailData\n                              )\n                              .subscribe({\n                                next: (thumb) => {\n                                  console.log(\"thumbnail uploadat\", thumb);\n                                },\n                                error: (error) => {\n                                  if (error.error.reason === \"fileSizeTooBig\") {\n                                    this.toastService.showToast(\n                                      \"Eroare\",\n                                      \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\",\n                                      \"error\"\n                                    );\n                                  } else if (\n                                    error.error.reason === \"wrongExtension\"\n                                  ) {\n                                    this.toastService.showToast(\n                                      \"Eroare\",\n                                      \"Formatul fisierului nu este permis!\",\n                                      \"error\"\n                                    );\n                                  } else {\n                                    this.toastService.showToast(\n                                      \"Eroare\",\n                                      \"A aparut o problemă la încărcarea imaginii!\",\n                                      \"error\"\n                                    );\n                                  }\n                                },\n                              });\n                          }\n\n                          this.productService.imagesArray$.next([]);\n                        }\n                      });\n                    }\n                  },\n                });\n              });\n            }\n\n            //service time slot\n            if (this.timeslotService.serviceList$.getValue().length > 0) {\n              const serviceArray = this.timeslotService.serviceList$.getValue();\n              serviceArray.forEach((service) => {\n                if (service.state === \"add\") {\n                  this.$fileObservables.push(\n                    this.timeslotService.createService(this.resourceId, service)\n                  );\n                } else if (service.state === \"update\") {\n                  this.$fileObservables.push(\n                    this.timeslotService.updateServiceByServiceId(\n                      service.id,\n                      service\n                    )\n                  );\n                }\n              });\n            }\n\n            if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n              const deleteServArray =\n                this.timeslotService.deleteServiceList$.getValue();\n              deleteServArray.forEach((service) => {\n                this.$fileObservables.push(\n                  this.timeslotService.deleteService(service.id)\n                );\n              });\n            }\n\n            //rental-booking\n            if (this.roomsArray.length > 0) {\n              this.roomsArray.forEach((room) => {\n                if (room.state === \"add\") {\n                  this.roomService\n                    .createRoom(\n                      this.resourceService.resourceId$.getValue(),\n                      room\n                    )\n                    .subscribe({\n                      next: (resp: { success: boolean; reason: string }) => {\n                        // console.log('adaugare camera pe edit resursa', resp);\n                        if (resp.success) {\n                          const imagArray =\n                            this.roomService.imagesArray$.getValue();\n                          console.log(\"array\", imagArray);\n                          imagArray.forEach((imageObj) => {\n                            if (room.id === imageObj.id) {\n                              console.log(\n                                \"imaginea cu id-ul \" +\n                                  room.id +\n                                  \" va avea astea\",\n                                imageObj\n                              );\n                              if (imageObj.featuredImage !== undefined) {\n                                const thumbnailData = new FormData();\n                                thumbnailData.append(\n                                  \"file\",\n                                  imageObj.featuredImage\n                                );\n                                console.log(\"thumb data\", thumbnailData);\n\n                                // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                this.roomService\n                                  .uploadRoomThumbnail(\n                                    resp.reason,\n                                    thumbnailData\n                                  )\n                                  .subscribe({\n                                    next: (thumb) => {\n                                      console.log(\"thumbnail uploadat\", thumb);\n                                    },\n                                  });\n                              }\n\n                              if (imageObj.gallery.length > 0) {\n                                const imagesData = new FormData();\n                                imageObj.gallery.forEach((galleryFile) => {\n                                  if (galleryFile.state === \"upload\") {\n                                    imagesData.append(\n                                      \"images\",\n                                      galleryFile.file\n                                    );\n                                  }\n                                });\n\n                                // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                this.roomService\n                                  .uploadRoomGallery(resp.reason, imagesData)\n                                  .subscribe({\n                                    next: (gallery) => {\n                                      console.log(\"galerie uploadata\", gallery);\n                                    },\n                                  });\n                              }\n\n                              this.roomService.imagesArray$.next([]);\n                            }\n                          });\n                        }\n                      },\n                    });\n                } else if (room.state === \"update\") {\n                  this.roomService.updateRoom(room.id, room).subscribe({\n                    next: (resp: { success: boolean; reason: string }) => {\n                      // console.log('editare camera pe edit resursa', resp);\n                      const imagArray =\n                        this.roomService.imagesArray$.getValue();\n                      console.log(\"array\", imagArray);\n                      imagArray.forEach((imageObj) => {\n                        if (room.id === imageObj.id) {\n                          console.log(\n                            \"imaginea cu id-ul \" + room.id + \" va avea astea\",\n                            imageObj\n                          );\n                          if (imageObj.featuredImage !== undefined) {\n                            const thumbnailData = new FormData();\n                            thumbnailData.append(\n                              \"file\",\n                              imageObj.featuredImage\n                            );\n                            console.log(\"thumb data\", thumbnailData);\n\n                            // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                            this.roomService\n                              .uploadRoomThumbnail(room.id, thumbnailData)\n                              .subscribe({\n                                next: (thumb) => {\n                                  console.log(\"thumbnail uploadat\", thumb);\n                                },\n                              });\n                          }\n\n                          if (imageObj.gallery.length > 0) {\n                            console.log(\"inainte de gall\", imageObj.gallery);\n                            const imagesData = new FormData();\n                            imageObj.gallery.forEach((galleryFile) => {\n                              if (galleryFile.state === \"upload\") {\n                                imagesData.append(\"images\", galleryFile.file);\n                              }\n                            });\n\n                            // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                            this.roomService\n                              .uploadRoomGallery(room.id, imagesData)\n                              .subscribe({\n                                next: (gallery) => {\n                                  console.log(\"galerie uploadata\", gallery);\n                                },\n                              });\n                          }\n\n                          this.roomService.imagesArray$.next([]);\n                        }\n                      });\n                    },\n                  });\n                }\n              });\n            }\n\n            if (this.roomService.deleteArray$.getValue().length > 0) {\n              const deleteRooms = this.roomService.deleteArray$.getValue();\n              deleteRooms.forEach((room) => {\n                this.$fileObservables.push(\n                  this.roomService.deleteRoom(room.id)\n                );\n                // this.roomService.deleteRoom(room.id).subscribe({\n                //     next: (resp: { success: boolean, reason: string }) => {\n                //         console.log('stergere camera', resp);\n                //         if (resp.success) {\n                //             this.roomService.deleteArray$.next([]);\n                //         }\n                //     }\n                // })\n              });\n            }\n\n            // cultural booking\n            if (\n              this.currentBookingType === \"culturalBooking\" &&\n              this.culturalBookingService.culturalRoom$.getValue()\n            ) {\n              const modifiedCulturalRoom =\n                this.culturalBookingService.culturalRoom$.getValue();\n              this.$fileObservables.push(\n                this.culturalBookingService.updateCulturalRoom(\n                  modifiedCulturalRoom.id,\n                  modifiedCulturalRoom\n                )\n              );\n            }\n\n            //menu-booking\n            if (\n              this.currentBookingType === \"menu\" &&\n              this.timepickerService.timepickerId$.getValue()\n            ) {\n              console.log(\n                \"TIMEPICKER\",\n                this.timepickerService.timePicker$.getValue()\n              );\n              const timePicker = {\n                timetables: this.timepickerService.getFreeEntry()\n                  ? []\n                  : this.timepickerService.timePicker$.getValue().timetables,\n                changePolicies:\n                  this.timepickerService.changePolicies$.getValue(),\n                bookingPolicies:\n                  this.timepickerService.bookingPolicies$.getValue(),\n                ignoreAvailability: this.timepickerService.getFreeEntry(),\n              };\n              console.log(\n                \"TIMEPICKER\",\n                this.timepickerService.timePicker$.getValue()\n              );\n\n              this.$fileObservables.push(\n                this.timepickerService.updateTimepicker(\n                  this.timepickerService.timepickerId$.getValue(),\n                  timePicker\n                )\n              );\n\n              console.log(\"TIME PICKER ON\", timePicker);\n\n              //to check\n              // if(this.timepickerService.timepickerId$.getValue()){\n              //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n              //\n              // }else{\n              //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n              // }\n            }\n\n            //menu\n            if (this.currentBookingType === \"menu\") {\n              console.log(\"menuList\", this.menuService.menuList$.getValue());\n              console.log(\n                \"menu id\",\n                this.resourceService.resourceTemplateData$.getValue().menuId\n              );\n              console.log(\"menu id\", this.menuService.menuId$.getValue());\n              if (\n                this.menuService.menuId$.getValue() &&\n                this.menuService.menuList$.getValue().length > 0\n              ) {\n                this.$fileObservables.push(\n                  this.menuService.updateMenu(\n                    this.menuService.menuId$.getValue(),\n                    this.menuService.menuList$.getValue()\n                  )\n                );\n              } else {\n                if (this.menuService.menuList$.getValue().length > 0) {\n                  this.$fileObservables.push(\n                    this.menuService.createMenu(\n                      this.resourceId,\n                      this.menuService.menuList$.getValue()\n                    )\n                  );\n                }\n              }\n            }\n          }\n\n          if (this.$fileObservables.length > 0) {\n            forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n              this.toastService.showToast(\n                \"succes\",\n                \"Resursa a fost actualizată cu succes\",\n                \"success\"\n              );\n              setTimeout(() => {\n                if (this.isProvider) {\n                  this.isSubmitLoading$.next(false);\n                  this.router.navigate(\n                    [\"/private/provider/resources/my-list\"],\n                    { state: { submit: true } }\n                  );\n                } else if (this.isStaff) {\n                  this.isSubmitLoading$.next(false);\n                  this.router.navigate([\"/private/staff/resources/list\"], {\n                    state: { submit: true },\n                  });\n                } else if (this.isAdmin) {\n                  this.isSubmitLoading$.next(false);\n                  this.router.navigate([\"/private/admin/resources/list\"], {\n                    state: { submit: true },\n                  });\n                }\n              }, 3000);\n            });\n          } else {\n            this.toastService.showToast(\n              \"succes\",\n              \"Resursa a fost actualizată cu succes\",\n              \"success\"\n            );\n            setTimeout(() => {\n              if (this.isProvider) {\n                this.isSubmitLoading$.next(false);\n                this.router.navigate([\"/private/provider/resources/my-list\"], {\n                  state: { submit: true },\n                });\n              } else if (this.isStaff) {\n                this.isSubmitLoading$.next(false);\n                this.router.navigate([\"/private/staff/resources/list\"], {\n                  state: { submit: true },\n                });\n              } else if (this.isAdmin) {\n                this.isSubmitLoading$.next(false);\n                this.router.navigate([\"/private/admin/resources/list\"], {\n                  state: { submit: true },\n                });\n              }\n            }, 3000);\n          }\n        },\n        error: (error) => {\n          this.toastService.showToast(\n            \"Eroare\",\n            \"A aparut o problema tehnica!\",\n            \"error\"\n          );\n          this.isSubmitLoading$.next(false);\n          console.log(error);\n        },\n      });\n  }\n\n  ngOnDestroy() {\n    this.routeSub?.unsubscribe();\n  }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {StepperService} from \"../../../../_services/stepper.service\";\nimport {ResourcesService} from \"../../../../_services/resources.service\";\nimport {Property} from \"../../../../../../app.models\";\nimport {Attribute} from \"../../../../../../shared/_models/attribute.model\";\nimport {SystemSetting} from \"../../../../../../shared/_models/system-setting.model\";\nimport {SystemSettingsService} from \"../../../../../../shared/_services/system-settings.service\";\nimport {attributes} from \"ngx-editor/lib/plugins\";\nimport {debug} from \"util\";\nimport {BehaviorSubject, forkJoin, Observable, Subject, Subscription, takeUntil} from \"rxjs\";\nimport {GenericPagination} from \"../../../../../../shared/_models/generic-pagination.model\";\nimport {UserDataService} from \"../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../shared/_services/createResource.service\";\nimport {MenuService} from \"../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../_services/cultural-booking.service\";\nimport * as moment from \"moment/moment\";\n\n@Component({\n    selector: 'app-general-informations',\n    templateUrl: './general-informations.component.html',\n    styleUrls: ['./general-informations.component.scss']\n})\nexport class GeneralInformationsComponent implements OnInit, OnDestroy {\n\n    form: FormGroup = this.resourceService.generalInformationForm$.getValue();\n    formSections = [];\n    formSectionsToSend = [];\n    facilitiesTab = {};\n    geographicalCoordinates: boolean;\n    countries = [];\n    cities = [];\n    // Form\n    templateForm = new FormGroup({\n        domain: new FormControl('', Validators.required),\n        categoryId: new FormControl('', Validators.required),\n        resourceTypeId: new FormControl('', Validators.required)\n    })\n\n    tripsAndItineraries = [];\n    tripsAndItinAttributes = [];\n    dataLoaded = false;\n\n    tripsItinObj: {\n        journeyThemeCategoryId: string,\n        typeOfDestinationCategoryId: string,\n        typeOfJourneyCategoryId: string\n    }\n\n    hasSharedExperience = false;\n    hasForItinerary = false;\n    hasStartEndDates = false;\n\n    /*today = new Date();\n    currentDay = moment(\n        this.today.setMinutes(Math.ceil(this.today.getMinutes() / 15 + ((this.today.getMinutes() % 15) === 0 ? 1 : 0)) * 15),\n        'DD MM YYYY HH:mm'\n    );*/\n    currentDay = moment();\n\n\n    canCreateAttr = false;\n\n    private ngUnsubscribe = new Subject<void>();\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n\n    constructor(private stepperService: StepperService, private resourceService: ResourcesService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n\n    ngOnInit() {\n\n        console.log('DATA ON INIT', this.form.value);\n        console.log('DATA ON INIT FROM SERV', this.resourceService.generalInformationForm$.getValue().value);\n        console.log('RESOURCE TEMPLATE DATA', this.resourceService.resourceTemplateData$.getValue().value);\n\n\n        // if (this.resourceService.resourceId$.getValue()) {\n        //     this.getCities(this.resourceService.resourceTemplateData$.getValue().country);\n        // }\n\n        this.formSections = [];\n        this.formSectionsToSend = [];\n        this.tripsAndItinAttributes = [];\n        this.getCountries();\n        this.createManualInputs();\n\n        console.log('GENERAL INFO DE LA SERV 1', this.resourceService.generalInformationForm$.getValue())\n\n        console.log('GENERAL-INFO', this.resourceService.resourceTemplateData$.getValue())\n        this.tripsItinObj = this.resourceService.tripsItinerariesObject$.getValue();\n        // console.log('OBJECT', this.tripsItinObj);\n        this.tripsAndItineraries = this.resourceService.settingsTripsItineraries$.getValue();\n        // Check if the resource have coordinates\n        this.geographicalCoordinates = this.resourceService.resourceTemplateData$.getValue().geographicalCoordinates;\n        // this.formSections = this.resourceService.attributesFromResourceTemplate$.getValue().filter(item => item.tabName !== 'facilities');\n\n\n        // console.log('again',this.formSections);\n\n        // this.form.addControl('title', new FormControl('title', Validators.required));\n        // this.form.addControl('description', new FormControl('descr', Validators.required));\n        // this.form.addControl('address', new FormControl('adress', Validators.required));\n        // this.form.addControl('country', new FormControl('country', Validators.required));\n        // this.form.addControl('city', new FormControl('city', Validators.required));\n        // this.form.addControl('latitude', new FormControl('13254', Validators.required));\n        // this.form.addControl('longitude', new FormControl('654', Validators.required));\n\n        // Form Sections - Filtered\n\n        //TO CHECK\n        this.resourceService.getAttributesData()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n                next: attributes => {\n                    if (attributes === undefined) {\n                        console.log(attributes)\n                        this.formSections = [];\n                        this.formSectionsToSend = [];\n                        this.tripsAndItinAttributes = [];\n                    } else {\n                        this.tripsAndItinAttributes = [];\n                        this.formSections = attributes;\n                        const facilities = attributes.filter(item => item.tabName === 'facilities');\n                        this.facilitiesTab = facilities[0];\n                        this.createDynamicForm(attributes);\n                    }\n\n\n                }\n            })\n\n        // this.resourceService.listenForGeneralInfo()\n        //     .pipe(takeUntil(this.ngUnsubscribe))\n        //     .subscribe({\n        //         next: listener => {\n        //             //  console.log('LISTENER AICI', listener)\n        //             if (listener) {\n        //                 this.form.markAllAsTouched();\n        //                 if (this.form.valid) {\n        //                     // this.makeFormSectionsToSend();\n        //                 } else {\n        //                     return\n        //                 }\n        //             }\n        //         }\n        //     })\n\n\n        // this.createDynamicForm(this.formSections);\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n    }\n\n\n    /** Input Column Creator*/\n    columnSize(size) {\n        switch (size) {\n            case 'full_row':\n                return 'col-12'\n            case 'half_row':\n                return 'col-md-6 col-12'\n            default:\n                return 'col-12'\n        }\n    }\n\n    createManualInputs() {\n\n        this.form = this.resourceService.generalInformationForm$.getValue();\n        console.log('initial form', {...this.form.value});\n        console.log('initial state', {...this.resourceService.generalInformationForm$.getValue().value});\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.getCities(this.form.value.country);\n        }\n        // else if (this.form.value.country) {\n        //     this.getCities(this.form.value.country);\n        // }\n\n        if ( this.resourceService.resourceTemplateData$.getValue().bookingType === 'serviceBookingTimeSlots') {\n            //  console.log('E IN TRAVEL');\n            console.log('E IN TRAVEL', this.resourceService.travelId$.getValue());\n            this.form.addControl('sharedExperience', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().sharedExperience : null))\n            this.hasSharedExperience = true;\n        } else {\n            this.hasSharedExperience = false;\n        }\n\n        console.log('general info form', this.form.value);\n\n        //if healthcare or education domain, hide \"used for itineraries\"\n        if ((this.resourceService.medicalId$.getValue() === this.resourceService.resourceTemplateType$.getValue().domain) || (this.resourceService.educationId$.getValue() === this.resourceService.resourceTemplateType$.getValue().domain)) {\n            this.form.addControl('forItinerary', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().forItinerary : null))\n            this.hasForItinerary = true;\n        } else {\n            this.hasForItinerary = false;\n        }\n\n        // Create Manual Inputs\n        this.form.addControl('title', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().title : null, Validators.required));\n        this.form.addControl('description', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().description : null, Validators.required));\n        this.form.addControl('address', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().address : null, Validators.required));\n        this.form.addControl('country', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().country : null, Validators.required));\n        this.form.addControl('city', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().city : null, Validators.required));\n        this.form.addControl('sharedExperience', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().sharedExperience : null));\n        this.form.addControl('forItinerary', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().forItinerary : null));\n\n        if (this.resourceService.resourceTemplateData$.getValue().bookingType === 'culturalBooking') {\n            this.form.addControl(\n                'startDate',\n                new FormControl(this.resourceService.resourceId$.getValue()\n                    ? moment(this.resourceService.resourceTemplateData$.getValue().startDate).format('YYYY-MM-DDTHH:mm')\n                    : this.currentDay.format('YYYY-MM-DDTHH:mm'), Validators.required));\n            this.form.addControl(\n                'endDate',\n                new FormControl(this.resourceService.resourceId$.getValue()\n                    ? moment(this.resourceService.resourceTemplateData$.getValue().endDate).format('YYYY-MM-DDTHH:mm')\n                    : this.currentDay.format('YYYY-MM-DDTHH:mm'), Validators.required));\n            this.hasStartEndDates = true;\n        } else {\n            this.hasStartEndDates = false;\n        }\n        // this.form.addControl('latitude', new FormControl(this.resourceService.resourceTemplateData$.getValue().geographicalCoordinates?.latitude));\n        // this.form.addControl('longitude', new FormControl(this.resourceService.resourceTemplateData$.getValue().geographicalCoordinates?.longitude));\n\n        this.form.addControl('latitude', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().geographicalCoordinates?.latitude : 0));\n        this.form.addControl('longitude', new FormControl(this.resourceService.resourceId$.getValue() ? this.resourceService.resourceTemplateData$.getValue().geographicalCoordinates?.longitude : 0));\n        // this.dataLoaded = true;\n        // console.log('GENERAL INFO DE LA SERV', this.resourceService.generalInformationForm$.getValue())\n        console.log('after form', {...this.form.value});\n        console.log('after state',{...this.resourceService.generalInformationForm$.getValue().value});\n    }\n\n    /** Create Dynamic Form */\n    createDynamicForm(formSection) {\n\n        // Loop through from Sections\n\n        // console.log('create trips', this.tripsAndItinAttributes)\n\n        this.formSections = formSection.filter(item => item.tabName !== 'facilities');\n        // console.log('create sections', this.formSections)\n        for (const section of formSection) {\n            // Loop through section attributes\n            for (const inputField of section.tabAttributes) {\n\n                if (this.form.contains(inputField.name)) {\n                    if (inputField.valueType === 'multiple-select') {\n                        let multipleValue: [] = this.form.get(inputField.name).value;\n                        console.log('MULTIPLE SELECT', multipleValue, Array.isArray(multipleValue))\n                        if(Array.isArray(multipleValue)){\n                            this.form.get(inputField.name).patchValue(multipleValue);\n                        }else{\n                            this.form.get(inputField.name).patchValue((multipleValue as string).split(','));\n\n                        }\n                        // this.form.get(inputField.name).patchValue(multipleValue.length > 0 ? multipleValue.split(',') : []);\n                    }\n                    const findTripIndex = this.tripsAndItineraries.find(attr => attr === inputField.categoryId);\n                    // if (findTripIndex && section.tabName === 'general_info') {\n                    //     this.tripsAndItinAttributes.push(inputField);\n                    //     console.log('TRIPS LALA 1', this.tripsAndItinAttributes);\n                    //     const sectionsFiltered = section.tabAttributes.filter(attr => attr.id !== inputField.id);\n                    //     // console.log('filter',sectionsFiltered)\n                    //     this.formSections.map(sectionToChange => {\n                    //         if (sectionToChange.tabName === 'general_info') {\n                    //             return sectionToChange.tabAttributes = sectionsFiltered;\n                    //         }\n                    //     })\n                    //\n                    // }\n                } else {\n                    if (inputField.valueType === 'toggle') {\n                        this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : 'false'));\n                    } else if (inputField.valueType === 'multiple-select') {\n                        console.log('MULTIPLE SELECT FIRST', inputField.attributeValue)\n                        this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? (inputField.attributeValue).split(',') : []))\n                    }\n\n                    this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : '', inputField.propertyRequired ? Validators.required : null));\n                    const findTripIndex = this.tripsAndItineraries.find(attr => attr === inputField.categoryId);\n                    // if (findTripIndex && section.tabName === 'general_info') {\n                    //     this.tripsAndItinAttributes.push(inputField);\n                    //     console.log('TRIPS LALA 2', this.tripsAndItinAttributes);\n                    //     const sectionsFiltered = section.tabAttributes.filter(attr => attr.id !== inputField.id);\n                    //     // console.log('filter',sectionsFiltered)\n                    //     this.formSections.map(sectionToChange => {\n                    //         if (sectionToChange.tabName === 'general_info') {\n                    //             return sectionToChange.tabAttributes = sectionsFiltered;\n                    //         }\n                    //     })\n                    //\n                    // }\n\n                }\n\n\n            }\n\n\n        }\n        // // this.dataLoaded = true;\n        // console.log('lalallaalal', this.formSections);\n        // console.log('FORM', this.form.value);\n        console.log('trips ATRTR', this.tripsAndItinAttributes);\n\n    }\n\n    makeFormSectionsToSend() {\n        this.formSectionsToSend = [];\n        this.formSectionsToSend = this.formSections;\n        this.formSectionsToSend.push(this.facilitiesTab);\n        this.formSectionsToSend.map(section => {\n            if (section.tabName === 'general_info') {\n                this.tripsAndItinAttributes.forEach(attr => {\n                    attr = {\n                        ...attr,\n                        attributeValue: this.form.get(attr.name).value\n                    }\n                    return section.tabAttributes.push(attr)\n                })\n            } else {\n                try {\n                    section.tabAttributes.forEach(attribute => {\n                        if (attribute.valueType === 'multiple-select') {\n                            this.form.get(attribute.name).patchValue(this.form?.get(attribute.name).value.join());\n                        }\n\n                    })\n                } catch (error) {\n                }\n\n            }\n\n        })\n\n        // console.log('to send', this.formSectionsToSend);\n    }\n\n    getCountries() {\n\n        this.resourceService.getAllCountries().subscribe({\n            next: (countries: []) => {\n                this.countries = countries;\n            }\n        })\n    }\n\n\n    getCities(event) {\n        if (event?.value) {\n            this.form.get('latitude').patchValue(0);\n            this.form.get('longitude').patchValue(0);\n        }\n\n        const country = {\n            country: event?.value ? event.value : event\n        }\n        this.resourceService.getCityFilter(0, -1, null, null, country).subscribe({\n            next: (cities: any) => {\n                console.log(cities);\n                this.cities = cities.content;\n            }\n        })\n    }\n\n    getCoordinates(event) {\n        const name = {\n            name: event.value\n        }\n        this.resourceService.getCityFilter(0, -1, null, null, name).subscribe({\n            next: (city: any) => {\n                this.form.get('latitude').patchValue(city.content[0].geographicalCoordinates.latitude);\n                this.form.get('longitude').patchValue(city.content[0].geographicalCoordinates.longitude);\n            }\n        })\n\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n\n        // // Mark as touched\n        this.form.markAllAsTouched()\n\n        this.makeFormSectionsToSend();\n\n        // // Check form validation\n        if (this.form.invalid) {\n            return\n        }\n\n        // Go the next step\n        this.stepperService.nextStep();\n        // console.log(this.form.value)\n        // this.resourceService.attributesFromResourceTemplate$.next(this.formSectionsToSend);\n        // console.log('allalalalla', this.resourceService.attributesFromResourceTemplate$.getValue())\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        console.log('start date', combineForms.value?.startDate);\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : this.resourceService.resourceTemplateData$.getValue()?.bookingPolicies,\n            startDate:  (combineForms.value?.startDate !== 'Invalid date' && this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            endDate: (combineForms.value?.endDate !== 'Invalid date' &&  this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n\n                const currentRelatedRes = this.resourceService.relatedResources$.getValue();\n                const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id === resourceRelatedRes[0]){\n                    // nu fac nimic\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id !== resourceRelatedRes[0]){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && currentRelatedRes?.length > 0){\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length === 0){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                }\n\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea atasamentului!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n        this.routeSub?.unsubscribe();\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../_services/stepper.service\";\nimport {FormGroup} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../_services/resources.service\";\nimport {RentalBookingService} from \"../../../../_services/rental-booking.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ToastService} from \"../../../../../../shared/_services/toast.service\";\nimport {type} from \"os\";\nimport {Router} from \"@angular/router\";\nimport {UserDataService} from \"../../../../../../shared/_services/userData.service\";\nimport {TicketsBookingService} from \"../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../_services/booking-timeslots.service\";\nimport {CreateResourceService} from \"../../../../../../shared/_services/createResource.service\";\nimport {MenuService} from \"../../../../_services/menu.service\";\nimport {User} from \"../../../../../../shared/_models/user.model\";\nimport {CulturalBookingService} from \"../../../../_services/cultural-booking.service\";\nimport moment from \"moment\";\n\n@Component({\n    selector: 'app-payment',\n    templateUrl: './payment.component.html',\n    styleUrls: ['./payment.component.scss']\n})\nexport class PaymentComponent implements OnInit {\n\n    isStaff: boolean;\n    isAdmin: boolean;\n    isProvider: boolean;\n\n    currentResourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n\n    commission = 0;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    constructor(private resourceService: ResourcesService,\n                private stepperService: StepperService,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private toastService: ToastService,\n                private router: Router,\n                private userService: UserDataService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private createResourceService: CreateResourceService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n\n    }\n\n    $fileObservables: Observable<object>[] = [];\n\n    ngOnInit() {\n\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n                this.commission = response?.percentageCommission;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n                this.getCommission();\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n                this.getCommission();\n            }\n        })\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.currentResourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n    }\n\n\n    getCommission() {\n        if (this.isStaff || this.isAdmin) {\n            if (this.createResourceService.providerData$.getValue()) {\n                const providerId = this.createResourceService.providerData$.getValue().providerId;\n                console.log('prov id', providerId);\n                this.userService.getUserById(providerId).subscribe({\n                    next: (provider: User) => {\n                        this.commission = provider?.percentageCommission;\n                    }\n                })\n            }\n\n        }\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.isSubmitLoading$.next(true);\n\n        console.log('LAST STEP');\n\n        // // Mark as touched\n        // this.form.markAllAsTouched()\n        //\n        // // Check form validation\n        // if (this.form.invalid) {\n        //     return\n        // }\n\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if(attribute.valueType === 'multiple-select'){\n                            console.log('ATTR SENT',attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value ,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }else{\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n\n\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        const accomodationPolicy = {\n            accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()\n        }\n\n        console.log('payment end date', combineForms.value?.startDate);\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail ? combineForms.value.thumbnail : {filePath: null, fileName: null},\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : null,\n                startDate:  (combineForms.value?.startDate !== 'Invalid date' && this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') : null,\n                endDate: (combineForms.value?.endDate !== 'Invalid date' &&  this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue(),\n            policy: accomodationPolicy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log(formObject)\n\n        // Check if you are on edit or create\n        if (this.resourceService.resourceId$.getValue()) {\n            // this.currentResourceId =  this.resourceService.resourceId$.getValue();\n            console.log('id-ul resursei curente', this.resourceService.resourceId$.getValue());\n            this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n                next: (data: any) => {\n                    console.log(data)\n\n                        const currentRelatedRes = this.resourceService.relatedResources$.getValue();\n                        const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                        if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id === resourceRelatedRes[0]){\n                            // nu fac nimic\n                        }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id !== resourceRelatedRes[0]){\n                            this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                            this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                        }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && currentRelatedRes?.length > 0){\n                            this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                        }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length === 0){\n                            this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                        }\n\n                    if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                        const thumbnailData = new FormData();\n                        thumbnailData.append('file', combineForms.value.thumbnail);\n                        this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                    }\n\n                    if (combineForms.value.images?.length > 0) {\n                        const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                        console.log('Diferenta arrays', newImages);\n\n                        if (newImages?.length > 0) {\n                            const imagesData = new FormData();\n                            newImages.forEach(galleryFile => {\n                                imagesData.append('files', galleryFile);\n                            });\n                            this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                        }\n                    }\n\n                    if (combineForms.value.videos?.length > 0) {\n                        const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                        console.log('Diferenta arrays', newVideos);\n\n\n                        if (newVideos?.length > 0) {\n                            const videosData = new FormData();\n                            newVideos.forEach(videoFile => {\n                                videosData.append('files', videoFile);\n                            });\n                            this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                        }\n                    }\n                    if (data.success) {\n                        // console.log('TICKETs');\n                        // console.log('CREATE ARRAY', this.ticketService.createArray$.getValue());\n                        // console.log('current res id', this.currentResourceId);\n\n                        // this.timepickerService.timetableList$.next([]);\n                        //ticket-booking\n                        // this.ticketService.ticketsList$.next([]);\n\n                        // menu\n                        if (this.currentBookingType === 'menu') {\n                            if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue()?.length > 0) {\n                                console.log('menuList', this.menuService.menuList$.getValue());\n                                this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                            } else {\n                                if (this.menuService.menuList$.getValue()?.length > 0) {\n                                    this.$fileObservables.push(this.menuService.createMenu(this.resourceService.resourceId$.getValue(), this.menuService.menuList$.getValue()));\n                                }\n\n                            }\n\n                        }\n\n\n                        if (this.ticketService.createArray$.getValue()?.length > 0) {\n                            // Create new tickets\n                            this.$fileObservables.push(this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()));\n                            // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                            //             this.ticketService.createArray$.next([]);\n                            //             console.log(this.ticketService.createArray$.getValue());\n                            //         }\n                            //     }\n                            // })\n                        } else {\n                            console.log('n-am in create');\n                        }\n\n\n                        if (this.ticketService.updateArray$.getValue()?.length > 0) {\n                            console.log('am in update');\n                            //Update tickets\n                            const updateArray = this.ticketService.updateArray$.getValue();\n                            updateArray.forEach(ticket => {\n                                this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                                // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                                //     next: (tickets: { success: boolean, reason: string }) => {\n                                //         if (tickets.success) {\n                                //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                                //             this.ticketService.updateArray$.next([]);\n                                //         }\n                                //     }\n                                // })\n                            })\n                        } else {\n                            console.log('n-am in update');\n                        }\n\n\n                        if (this.ticketService.deleteArray$.getValue()?.length > 0) {\n                            //Delete tickets\n                            const deleteArray = this.ticketService.deleteArray$.getValue();\n                            deleteArray.forEach(ticket => {\n                                // console.log('ticket de sters', ticket)\n                                this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                                // this.ticketService.deleteTicket(ticket.id).subscribe({\n                                //     next: (tickets: { success: boolean, reason: string }) => {\n                                //         if (tickets.success) {\n                                //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                                //             this.ticketService.deleteArray$.next([]);\n                                //         }\n                                //     },\n                                //     error: err => {\n                                //         console.log(err);\n                                //     }\n                                //\n                                // })\n                            })\n\n                        }\n\n                        if (this.productService.productsList$.getValue().length > 0) {\n                            const prodArray = this.productService.productsList$.getValue();\n                            prodArray.forEach(product => {\n                                if (product.state === 'add') {\n                                    this.productService.createProduct(this.currentResourceId, product).subscribe({\n                                        next: (respAdd: { success: boolean, reason: string }) => {\n                                            if (respAdd) {\n                                                const imagArray = this.productService.imagesArray$.getValue();\n                                                console.log('array', imagArray);\n                                                imagArray.forEach(imageObj => {\n                                                    if (product.id === imageObj.id) {\n                                                        console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                        if (imageObj.imageFile !== undefined) {\n                                                            const thumbnailData = new FormData();\n                                                            thumbnailData.append('images', imageObj.imageFile);\n                                                            console.log('thumb data', thumbnailData);\n\n                                                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                            this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                                next: thumb => {\n                                                                    console.log('thumbnail uploadat', thumb);\n                                                                },error: (error)=>{\n                                                                    if(error.error.reason === 'fileSizeTooBig'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                    } else if(error.error.reason === 'wrongExtension'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                    }else{\n                                                                        this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                    }\n                                                                }\n\n\n                                                            })\n                                                        }\n\n                                                        this.productService.imagesArray$.next([]);\n                                                    }\n                                                })\n\n                                                const attachArray = this.productService.attachmentArray$.getValue();\n                                                attachArray.forEach(attach => {\n                                                    console.log('ATTACHMENT', attach)\n                                                    if (product.id === attach.id) {\n                                                        console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                        if (attach.attachmentFile !== undefined) {\n                                                            const thumbnailData = new FormData();\n                                                            thumbnailData.append('file', attach.attachmentFile);\n                                                            console.log('thumb data', thumbnailData);\n\n                                                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                            this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                                next: thumb => {\n                                                                    console.log('attachment uploadat', thumb);\n                                                                },error: (error)=>{\n                                                                    if(error.error.reason === 'fileSizeTooBig'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                    } else if(error.error.reason === 'wrongExtension'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                    }else{\n                                                                        this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                    }\n                                                                }\n\n\n                                                            })\n                                                        }\n\n                                                        this.productService.attachmentArray$.next([]);\n                                                    }\n                                                })\n                                            }\n                                        }\n                                    })\n                                } else if (product.state === 'update') {\n                                    this.productService.updateProduct(product.id, product).subscribe({\n                                        next: (respUpdate: { success: boolean, reason: string }) => {\n                                            console.log('update prod', respUpdate);\n                                            if (respUpdate) {\n                                                const imagArray = this.productService.imagesArray$.getValue();\n                                                console.log('array', imagArray);\n                                                imagArray.forEach(imageObj => {\n                                                    if (product.id === imageObj.id) {\n                                                        console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                        if (imageObj.imageFile !== undefined) {\n                                                            const thumbnailData = new FormData();\n                                                            thumbnailData.append('images', imageObj.imageFile);\n                                                            console.log('thumb data', thumbnailData);\n\n                                                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                            this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                                next: thumb => {\n                                                                    console.log('thumbnail uploadat', thumb);\n                                                                },error: (error)=>{\n                                                                    if(error.error.reason === 'fileSizeTooBig'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                    } else if(error.error.reason === 'wrongExtension'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                    }else{\n                                                                        this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                    }\n                                                                }\n                                                            })\n                                                        }\n\n                                                        this.productService.imagesArray$.next([]);\n                                                    }\n                                                })\n\n                                                const attachArray = this.productService.attachmentArray$.getValue();\n                                                attachArray.forEach(attach => {\n                                                    console.log('ATTACHMENT', attach)\n                                                    if (product.id === attach.id) {\n                                                        console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                        if (attach.attachmentFile !== undefined) {\n                                                            const thumbnailData = new FormData();\n                                                            thumbnailData.append('file', attach.attachmentFile);\n                                                            console.log('thumb data', thumbnailData);\n\n                                                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                            this.productService.uploadAttachmentForProduct(product.id, thumbnailData).subscribe({\n                                                                next: thumb => {\n                                                                    console.log('attachment uploadat', thumb);\n                                                                },error: (error)=>{\n                                                                    if(error.error.reason === 'fileSizeTooBig'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                    } else if(error.error.reason === 'wrongExtension'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                    }else{\n                                                                        this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea atasamentului!\", \"error\");\n                                                                    }\n                                                                }\n\n\n                                                            })\n                                                        }\n\n                                                        this.productService.attachmentArray$.next([]);\n                                                    }\n                                                })\n                                            }\n                                        }\n                                    })\n                                }\n                            })\n                        }\n\n                        //product list\n                        if (this.productService.deleteProdList$.getValue().length > 0) {\n                            const deleteProdArray = this.productService.deleteProdList$.getValue();\n                            deleteProdArray.forEach(product => {\n                                this.productService.deleteProduct(product.id).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                });\n                            })\n                        }\n\n\n                        //service time slot\n                        if (this.timeslotService.serviceList$.getValue().length > 0) {\n                            const serviceArray = this.timeslotService.serviceList$.getValue();\n                            serviceArray.forEach(service => {\n                                if (service.state === 'add') {\n                                    this.$fileObservables.push(this.timeslotService.createService(this.currentResourceId, service))\n                                } else if (service.state === 'update') {\n                                    this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                                }\n                            })\n                        }\n\n                        if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                            const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                            deleteServArray.forEach(service => {\n                                this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                            })\n                        }\n\n                        //rental-booking\n                        if (this.roomsArray.length > 0) {\n                            this.roomsArray.forEach(room => {\n                                if (room.state === 'add') {\n                                    this.roomService.createRoom(this.currentResourceId, room).subscribe({\n                                        next: (resp: { success: boolean, reason: string }) => {\n                                            // console.log('adaugare camera pe edit resursa', resp);\n                                            if (resp.success) {\n                                                const imagArray = this.roomService.imagesArray$.getValue();\n                                                console.log('array', imagArray);\n                                                imagArray.forEach(imageObj => {\n                                                    if (room.id === imageObj.id) {\n                                                        console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                        if (imageObj.featuredImage !== undefined) {\n                                                            const thumbnailData = new FormData();\n                                                            thumbnailData.append('file', imageObj.featuredImage);\n                                                            console.log('thumb data', thumbnailData);\n\n                                                            // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                            this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                                next: thumb => {\n                                                                    console.log('thumbnail uploadat', thumb);\n                                                                }\n                                                            })\n                                                        }\n\n                                                        if (imageObj.gallery.length > 0) {\n                                                            const imagesData = new FormData();\n                                                            imageObj.gallery.forEach(galleryFile => {\n                                                                if (galleryFile.state === 'upload') {\n                                                                    imagesData.append('images', galleryFile.file);\n                                                                }\n\n                                                            });\n\n                                                            // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                            this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                                next: gallery => {\n                                                                    console.log('galerie uploadata', gallery);\n                                                                }, error: (error)=>{\n                                                                    if(error.error.reason === 'fileSizeTooBig'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                    } else if(error.error.reason === 'wrongExtension'){\n                                                                        this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                    }else{\n                                                                        this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                    }\n                                                                }\n                                                            })\n                                                        }\n\n                                                        this.roomService.imagesArray$.next([]);\n                                                    }\n                                                })\n                                            }\n                                        }\n                                    })\n                                } else if (room.state === 'update') {\n                                    this.roomService.updateRoom(room.id, room).subscribe({\n                                        next: (resp: { success: boolean, reason: string }) => {\n                                            // console.log('editare camera pe edit resursa', resp);\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        console.log('inainte de gall', imageObj.gallery);\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                        this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }, error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    })\n                                }\n                            })\n                        }\n\n                        if (this.roomService.deleteArray$.getValue().length > 0) {\n                            const deleteRooms = this.roomService.deleteArray$.getValue();\n                            deleteRooms.forEach(room => {\n                                this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                                // this.roomService.deleteRoom(room.id).subscribe({\n                                //     next: (resp: { success: boolean, reason: string }) => {\n                                //         console.log('stergere camera', resp);\n                                //         if (resp.success) {\n                                //             this.roomService.deleteArray$.next([]);\n                                //         }\n                                //     }\n                                // })\n                            })\n                        }\n\n                        // cultural booking\n                        if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                            const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                            this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                        }\n\n                        //menu-booking\n                        if (this.timepickerService.timepickerId$.getValue()) {\n                            const timepicker = {\n                                timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                                bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                                changePolicies: this.timepickerService.changePolicies$.getValue(),\n                                ignoreAvailability: this.timepickerService.getFreeEntry()\n                            }\n                            console.log('TIMEPICKER AICI', timepicker);\n                            this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timepicker));\n                            // this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timepicker).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         if(resp.success){\n                            //             this.timepickerService.timepickerId$.next(undefined);\n                            //             this.timepickerService.timepickerList$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        }\n\n\n                    }\n\n                    if (this.$fileObservables.length > 0) {\n                        forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                            this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                            setTimeout(() => {\n                                if (this.isProvider) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                                } else if (this.isStaff) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                                } else if (this.isAdmin) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                                }\n                            }, 3000);\n                        });\n                    } else {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    }\n\n\n                }\n\n\n            })\n\n        } else {\n            const providerId = this.createResourceService.providerData$.getValue()?.providerId ? this.createResourceService.providerData$.getValue().providerId : null;\n            this.resourceService.addResource(formObject, providerId).subscribe({\n                next: (data: any) => {\n                    console.log(data)\n\n                    if(this.resourceService.relatedResources$.getValue()?.length > 0){\n                        this.$fileObservables.push(this.resourceService.addRelatedresources(data.reason, this.resourceService.relatedResources$.getValue()[0].id));\n                    }\n\n                    if (combineForms.value.thumbnail) {\n                        const thumbnailData = new FormData();\n                        thumbnailData.append('file', combineForms.value.thumbnail);\n                        this.$fileObservables.push(this.resourceService.uploadResourceImage(data.reason, thumbnailData));\n                    }\n\n                    // const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    // console.log('Diferenta arrays', newImages);\n\n                    console.log('IMAGE', combineForms.value.images?.length)\n\n                    if (combineForms.value.images?.length > 0) {\n                        const imagesData = new FormData();\n                        combineForms.value.images.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(data.reason, 'image', imagesData));\n                    }\n                    if (combineForms.value?.videos?.length > 0) {\n                        const videosData = new FormData();\n                        combineForms.value.videos.forEach(galleryFile => {\n                            videosData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(data.reason, 'video', videosData));\n                    }\n\n                    // if (this.timepickerService.timepickerList$.getValue().length > 0) {\n                    //     const timepicker = {\n                    //         timetables: this.timepickerService.timepickerList$.getValue()\n                    //     }\n                    //\n                    //     this.$fileObservables.push( this.timepickerService.createTimepicker(data.reason, timepicker));\n                    //\n                    // }\n\n                    // if(this.timepickerService.timePicker$.getValue()){\n                    //     this.$fileObservables.push( this.timepickerService.createTimepicker(data.reason, this.timepickerService.timePicker$.getValue()));\n                    // }\n\n                    if (this.resourceService.resourceTemplateData$.getValue().bookingType === 'menu') {\n                        const timepicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        this.$fileObservables.push(this.timepickerService.createTimepicker(data.reason, timepicker));\n                        console.log('TIMEPICKER AICI', timepicker);\n                    }\n\n\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            this.roomService.createRoom(data.reason, room).subscribe({\n                                next: (res: { success: boolean, reason: string }) => {\n                                    if (res.success) {\n                                        console.log('SE ADAUGA O CAMERA', res.success);\n\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(res.reason, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(res.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error)=>{\n                                                            if(error.error.reason === 'fileSizeTooBig'){\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if(error.error.reason === 'wrongExtension'){\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            }else{\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        imagesData.append('images', galleryFile);\n                                                    });\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomGallery(res.reason, imagesData));\n                                                    this.roomService.uploadRoomGallery(res.reason, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }, error: (error)=>{\n                                                            if(error.error.reason === 'fileSizeTooBig'){\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if(error.error.reason === 'wrongExtension'){\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            }else{\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            })\n                        })\n\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        console.log('exista in product list')\n                        this.productService.productsList$.getValue().forEach(product => {\n                            this.productService.createProduct(data.reason, product).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        },error: (error)=>{\n                                                            if(error.error.reason === 'fileSizeTooBig'){\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if(error.error.reason === 'wrongExtension'){\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            }else{\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n\n\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n\n                                        const attachArray = this.productService.attachmentArray$.getValue();\n                                        attachArray.forEach(attach => {\n                                            console.log('ATTACHMENT', attach)\n                                            if (product.id === attach.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                if (attach.attachmentFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', attach.attachmentFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('attachment uploadat', thumb);\n                                                        },error: (error)=>{\n                                                            if(error.error.reason === 'fileSizeTooBig'){\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if(error.error.reason === 'wrongExtension'){\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            }else{\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n\n\n                                                    })\n                                                }\n\n                                                this.productService.attachmentArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            })\n\n                        })\n                    }\n\n\n                    // Create tickets\n                    this.ticketService.ticketListData().subscribe(\n                        {\n                            next: ticketList => {\n                                if (ticketList.length > 0) {\n                                    this.$fileObservables.push(this.ticketService.createTickets(data.reason, this.ticketService.ticketsList$.getValue()));\n\n                                }\n                            }\n                        }\n                    )\n\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        this.timeslotService.serviceList$.getValue().forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.createService(data.reason, service));\n                        })\n\n                    }\n\n                    // create cultural room\n                    if (this.culturalBookingService.culturalRoom$.getValue()) {\n                        const newCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.createCulturalRoom(data.reason, newCulturalRoom));\n                    }\n\n                    if (this.menuService.menuList$.getValue().length > 0) {\n                        this.$fileObservables.push(this.menuService.createMenu(data.reason, this.menuService.menuList$.getValue()));\n                    }\n\n                    if (this.$fileObservables.length > 0) {\n                        forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                            this.toastService.showToast('succes', 'Resursa a fost adăugată cu succes', 'success');\n                            setTimeout(() => {\n                                if (this.isProvider) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                                } else if (this.isStaff) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                                } else if (this.isAdmin) {\n                                    this.isSubmitLoading$.next(false);\n                                    this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                                }\n                            }, 3000);\n\n                        });\n                    } else {\n                        this.toastService.showToast('succes', 'Resursa a fost adăugată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    }\n\n\n                },\n                error: (error) => {\n                    this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                    this.isSubmitLoading$.next(false);\n                    console.log(error)\n                }\n            })\n\n        }\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {AbstractControl, FormArray, FormBuilder, FormGroup, ValidatorFn} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {Template} from \"../../../../../../resource-templates/_models/template.model\";\nimport {TemplateFilterModel} from \"../../../../../../../shared/_models/template-filter.model\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport * as moment from \"moment\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-no-policy',\n    templateUrl: './no-policy.component.html',\n    styleUrls: ['./no-policy.component.scss']\n})\nexport class NoPolicyComponent implements OnInit, OnDestroy{\n    timetableForm: FormGroup;\n    days=['MONDAY','TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];\n    tabIndex = 0;\n\n    isEditMode = false;\n    showTimetable = false;\n    timetableArr = [];\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(private stepperService: StepperService,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private timepickerService: TimepickerService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n\n    ngOnInit() {\n        this.getTemplate();\n        this.formInit();\n        this.initConfigTabs();\n        console.log('TIMETABLE', this.timepickerService.timetableList$.getValue());\n\n        this.timepickerService.refreshTimetableListData().subscribe({\n            next: timetable =>{\n                this.timetableForm.get('timetable').patchValue(this.timepickerService.timetableList$.getValue());\n            }\n        })\n\n        this.resourceService.listenForPolicy().subscribe({\n            next: policy => {\n                if(policy){\n                    this.sendTimePicker();\n                    this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n                }\n\n            }\n        })\n\n        console.log(this.resourceService.resourceTemplateType$.getValue());\n        console.log(this.resourceService.resourceTemplateData$.getValue());\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n\n    }\n\n    formInit(){\n        this.timetableForm = this.fb.group({\n            timetable: this.fb.array([])\n        })\n    }\n\n    timetable(): FormArray {\n        return this.timetableForm.get('timetable') as FormArray;\n    }\n\n    newDayTab(day: string): FormGroup {\n        return this.fb.group({\n            day: day,\n            startTime: moment('00:00', 'HH:mm'),\n            endTime: moment('00:00', 'HH:mm'),\n            closed:[false]\n        },\n            {\n                validators: this.checkTimeSlots\n            });\n    }\n\n    addDayTab(day: string) {\n        this.timetable().push(this.newDayTab(day));\n    }\n\n    removeDayTab(tabIndex: number) {\n        this.timetable().removeAt(tabIndex);\n    }\n\n    initConfigTabs() {\n        this.days.forEach((item: string) => {\n            this.addDayTab(item);\n        })\n    }\n\n    checkIfEdit(){\n        if(this.resourceService.resourceId$.getValue()){\n            this.isEditMode = true;\n            if(this.showTimetable){\n                if(this.timepickerService.timetableList$.getValue().length > 0){\n                    console.log('TIMETABLE EXISTENT', this.timepickerService.timetableList$.getValue());\n                    const serviceTimetable = this.timepickerService.timetableList$.getValue();\n                    serviceTimetable.forEach(day => {\n                        day.startTime=moment(day.startTime, 'HH:mm');\n                        day.endTime=moment(day.endTime, 'HH:mm');\n                    })\n                    this.timetableForm.get('timetable').patchValue(serviceTimetable);\n                    console.log('MODIFICARE TT', this.timetableForm.value);\n                }else{\n                    const timetable = this.resourceService.resourceTemplateData$.getValue().timetable;\n                    if(timetable){\n                        timetable.forEach(day => {\n                            day.startTime=moment(day.startTime, 'HH:mm');\n                            day.endTime=moment(day.endTime, 'HH:mm');\n                        })\n                        this.timetableForm.get('timetable').patchValue(timetable);\n                    }else{\n                        this.formInit();\n                    }\n\n                }\n\n                // this.timetableForm.get('timetable').patchValue(this.resourceService.resourceTemplateData$.getValue().timetable);\n\n            }\n        }else{\n            this.isEditMode = false;\n            if(this.showTimetable){\n                if(this.timepickerService.timetableList$.getValue().length > 0){\n                    console.log('TIMETABLE EXISTENT', this.timepickerService.timetableList$.getValue());\n                    const serviceTimetable = this.timepickerService.timetableList$.getValue();\n                    serviceTimetable.forEach(day => {\n                        day.startTime=moment(day.startTime, 'HH:mm');\n                        day.endTime=moment(day.endTime, 'HH:mm');\n                    })\n                    this.timetableForm.get('timetable').patchValue(serviceTimetable);\n                    console.log('MODIFICARE TT', this.timetableForm.value);\n                }\n\n                // this.timetableForm.get('timetable').patchValue(this.resourceService.resourceTemplateData$.getValue().timetable);\n\n            }\n        }\n    }\n\n    getTemplate(){\n        this.resourceService.getListResourceTemplateFiltered(0, -1, '', '', this.resourceService.resourceTemplateType$.getValue()).subscribe({\n            next:(temp: TemplateFilterModel) => {\n                const template = temp.content[0];\n                if(template.timetable){\n                    this.showTimetable = true;\n                    this.checkIfEdit();\n                }else{\n                    this.showTimetable = false;\n                }\n        }\n        })\n    }\n\n    checkTimeSlots(control: AbstractControl): ValidatorFn {\n        const startTime = control.get('startTime');\n        const endTime = control.get('endTime');\n        const closed = control.get('closed');\n        // console.log('CHECK start', moment(startTime.value).format('HH:mm'));\n        // console.log('CHECK end',moment(endTime.value).format('HH:mm'));\n        if(!closed.value){\n            if (moment(startTime.value).format('HH:mm') >= moment(endTime.value).format('HH:mm')) {\n                console.log('nu e bine');\n                endTime.setErrors({invalidTime: true});\n            }\n        }else{\n            endTime.setErrors(null);\n        }\n        return;\n    }\n\n    sendTimePicker(){\n\n        this.timetableForm.get('timetable').value.forEach((day, index) => {\n            day.endTime = moment(day.endTime).format('HH:mm');\n            day.startTime = moment(day.startTime).format('HH:mm');\n        })\n\n    }\n\n    /** Go to next step*/\n    nextStep() {\n\n        if (this.showTimetable) {\n            // // Mark as touched\n            this.timetableForm.markAllAsTouched()\n\n            // Check form validation\n            if (this.timetableForm.invalid) {\n                return\n            }else{\n                this.sendTimePicker();\n                this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n                console.log('NEXT',this.timetableForm.get('timetable').value);\n            }\n        }\n\n        // Go the next step\n        this.stepperService.nextStep()\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        if (this.showTimetable) {\n            this.timetableForm.markAllAsTouched()\n\n            // Check form validation\n            if (this.timetableForm.invalid) {\n                return\n            }else{\n                this.sendTimePicker();\n                this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n                console.log('PREVIEW',this.timetableForm.get('timetable').value);\n\n            }\n        }\n\n        this.stepperService.prevStep(true)\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea atasamentului!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {BehaviorSubject, forkJoin, Observable, Subject, takeUntil} from \"rxjs\";\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\nimport {FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from \"@angular/forms\";\nimport * as moment from \"moment\";\nimport {BookingPolicies} from \"../../../../../../../shared/_models/itinerary.model\";\n\n@Component({\n    selector: 'app-policy-cultural-booking',\n    templateUrl: './policy-cultural-booking.component.html',\n    styleUrls: ['./policy-cultural-booking.component.scss']\n})\nexport class PolicyCulturalBookingComponent implements OnInit, OnDestroy {\n\n    form: FormGroup = this.resourceService.generalInformationForm$.getValue();\n\n    // le folosim la booking policies value changes, ca sa vedem care a fost optiunea selectata anterior\n    selectedBookingType: string;\n    previousBookingType: string;\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    private ngUnsubscribe = new Subject<void>();\n\n    constructor(private stepperService: StepperService, private resourceService: ResourcesService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService,\n                private fb: FormBuilder) {\n        this.isSubmitLoading$\n            .asObservable()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe((res) => (this.isSubmitLoading = res));\n    }\n\n    ngOnInit(): void {\n\n        this.createManualInputs();\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n        this.bookingPoliciesValueChanges();\n    }\n\n    bookingPoliciesValueChanges() {\n        const bookingPolicies = this.form.get('bookingPolicies') as FormGroup;\n        bookingPolicies.valueChanges\n            .pipe(\n                // distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),\n                takeUntil(this.ngUnsubscribe)\n            ).subscribe((newValues: BookingPolicies & { advancePartialPayment: boolean; depositRequired: boolean }) => {\n\n                console.log('before', {...newValues});\n\n            for (const bookingType in newValues) {\n                if (newValues[bookingType] === true) {\n                    if (!this.previousBookingType) {\n                        this.previousBookingType = bookingType;\n                        this.selectedBookingType = bookingType;\n                    } else if (bookingType !== this.selectedBookingType) {\n                        this.previousBookingType = this.selectedBookingType;\n                        this.selectedBookingType = bookingType;\n                        break;\n                    }\n                }\n\n            }\n\n            if (this.previousBookingType && this.selectedBookingType && (this.previousBookingType !== this.selectedBookingType)) {\n                bookingPolicies.get(this.previousBookingType).patchValue(false, {emitEvent: false});\n\n                if (this.previousBookingType === 'depositRequired') {\n                    if (bookingPolicies.get('depositRequiredPercentage').disabled) {\n                        bookingPolicies.get('depositRequiredAmount').patchValue(0, {emitEvent: false});\n                    }\n                    if (bookingPolicies.get('depositRequiredAmount').disabled) {\n                        bookingPolicies.get('depositRequiredPercentage').patchValue(0, {emitEvent: false});\n                    }\n                }\n\n                if (this.previousBookingType === 'advancePartialPayment') {\n                    bookingPolicies.get('advancePartialPaymentPercentage').patchValue(0, {emitEvent: false});\n                }\n            }\n            console.log('after', this.form.get('bookingPolicies').value);\n        });\n    }\n\n    requireCheckboxesToBeCheckedValidator(minRequired = 1): ValidatorFn {\n        console.log('se apeleaza');\n        return function validate(formGroup: FormGroup) {\n            let checked = 0;\n            // console.log('se apeleaza 2');\n\n            Object.keys(formGroup.controls).forEach(key => {\n                const control = formGroup.controls[key];\n\n                if (control.value === true) {\n                    checked++;\n                }\n            });\n\n            if (checked < minRequired) {\n                return {\n                    requireCheckboxesToBeChecked: true,\n                };\n            }\n\n            return null;\n        };\n    }\n\n    bookingPolicyEdit(event: any, type: string) {\n        if (event && type === 'depositRequired') {\n            this.form.get('bookingPolicies').get('depositRequiredAmount')?.enable();\n            this.form.get('bookingPolicies').get('depositRequiredPercentage')?.enable();\n\n            this.form.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.form.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n\n            this.form.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.form.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.form.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.form.get('bookingPolicies').get('advancePartialPaymentPercentage').disable();\n        }\n\n        if (event && type === 'advanceFullPayment') {\n            console.log('full payment');\n            this.form.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            // this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.form.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            // this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.form.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n\n            this.form.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            // this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.form.get('bookingPolicies').get('advancePartialPaymentPercentage')?.disable();\n        }\n\n        if (event && type === 'advancePartialPayment') {\n\n            this.form.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.form.get('bookingPolicies').get('advancePartialPaymentPercentage')?.enable();\n            this.form.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n\n            this.form.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.form.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.form.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.form.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.form.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n        }\n    }\n\n    checkDepositType(type) {\n        if (this.form.get('bookingPolicies').get('depositRequired').value) {\n            if (type === 'percentage') {\n                if (this.form.get('bookingPolicies').get('depositRequiredPercentage').value > 0) {\n                    this.form.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n                    this.form.get('bookingPolicies').get('depositRequiredAmount').disable();\n                } else if (this.form.get('bookingPolicies').get('depositRequiredPercentage').value === 0 || !this.form.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.form.get('bookingPolicies').get('depositRequiredAmount').enable();\n                }\n            } else if (type === 'amount') {\n                if (this.form.get('bookingPolicies').get('depositRequiredAmount').value > 0) {\n                    this.form.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n                    this.form.get('bookingPolicies').get('depositRequiredPercentage').disable();\n                } else if (this.form.get('bookingPolicies').get('depositRequiredAmount').value === 0 || !this.form.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.form.get('bookingPolicies').get('depositRequiredPercentage').enable();\n                }\n            }\n        }\n\n    }\n\n    createManualInputs() {\n\n        this.form = this.resourceService.generalInformationForm$.getValue();\n        console.log('initial form', {...this.form.value});\n        console.log('initial state', {...this.resourceService.generalInformationForm$.getValue().value});\n\n        if (this.resourceService.resourceId$.getValue()) {\n            const bookingPolicies = this.fb.group({\n                depositRequired: false,\n                advancePartialPayment: false,\n                advanceFullPayment: false,\n                depositRequiredPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n                depositRequiredAmount: [0, Validators.compose([Validators.required, Validators.pattern('^[1-9]\\\\d*$')])],\n                advancePartialPaymentPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n            }, {\n                validators: this.requireCheckboxesToBeCheckedValidator()\n            });\n\n            if (!this.form.value.bookingPolicies) {\n                this.form.addControl('bookingPolicies', bookingPolicies);\n                this.form.get('bookingPolicies').patchValue(this.resourceService.resourceTemplateData$.getValue().bookingPolicies);\n            }\n\n            console.log('intra pe edit', this.resourceService.resourceTemplateData$.getValue().bookingPolicies);\n\n        } else {\n            const bookingPolicies = this.fb.group({\n                depositRequired: false,\n                advancePartialPayment: false,\n                advanceFullPayment: false,\n                depositRequiredPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n                depositRequiredAmount: [0, Validators.compose([Validators.required, Validators.pattern('^[1-9]\\\\d*$')])],\n                advancePartialPaymentPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n            }, {\n                validators: this.requireCheckboxesToBeCheckedValidator()\n            });\n\n            this.form.addControl('bookingPolicies', bookingPolicies);\n            console.log('intra pe new', this.form);\n        }\n\n        // this.dataLoaded = true;\n        // console.log('GENERAL INFO DE LA SERV', this.resourceService.generalInformationForm$.getValue())\n\n        if (this.form.value?.bookingPolicies) {\n            console.log('avem template data', this.form.value?.bookingPolicies);\n            const bookingPolicyValue = this.form.value?.bookingPolicies;\n\n            if (bookingPolicyValue?.advanceFullPayment) {\n                this.previousBookingType = 'advanceFullPayment';\n                this.selectedBookingType = 'advanceFullPayment';\n                this.bookingPolicyEdit(true, 'advanceFullPayment');\n            }\n\n\n            if (bookingPolicyValue?.depositRequiredPercentage > 0) {\n                this.form.get('bookingPolicies.depositRequired').patchValue(true);\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('percentage');\n                this.form.get('bookingPolicies').get('advancePartialPaymentPercentage').disable();\n\n            }\n\n            if (bookingPolicyValue?.depositRequiredAmount > 0) {\n                this.form.get('bookingPolicies.depositRequired').patchValue(true);\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('amount');\n            }\n\n            if (bookingPolicyValue?.advancePartialPaymentPercentage > 0) {\n                this.form.get('bookingPolicies.advancePartialPayment').patchValue(true);\n                this.previousBookingType = 'advancePartialPayment';\n                this.selectedBookingType = 'advancePartialPayment';\n                this.form.get('bookingPolicies').get('depositRequiredAmount').disable();\n                this.form.get('bookingPolicies').get('depositRequiredPercentage').disable();\n\n            }\n        }\n\n        console.log('after form', {...this.form.value});\n        console.log('after state', {...this.resourceService.generalInformationForm$.getValue().value});\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n\n        console.log('form prev', this.form)\n\n        // // Mark as touched\n        this.form.markAllAsTouched()\n\n        // // Check form validation\n        if (this.form.invalid) {\n            return\n        }\n\n        // Go the next step\n        this.stepperService.prevStep();\n        // console.log(this.form.value)\n        // this.resourceService.attributesFromResourceTemplate$.next(this.formSectionsToSend);\n        // console.log('allalalalla', this.resourceService.attributesFromResourceTemplate$.getValue())\n    }\n\n    /** Go to next step*/\n    nextStep() {\n\n        // // Mark as touched\n        this.form.markAllAsTouched()\n\n        // // Check form validation\n        if (this.form.invalid) {\n            return\n        }\n\n        // Go the next step\n        this.stepperService.nextStep();\n        // console.log(this.form.value)\n        // this.resourceService.attributesFromResourceTemplate$.next(this.formSectionsToSend);\n        // console.log('allalalalla', this.resourceService.attributesFromResourceTemplate$.getValue())\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : null,\n            startDate: moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') || null,\n            endDate: moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') || null,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {Form, FormBuilder, FormGroup} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-policy-rental-booking',\n    templateUrl: './policy-rental-booking.component.html',\n    styleUrls: ['./policy-rental-booking.component.scss']\n})\nexport class PolicyRentalBookingComponent implements OnInit, OnDestroy {\n\n    form: FormGroup;\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(private stepperService: StepperService,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n\n    }\n\n    ngOnInit() {\n        this.formInit();\n\n        // this.resourceService.listenForPolicyRental().subscribe({\n        //     next: policy => {\n        //         if (policy) {\n        //             this.sendAccPolicy();\n        //         }\n        //     }\n        // })\n\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('AICI TOATE DATELE', this.resourceService.resourceTemplateData$.getValue());\n            console.log('AICI POLICY', this.resourceService.resourceTemplateType$.getValue().policy);\n            console.log('POLICY ACC', this.resourceService.accommodationPolicy$.getValue());\n            this.makeFormOnEdit(this.resourceService.accommodationPolicy$.getValue())\n            // this.form.patchValue()\n        }else{\n          this.makeFormOnEdit(this.resourceService.accommodationPolicy$.getValue())\n        }\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n    }\n\n    formInit() {\n        this.form = this.fb.group({\n            checkInStartHour: [null],\n            checkInEndHour: [null],\n            checkOutStartHour: [null],\n            checkOutEndHour: [null]\n        })\n    }\n\n    makeFormOnEdit(policy) {\n        console.log(policy);\n        this.form.patchValue(policy);\n        console.log(this.form.value);\n    }\n\n    sendAccPolicy() {\n        this.resourceService.accommodationPolicy$.next(this.form.value);\n    }\n\n    setNull(control) {\n        this.form.get(control).setValue(null);\n        console.log(this.form.value);\n    }\n\n    valueChange(control) {\n        this.form.get(control).setValue(this.form.get(control).value);\n        console.log(this.form.value);\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n\n        // // Mark as touched\n        // this.form.markAllAsTouched()\n        //\n        // // Check form validation\n        // if (this.form.invalid) {\n        //     return\n        // }\n\n        this.sendAccPolicy();\n\n        // Go the next step\n        this.stepperService.nextStep();\n\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.sendAccPolicy();\n        this.stepperService.prevStep(true)\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n\n                const currentRelatedRes = this.resourceService.relatedResources$.getValue();\n                const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id === resourceRelatedRes[0]){\n                    // nu fac nimic\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id !== resourceRelatedRes[0]){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && currentRelatedRes?.length > 0){\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length === 0){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                }\n\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n}\n","import {Component} from '@angular/core';\nimport {StepperService} from \"../../../../_services/stepper.service\";\n\n@Component({\n    selector: 'app-policy',\n    templateUrl: './policy.component.html',\n    styleUrls: ['./policy.component.scss']\n})\nexport class PolicyComponent {\n\n\n    constructor(private stepperService: StepperService) {\n\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n\n        // // Mark as touched\n        // this.form.markAllAsTouched()\n        //\n        // // Check form validation\n        // if (this.form.invalid) {\n        //     return\n        // }\n\n        // Go the next step\n        this.stepperService.nextStep()\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport * as moment from \"moment\";\nimport {BehaviorSubject, forkJoin, Observable, Subject, Subscription, takeUntil} from \"rxjs\";\nimport {BookingPolicies} from \"../../../../../../../shared/_models/itinerary.model\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-restaurant-policy',\n    templateUrl: './restaurant-policy.component.html',\n    styleUrls: ['./restaurant-policy.component.scss']\n})\nexport class RestaurantPolicyComponent implements OnInit, OnDestroy {\n\n    timetableForm: FormGroup;\n    days = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];\n    tabIndex = 0;\n\n    isEditMode = false;\n    showTimetable = false;\n    timetableArr = [];\n\n    // le folosim la booking policies value changes, ca sa vedem care a fost optiunea selectata anterior\n    selectedBookingType: string;\n    previousBookingType: string;\n    private ngUnsubscribe = new Subject<void>();\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(private stepperService: StepperService,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private timepickerService: TimepickerService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n\n\n    ngOnInit() {\n        this.formInit();\n        this.initConfigTabs();\n        this.checkIfEdit();\n\n        this.timepickerService.refreshTimetableListData().subscribe({\n            next: timetable => {\n                const timetableValue = this.timepickerService.timetableList$.getValue();\n                timetableValue.forEach(day => {\n                    day.startTime = moment(day.startTime, 'HH:mm');\n                    day.endTime = moment(day.endTime, 'HH:mm');\n                })\n                this.timetableForm.get('timetable').patchValue(timetableValue);\n                // this.timetableForm.get('timetable').patchValue(this.timepickerService.timetableList$.getValue());\n            }\n        })\n\n        console.log('INIT 1', this.timepickerService.bookingPolicies$.getValue());\n        console.log('INIT 2', this.timepickerService.changePolicies$.getValue());\n\n        if(this.timepickerService.bookingPolicies$.getValue()?.depositRequired){\n            this.timetableForm.get('bookingPolicies.depositRequired').patchValue(true);\n            this.timetableForm.get('bookingPolicies.depositRequiredAmount').patchValue(this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount);\n            this.previousBookingType = 'depositRequired';\n            this.selectedBookingType = 'depositRequired';\n        }\n\n        if(this.timepickerService.changePolicies$.getValue()?.nonRefundable){\n            this.timetableForm.get('changePolicies.nonRefundable').setValue(true);\n            this.timetableForm.get('changePolicies.freeCancellation.freeCancellation').setValue(false);\n            this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').disable();\n        }\n\n        if(this.timepickerService.changePolicies$.getValue()?.modifiable){\n            this.timetableForm.get('changePolicies.modifiable').patchValue(true);\n        }\n\n        if(this.timepickerService.changePolicies$.getValue()?.freeCancellation.freeCancellation){\n            this.timetableForm.get('changePolicies.nonRefundable').setValue(false);\n            this.timetableForm.get('changePolicies.freeCancellation.freeCancellation').setValue(true);\n            this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').enable();\n            this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').setValue(this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays);\n        }\n\n        // this.resourceService.listenForPolicyMenu().subscribe({\n        //     next: policyMenu => {\n        //         console.log('POLITICI 1', policyMenu)\n        //\n        //         if (policyMenu) {\n        //             this.sendTimePicker();\n        //\n        //             const changePoliciesToSend = {\n        //                 ...this.timetableForm.get('changePolicies').value,\n        //                 freeCancellation: {\n        //                     ...this.timetableForm.get('changePolicies.freeCancellation').value,\n        //                     deadlineDays: Number(this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').value)\n        //                 }\n        //             }\n        //             this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n        //             this.timepickerService.changePolicies$.next(changePoliciesToSend);\n        //             this.timepickerService.bookingPolicies$.next(this.timetableForm.get('bookingPolicies').value);\n        //\n        //             console.log('POLITICI 2', this.timetableForm.get('bookingPolicies').value)\n        //         }\n        //\n        //     }\n        // })\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n        this.bookingPoliciesValueChanges();\n    }\n\n    changePolicyEdit(event: any, type: string) {\n        if (event.checked && type === 'nonRefundable') {\n            this.timetableForm.get('changePolicies').get('freeCancellation.freeCancellation').setValue(false);\n            this.timetableForm.get('changePolicies').get('freeCancellation.deadlineDays').setValue(0);\n            this.timetableForm.get('changePolicies').get('freeCancellation.deadlineDays').disable();\n        } else if (event.checked && type === 'freeCancellation') {\n            this.timetableForm.get('changePolicies').get('nonRefundable').setValue(false);\n            this.timetableForm.get('changePolicies').get('freeCancellation.deadlineDays').enable();\n            this.timetableForm.get('changePolicies').get('freeCancellation.deadlineDays').setValue(0);\n        }\n\n        if (!event.checked && type === 'nonRefundable') {\n            this.timetableForm.get('changePolicies').get('nonRefundable').setValue(false);\n        } else if (!event.checked && type === 'freeCancellation') {\n            this.timetableForm.get('changePolicies').get('freeCancellation.freeCancellation').setValue(false);\n        }\n    }\n\n\n    bookingPoliciesValueChanges() {\n        const bookingPolicies = this.timetableForm.get('bookingPolicies') as FormGroup;\n        bookingPolicies.valueChanges\n            .pipe(\n                // distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),\n                takeUntil(this.ngUnsubscribe)\n            ).subscribe( (newValues: BookingPolicies & {advancePartialPayment: boolean; depositRequired: boolean}) => {\n            for (const bookingType in newValues) {\n                if (newValues[bookingType] === true) {\n                    if (!this.previousBookingType) {\n                        this.previousBookingType = bookingType;\n                        this.selectedBookingType = bookingType;\n                    } else if(bookingType !== this.selectedBookingType){\n                        this.previousBookingType = this.selectedBookingType;\n                        this.selectedBookingType = bookingType;\n                        break;\n                    }\n                }\n\n            }\n\n            if (this.previousBookingType && this.selectedBookingType && (this.previousBookingType !== this.selectedBookingType)) {\n                bookingPolicies.get(this.previousBookingType).patchValue(false, {emitEvent: false});\n\n                if (this.previousBookingType === 'depositRequired') {\n                    if (bookingPolicies.get('depositRequiredPercentage')?.disabled) {\n                        bookingPolicies.get('depositRequiredAmount').patchValue(0, {emitEvent: false});\n                    }\n                    if (bookingPolicies.get('depositRequiredAmount').disabled) {\n                        bookingPolicies.get('depositRequiredPercentage').patchValue(0, {emitEvent: false});\n                    }\n                }\n\n            }\n        });\n    }\n\n    formInit() {\n        this.timetableForm = this.fb.group({\n            timetable: this.fb.array([]),\n            bookingPolicies: new FormGroup({\n                depositRequiredAmount: new FormControl(0, Validators.pattern('^[1-9]\\\\d*$')),\n                depositRequired: new FormControl(false),\n            }, this.requireCheckboxesToBeCheckedValidator(1)),\n            changePolicies: this.fb.group({\n                nonRefundable: false,\n                modifiable: false,\n                freeCancellation: this.fb.group({\n                    freeCancellation: false,\n                    deadlineDays: [0, Validators.pattern('^[1-9]\\\\d*$')]\n                })\n            }, { validators: this.customChangePolicyValidation })\n        })\n        console.log('form-init', this.timetableForm.value)\n    }\n\n\n    customChangePolicyValidation(group: FormGroup): { [key: string]: any } | null {\n        const freeCancellation = group.get('freeCancellation.freeCancellation')?.value;\n        const deadlineDays = group.get('freeCancellation.deadlineDays')?.value;\n        const nonRefundable = group.get('nonRefundable')?.value;\n\n\n        if ((!nonRefundable && !freeCancellation) || (freeCancellation && deadlineDays === 0)) {\n            return { invalidPolicy: true };\n        }\n\n        return null;\n    }\n\n    requireCheckboxesToBeCheckedValidator(minRequired: number): ValidatorFn {\n        return function validate(formGroup: FormGroup) {\n            let checked = false; // Use a boolean flag to track if at least one checkbox is checked\n\n            Object.keys(formGroup.controls).forEach(key => {\n                const control = formGroup.controls[key];\n\n                if (control.value === true) {\n                    checked = true; // Set the flag to true if any checkbox is checked\n                    return; // Exit the loop early, as we only need one checkbox checked\n                }\n            });\n\n            if (!checked) {\n                return {\n                    requireCheckboxesToBeChecked: true,\n                };\n            }\n\n            return null;\n        };\n    }\n    timetable(): FormArray {\n        return this.timetableForm.get('timetable') as FormArray;\n    }\n\n    newDayTab(day: string): FormGroup {\n        return this.fb.group({\n                day: day,\n                startTime: moment('00:00', 'HH:mm'),\n                endTime: moment('00:00', 'HH:mm'),\n                closed: [false]\n            },\n            {\n                validators: this.checkTimeSlots\n            });\n    }\n\n    addDayTab(day: string) {\n        this.timetable().push(this.newDayTab(day));\n    }\n\n    removeDayTab(tabIndex: number) {\n        this.timetable().removeAt(tabIndex);\n    }\n\n    initConfigTabs() {\n        this.days.forEach((item: string) => {\n            this.addDayTab(item);\n        })\n    }\n\n    checkIfEdit() {\n        if (this.resourceService.resourceId$.getValue()) {\n            this.isEditMode = true;\n            console.log('tp id', this.resourceService.resourceTemplateData$.getValue().bookingTimePickerId);\n            if (this.timepickerService.timetableList$.getValue().length > 0) {\n                const serviceTimetable = this.timepickerService.timetableList$.getValue();\n                serviceTimetable.forEach(day => {\n                    day.startTime = moment(day.startTime, 'HH:mm');\n                    day.endTime = moment(day.endTime, 'HH:mm');\n                })\n                this.timetableForm.get('timetable').patchValue(serviceTimetable);\n            } else {\n                const timetable = this.resourceService.resourceTemplateData$.getValue().timetable;\n                if (!timetable) {\n                    this.formInit();\n                } else {\n                    timetable.forEach(day => {\n                        day.startTime = moment(day.startTime, 'HH:mm');\n                        day.endTime = moment(day.endTime, 'HH:mm');\n                    })\n                    this.timetableForm.get('timetable').patchValue(timetable);\n                }\n\n            }\n\n\n            this.timepickerService.getTimepickerByResourceId(this.resourceService.resourceTemplateData$.getValue().bookingTimePickerId).subscribe({\n                next: (timepicker: any) => {\n                    console.log('timepicker', timepicker);\n                    this.timetableForm.get('bookingPolicies').patchValue(timepicker?.bookingPolicies ? timepicker?.bookingPolicies : null);\n\n                    // if (timepicker?.bookingPolicies?.depositRequiredPercentage > 0 && timepicker?.bookingPolicies?.depositRequiredPercentage ) {\n                    //     this.checkDepositType('percentage');\n                    //     this.timetableForm.get('bookingPolicies').get('depositRequired').patchValue(true);\n                    // } else\n                        if (timepicker?.bookingPolicies?.depositRequiredAmount > 0) {\n                        // this.checkDepositType('amount');\n                        this.timetableForm.get('bookingPolicies').get('depositRequired').patchValue(true);\n                        console.log('BOOKING', this.timetableForm.value);\n                    }\n\n                    this.timetableForm.get('changePolicies').patchValue(timepicker?.changePolicies ? timepicker?.changePolicies : null);\n                }\n            })\n\n            if (this.timepickerService.changePolicies$.getValue()) {\n                this.timetableForm.get('bookingPolicies').patchValue(this.timepickerService.bookingPolicies$.getValue());\n                const changePoliciesToSend = {\n                    ...this.timepickerService.changePolicies$.getValue(),\n                    freeCancellation: {\n                        ...this.timepickerService.changePolicies$.getValue()?.freeCancellation,\n                        deadlineDays: Number(this.timepickerService.changePolicies$.getValue()?.freeCancellation?.deadlineDays)\n                    }\n                }\n                console.log('HERE', changePoliciesToSend);\n                this.timetableForm.get('changePolicies').patchValue(changePoliciesToSend);\n            } else {\n                this.timepickerService.getTimepickerByResourceId(this.resourceService.resourceId$.getValue()).subscribe({\n                    next: (timepicker: any) => {\n                        console.log('timepicker', timepicker);\n                        this.timetableForm.get('bookingPolicies').patchValue(timepicker.bookingPolicies);\n\n                        // if (timepicker?.bookingPolicies?.depositRequiredPercentage > 0 && timepicker?.bookingPolicies?.depositRequiredPercentage) {\n                        //     this.checkDepositType('percentage');\n                        //     this.timetableForm.get('bookingPolicies').get('depositRequired').patchValue(true);\n                        // } else\n                            if (timepicker?.bookingPolicies?.depositRequiredAmount > 0) {\n                            // this.checkDepositType('amount');\n                            this.timetableForm.get('bookingPolicies').get('depositRequired').patchValue(true);\n                            console.log('BOOKING', this.timetableForm.value);\n                        }\n\n                        console.log('HERE 2', timepicker.changePolicies)\n                        const changePoliciesToSend = {\n                            ...timepicker.changePolicies,\n                            freeCancellation: {\n                                ...timepicker.changePolicies?.freeCancellation,\n                                deadlineDays: Number(timepicker.changePolicies?.freeCancellation?.deadlineDays)\n                            }\n                        }\n                        console.log('HERE', changePoliciesToSend);\n                        this.timetableForm.get('changePolicies').patchValue(changePoliciesToSend);\n                    }\n                })\n            }\n\n\n        } else {\n            this.isEditMode = false;\n        }\n    }\n\n    freeCancellationCheck(event) {\n        if (!event.checked) {\n            this.timetableForm.get('changePolicies').get('freeCancellation.deadlineDays').patchValue(0);\n        }\n    }\n\n    depositCheck(event) {\n        console.log('modificat deposit');\n        if (!event.checked) {\n            this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n        }\n    }\n\n    // checkDepositType(type) {\n    //     if (type === 'percentage') {\n    //         if (this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').value > 0) {\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').disable();\n    //         } else if (this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').value === 0 || !this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').enable();\n    //         }\n    //\n    //     } else if (type === 'amount') {\n    //         if (this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').value > 0) {\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').disable();\n    //         } else if (this.timetableForm.get('bookingPolicies').get('depositRequiredAmount').value === 0 || !this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n    //             this.timetableForm.get('bookingPolicies').get('depositRequiredPercentage').enable();\n    //         }\n    //     }\n    // }\n\n    advancePaymentCheck(event) {\n        if (!event.checked) {\n            this.timetableForm.get('bookingPolicies').get('advancePartialPaymentPercentage').patchValue(0);\n        }\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n\n        // Mark as touched\n        this.timetableForm.markAllAsTouched();\n\n        console.log('NEXT STEP', this.timetableForm.value);\n        console.log(this.timetableForm);\n\n        // Check form validation\n        if (this.timetableForm.invalid) {\n            console.log('INVALID')\n            console.log(this.timetableForm.getError('invalidTime'))\n            return\n        } else {\n            this.sendTimePicker();\n            console.log('TIMETABLE', this.timetableForm.get('timetable').value)\n\n\n            this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n            const changePoliciesToSend = {\n                ...this.timetableForm.get('changePolicies').value,\n                freeCancellation: {\n                    ...this.timetableForm.get('changePolicies.freeCancellation').value,\n                    deadlineDays: Number(this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').value)\n                }\n            }\n            this.timepickerService.changePolicies$.next(changePoliciesToSend);\n            this.timepickerService.bookingPolicies$.next(this.timetableForm.get('bookingPolicies').value);\n            console.log('NEXT FORM', this.timetableForm.value);\n            // console.log('free', changePoliciesToSend)\n        }\n\n        // Go the next step\n        this.stepperService.nextStep();\n\n    }\n\n    checkTimeSlots(control: AbstractControl): ValidatorFn {\n        const startTime = control.get('startTime');\n        const endTime = control.get('endTime');\n        const closed = control.get('closed');\n        // console.log('closed', closed)\n        // console.log('CHECK start', moment(startTime.value).format('HH:mm'));\n        // console.log('CHECK end',moment(endTime.value).format('HH:mm'));\n        if(!closed.value){\n            if (moment(startTime.value).format('HH:mm') >= moment(endTime.value).format('HH:mm')) {\n                console.log('nu e bine');\n                endTime.setErrors({invalidTime: true});\n            }\n        }else{\n            endTime.setErrors(null);\n        }\n\n\n        return;\n    }\n\n    sendTimePicker() {\n\n        this.timetableForm.get('timetable').value.forEach((day, index) => {\n            // console.log('SEND TP', day);\n            day.endTime = moment(day.endTime).format('HH:mm');\n            day.startTime = moment(day.startTime).format('HH:mm');\n        })\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.timetableForm.markAllAsTouched();\n\n        console.log('PREV STEP', this.timetableForm);\n\n        // Check form validation\n        if (this.timetableForm.invalid) {\n            return\n        } else {\n            this.sendTimePicker();\n            this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n            this.timepickerService.changePolicies$.next(this.timetableForm.get('changePolicies').value);\n            this.timepickerService.bookingPolicies$.next(this.timetableForm.get('bookingPolicies').value);\n            console.log('PREV FORM', this.timetableForm.value);\n        }\n\n        this.stepperService.prevStep(true)\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.timetableForm.markAllAsTouched();\n        if(this.timetableForm.valid){\n            this.isSubmitLoading = true;\n            console.log('valid');\n\n            this.sendTimePicker();\n            console.log('TIMETABLE', this.timetableForm.get('timetable').value)\n\n\n            this.timepickerService.timetableList$.next(this.timetableForm.get('timetable').value);\n            const changePoliciesToSend = {\n                ...this.timetableForm.get('changePolicies').value,\n                freeCancellation: {\n                    ...this.timetableForm.get('changePolicies.freeCancellation').value,\n                    deadlineDays: Number(this.timetableForm.get('changePolicies.freeCancellation.deadlineDays').value)\n                }\n            }\n            this.timepickerService.changePolicies$.next(changePoliciesToSend);\n            this.timepickerService.bookingPolicies$.next(this.timetableForm.get('bookingPolicies').value);\n            console.log('form', this.timetableForm.value);\n\n\n            this.roomsArray = this.roomService.roomList$.getValue();\n\n            const combineForms: any = new FormGroup({\n                ...this.resourceService.generalInformationForm$.getValue().controls,\n                ...this.resourceService.facilitiesForm$.getValue().controls,\n                ...this.resourceService.filesForm$.getValue().controls\n            })\n\n            console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n            console.log('Form-uri combinate', combineForms.value)\n            console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n            console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n            console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n            // Empty array\n            const formData = [];\n\n            // Sort form inputs by tabName\n            for (const control in combineForms.controls) {\n                this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                    section.tabAttributes.forEach(attribute => {\n                        if (attribute.name === control) {\n                            if (attribute.valueType === 'multiple-select') {\n                                console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                                formData.push({\n                                    tabName: section.tabName,\n                                    attributeName: control,\n                                    attributeId: attribute.id,\n                                    attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                    attributeIconPath: attribute.icon.filePath\n                                });\n                            } else {\n                                formData.push({\n                                    tabName: section.tabName,\n                                    attributeName: control,\n                                    attributeId: attribute.id,\n                                    attributeValue: combineForms.get(control).value,\n                                    attributeIconPath: attribute.icon.filePath\n                                });\n                            }\n\n                        }\n                    });\n                });\n            }\n\n            console.log('FORM DATA', formData);\n            const attributes = formData.reduce((acc, item) => {\n                const index = acc.findIndex(x => x.tabName === item.tabName);\n                if (index !== -1) {\n                    acc[index].tabAttributes.push({\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    });\n                } else {\n                    acc.push({\n                        tabName: item.tabName,\n                        tabAttributes: [{\n                            attributeId: item.attributeId,\n                            attributeValue: item.attributeValue\n                        }]\n                    });\n                }\n                return acc;\n            }, []);\n\n            console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n            // Formatted Form Object\n            const formObject = {\n                title: combineForms.value.title,\n                description: combineForms.value.description,\n                address: combineForms.value.address,\n                country: combineForms.value.country,\n                city: combineForms.value.city,\n                slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n                featuredImage: combineForms.value.thumbnail,\n                images: this.resourceService.resourceData.getValue().images,\n                videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n                geographicalCoordinates: {\n                    latitude: combineForms.value.latitude,\n                    longitude: combineForms.value.longitude\n                },\n                attributes: attributes,\n                categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n                domain: this.resourceService.resourceTemplateType$.getValue().domain,\n                resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n                bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n                timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n                policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n                externalUrl: this.resourceService.externalUrl$.getValue(),\n                sharedExperience: combineForms.value.sharedExperience,\n                forItinerary: combineForms.value.forItinerary\n            }\n\n\n            console.log('FORM OBJ', formObject);\n\n            if (this.resourceService.resourceId$.getValue()) {\n                this.updateResource(formObject, combineForms);\n                //added for policies check on menu\n                // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n                //             this.timepickerService.changePolicies$.getValue().modifiable ||\n                //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n                //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n                //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n                //         this.updateResource(formObject, combineForms);\n                //     } else {\n                //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n                //         this.isSubmitLoading$.next(false);\n                //     }\n                //     //if not menu, everything works like before\n                // } else {\n                //     this.updateResource(formObject, combineForms);\n                // }\n\n            }\n        }else{\n            console.log('invalid');\n            return\n        }\n\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n        this.routeSub?.unsubscribe();\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {ResourcesService} from \"../../../../../../../shared/_services/resources.service\";\nimport {ResourcesService as ResourceService} from \"../../../../../_services/resources.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {User} from \"../../../../../../../shared/_models/user.model\";\nimport {SystemSetting} from \"../../../../../../../shared/_models/system-setting.model\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {FormGroup} from \"@angular/forms\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\nimport moment from \"moment/moment\";\n\n@Component({\n    selector: 'app-cultural-related-res',\n    templateUrl: './cultural-related-res.component.html',\n    styleUrls: ['./cultural-related-res.component.scss']\n})\nexport class CulturalRelatedResComponent implements OnInit {\n\n    displayedResourcesColumns = ['title', 'address', 'category', 'purchase', 'status', 'actions'];\n    pageNumberChoose = 0;\n    pageSizeChoose = 10;\n    dataSourceChoose = [];\n    filterTitleChoose: string;\n\n    resToBeAdded = [];\n\n    pageSizeArray = [10, 25, 50, 100];\n    sorting = \"date\";\n    dir = 'desc';\n    totalElements: number;\n\n    isStaff = false;\n    isProvider = false;\n    isAdmin = false;\n    user: User;\n    eventCategoryId: string;\n    jobCategoryId: string;\n    resourceId: string;\n    theaterCategoryId: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    roomsArray: any;\n    currentBookingType: string;\n\n    constructor(private stepperService: StepperService,\n                private resourcesService: ResourcesService,\n                private toastService: ToastService,\n                private usersService: UserDataService,\n                private systemService: SystemSettingsService,\n                private resourceService: ResourceService, private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n    ngOnInit() {\n        this.resourceId = this.resourceService.resourceId$.getValue();\n        this.theaterCategoryId = this.resourceService.resourceTemplateType$.getValue().categoryId;\n\n        if(this.resourceService.relatedResources$.getValue()?.length > 0){\n            console.log('RELATED RES DIN SERVICIU', this.resourceService.relatedResources$.getValue())\n            this.addToRelatedRes(this.resourceService.relatedResources$.getValue()[0]);\n        }else{\n            if(this.resourceService.resourceId$.getValue()){\n                const relatedRes = this.resourceService.resourceTemplateData$.getValue().relatedResources;\n                if (relatedRes?.length > 0) {\n                    this.getRelatedResource(relatedRes[0]);\n                }\n            }\n        }\n        this.runAfterAsyncOperations();\n    }\n\n    getRelatedResource(relatedResourcesId) {\n        this.resourcesService.getResourceById(relatedResourcesId)\n            .subscribe({\n                next: res => {\n                    this.addToRelatedRes(res);\n                }\n            })\n\n    }\n\n    applyFilter(event?) {\n\n        const filterObject = {\n            title: this.filterTitleChoose !== '' || this.filterTitleChoose !== null ? this.filterTitleChoose : null,\n            userId: this.isProvider ? this.user.id : this.createResourceService.providerData$.getValue()?.providerId,\n            excludedCategories: [this.eventCategoryId, this.jobCategoryId]\n        }\n\n        console.log('FILTRU', filterObject);\n\n        this.resourcesService.listResourceFiltered(this.pageNumberChoose, this.pageSizeChoose, this.sorting, this.dir, filterObject).subscribe((res: object) => {\n            console.log('marimea paginii din apply FIlter', this.pageSizeChoose, this.filterTitleChoose);\n            // this.paginationInfo = res;\n            this.totalElements = res[\"totalElements\"];\n            this.dataSourceChoose = res[\"content\"];\n\n        });\n\n    }\n\n    pageChanged(event) {\n        this.pageNumberChoose = event.pageIndex;\n        this.pageSizeChoose = event.pageSize;\n        this.applyFilter();\n    }\n\n\n    addToRelatedRes(resource) {\n        if (this.resToBeAdded.length > 0) {\n            this.toastService.showToast('Error', 'Exista deja o resursa asociata acestui eveniment!', \"error\");\n        } else {\n            this.resToBeAdded.push(resource);\n            console.log('DUPA ADD', this.resToBeAdded);\n        }\n    }\n\n    removeRelatedResource() {\n        this.resToBeAdded = [];\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        if (this.resToBeAdded.length > 0) {\n            this.resourceService.relatedResources$.next(this.resToBeAdded);\n            console.log(this.resourceService.relatedResources$.getValue());\n        }\n        this.stepperService.nextStep()\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        if (this.resToBeAdded.length > 0) {\n            this.resourceService.relatedResources$.next(this.resToBeAdded);\n        }\n        this.stepperService.prevStep()\n    }\n\n    //async functions\n    getEventCategoryId(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.systemService.getSystemSetting().subscribe({\n                next: (resp: SystemSetting) => {\n                    this.eventCategoryId = resp.eventCategoryId;\n                    console.log('RES SETTINGS', resp);\n                    console.log('id categorie event', this.eventCategoryId);\n                    resolve(); // Resolve the promise once the operation is complete\n                },\n                error: err => {\n                    reject(err); // Reject the promise if there's an error\n                }\n            });\n        });\n    }\n\n\n    getJobCategoryId(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.resourcesService.getListOfDomains().subscribe({\n                next: (domains: any) => {\n                    domains.forEach(domain => {\n                        if (domain.key === 'jobs') {\n                            this.resourcesService.listCategoryFiltered(0, 1, null, null, {domainId: domain.id})\n                                .subscribe({\n                                    next: (category: any) => {\n                                        this.jobCategoryId = category.content[0].id;\n                                        resolve(); // Resolve the promise once the operation is complete\n                                    },\n                                    error: err => {\n                                        reject(err); // Reject the promise if there's an error\n                                    }\n                                });\n                        }\n                    });\n                }\n            });\n        });\n    }\n\n    getCurrentUser(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.usersService.getCurrentUser().subscribe({\n                next: (response: any) => {\n                    this.user = response;\n                    if (response.roles.includes('ROLE_PROVIDER')) {\n                        this.isProvider = true;\n                    }\n\n                    if (response.roles.includes('ROLE_STAFF')) {\n                        this.isStaff = true;\n                    }\n\n                    if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                        this.isAdmin = true;\n                    }\n\n                    resolve(); // Resolve the promise once the operation is complete\n                },\n                error: err => {\n                    reject(err); // Reject the promise if there's an error\n                }\n            });\n        });\n    }\n\n\n    async runAfterAsyncOperations() {\n        try {\n            await this.getEventCategoryId();\n            await this.getJobCategoryId();\n            await this.getCurrentUser();\n\n            //  async operations are complete, you can now call the next function\n            this.applyFilter();\n\n        } catch (error) {\n            console.error('Error occurred:', error);\n        }\n    }\n\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            startDate:  (combineForms.value?.startDate !== 'Invalid date' && this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            endDate: (combineForms.value?.endDate !== 'Invalid date' &&  this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : this.resourceService.resourceTemplateData$.getValue()?.bookingPolicies,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n\n                const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                if(resourceRelatedRes?.length > 0 && this.resToBeAdded?.length > 0 && this.resToBeAdded[0]?.id === resourceRelatedRes[0]){\n                    // nu fac nimic\n                }else if(resourceRelatedRes?.length > 0 && this.resToBeAdded?.length > 0 && this.resToBeAdded[0]?.id !== resourceRelatedRes[0]){\n                    console.log('id vechi', resourceRelatedRes[0], 'id nou', this.resToBeAdded[0].id)\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), this.resToBeAdded[0].id));\n                }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && this.resToBeAdded?.length > 0){\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), this.resToBeAdded[0].id));\n                }else if(resourceRelatedRes?.length > 0 && this.resToBeAdded?.length === 0){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                }\n\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n}\n","import { Component } from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\n\n@Component({\n  selector: 'app-apply-job',\n  templateUrl: './apply-job.component.html',\n  styleUrls: ['./apply-job.component.scss']\n})\nexport class ApplyJobComponent {\n  roomList: any = []\n  resourceId: string\n  dataLoaded = false;\n\n  constructor(private stepperService: StepperService) {\n  }\n\n\n\n  /** Go to next step*/\n  nextStep() {\n    this.stepperService.nextStep()\n  }\n\n  /** Go to previous step*/\n  prevStep() {\n    this.stepperService.prevStep()\n  }\n\n}\n","import { Component } from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\n\n@Component({\n  selector: 'app-car-booking',\n  templateUrl: './car-booking.component.html',\n  styleUrls: ['./car-booking.component.scss']\n})\nexport class CarBookingComponent {\n  roomList: any = []\n  resourceId: string\n  dataLoaded = false;\n\n  constructor(private stepperService: StepperService) {\n  }\n\n\n\n  /** Go to next step*/\n  nextStep() {\n    this.stepperService.nextStep()\n  }\n\n  /** Go to previous step*/\n  prevStep() {\n    this.stepperService.prevStep()\n  }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subject, takeUntil} from \"rxjs\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {CulturalRoom} from \"../../../../../../../shared/_models/cultural-room.model\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\nimport {map} from \"rxjs/operators\";\nimport moment from \"moment\";\n\n@Component({\n    selector: 'app-cultural-booking',\n    templateUrl: './cultural-booking.component.html',\n    styleUrls: ['./cultural-booking.component.scss']\n})\nexport class CulturalBookingComponent implements OnInit, OnDestroy {\n\n    // Cultural Booking specific data\n    culturalRoomData: CulturalRoom = null;\n    zones = this.fb.array([\n        this.fb.group({\n            price: [0, [Validators.required, Validators.min(0)]],\n            rows: [1, [Validators.required, Validators.min(1)]],\n            columns: [1, [Validators.required, Validators.min(1)]]\n        }, {\n            validators: Validators.required\n        })\n    ]);\n    rowsGenerationType: 'numbers' | 'letters' = 'numbers';\n    hasBookedWithReservation = true;\n\n\n    // START: Generic Add-Edit Resource data\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n    // END: Generic Add-Edit Resource data\n\n\n    private ngUnsubscribe = new Subject<void>();\n\n    constructor(private stepperService: StepperService,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private userService: UserDataService,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private createResourceService: CreateResourceService,\n                private menuService: MenuService,\n                private toastService: ToastService,\n                private culturalBookingService: CulturalBookingService\n                ) {\n        this.isSubmitLoading$\n            .asObservable()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe((res) => (this.isSubmitLoading = res));\n    }\n\n    ngOnInit(): void {\n        // Store Resource ID\n        this.resourceId = this.resourceService.resourceId$.getValue();\n\n        if (this.resourceId) {\n            // get data for edit\n            if (!this.culturalBookingService.culturalRoom$.getValue()) {\n                this.culturalBookingService.getResourceCulturalRooms(this.resourceService.resourceId$.getValue())\n                    .pipe(\n                        map(culturalRooms => culturalRooms[0]),\n                        takeUntil(this.ngUnsubscribe)\n                    )\n                    .subscribe({\n                        next: culturalRoom => {\n                            console.log(culturalRoom)\n                            this.culturalBookingService.culturalRoom$.next(culturalRoom);\n                            // this.culturalRoomData = this.culturalBookingService.culturalRoom$.getValue();\n                            this.culturalRoomData = culturalRoom;\n                            this.initZonesForm();\n                            this.hasBookedWithReservation = this.checkIfBookedWithReservation();\n                        }\n                    })\n            } else {\n                this.culturalRoomData = this.culturalBookingService.culturalRoom$.getValue();\n                this.initZonesForm();\n                this.hasBookedWithReservation = this.checkIfBookedWithReservation();\n            }\n        } else {\n            this.culturalBookingService.culturalRoomData()\n                .pipe(takeUntil(this.ngUnsubscribe))\n                .subscribe({\n                    next: culturalRoom => {\n                        this.culturalRoomData = culturalRoom;\n                        this.initZonesForm();\n                        this.hasBookedWithReservation = this.checkIfBookedWithReservation();\n                    }\n                });\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n    }\n\n    initZonesForm() {\n        if (!this.culturalRoomData) return;\n\n        this.culturalRoomData.zones.forEach( (zone, zoneIndex) => {\n            if (zoneIndex === 0) {\n                this.zones.controls[0].patchValue({\n                    price: zone.price,\n                    rows: zone.rows,\n                    columns: zone.columns\n                });\n            } else {\n                this.addZone(zone.price, zone.rows, zone.columns);\n            }\n\n            // verificare daca rows sunt numbers sau letters\n            const firstRowLabel = zone.rowsForBooking[0].rowLabel;\n\n            if (isNaN(Number(firstRowLabel))) {\n                this.rowsGenerationType = 'letters';\n            } else {\n                this.rowsGenerationType = 'numbers';\n            }\n\n        });\n    }\n\n    checkIfBookedWithReservation(): boolean {\n        if (this.culturalRoomData?.zones?.length > 0) {\n            for (const zone of this.culturalRoomData.zones) {\n                for (const row of zone.rowsForBooking) {\n                    for (const seat of row.seats) {\n                        if (seat.seatStatus === 'bookedWithReservation') {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    addZone(price?: number, rows?: number, columns?: number) {\n        this.zones.push(\n            this.fb.group({\n                price: [price || 0, [Validators.required, Validators.min(0)]],\n                rows: [rows || 1, [Validators.required, Validators.min(1)]],\n                columns: [columns || 1, [Validators.required, Validators.min(1)]]\n            })\n        );\n    }\n\n    removeZone(zoneIndex: number) {\n        this.zones.removeAt(zoneIndex);\n    }\n\n    generateSeats() {\n        console.log(this.zones.value);\n        this.zones.markAllAsTouched();\n\n        if (this.zones.invalid) return;\n\n        let rowLabelAsNumber = 1;\n\n        const newCulturalRoom: CulturalRoom = {\n            name: null,\n            date: null,\n            zones: this.zones.value.map( zone => {\n                return {\n                    ...zone,\n                    rowsForBooking: new Array(zone.rows).fill(null).map(() => {\n                        return {\n                            rowLabel: this.rowsGenerationType === 'numbers' ? (rowLabelAsNumber++).toString() : this.numberToLetters(rowLabelAsNumber++),\n                            seats: new Array(zone.columns).fill(null).map( (seat, seatIndex) => {\n                                return {\n                                    seatColumnLabel: seatIndex + 1,\n                                    seatStatus: 'available'\n                                }\n                            })\n                        }\n                    })\n                }\n            })\n        };\n\n        console.log(newCulturalRoom);\n\n        this.culturalRoomData = {...this.culturalRoomData,...newCulturalRoom};\n    }\n\n    numberToLetters(number: number): string {\n        let str = '', q, r;\n        while (number > 0) {\n            q = (number - 1) / 26;\n            r = (number - 1) % 26;\n            number = Math.floor(q);\n            str = String.fromCharCode(65 + r) + str;\n        }\n        return str;\n    }\n\n    /** Go to next step*/\n    nextStep() {\n        console.log(this.culturalRoomData);\n        this.culturalBookingService.culturalRoom$.next(this.culturalRoomData);\n        this.stepperService.nextStep();\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.culturalBookingService.culturalRoom$.next(this.culturalRoomData);\n        this.stepperService.prevStep();\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n    saveResource() {\n        this.isSubmitLoading = true;\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            bookingPolicies: combineForms.value?.bookingPolicies\n                ? {\n                    depositRequiredPercentage: combineForms.value.bookingPolicies?.depositRequiredPercentage || 0,\n                    depositRequiredAmount: combineForms.value.bookingPolicies?.depositRequiredAmount || 0,\n                    advancePartialPaymentPercentage: combineForms.value.bookingPolicies?.advancePartialPaymentPercentage || 0,\n                    advanceFullPayment: combineForms.value.bookingPolicies?.advanceFullPayment || false,\n                }\n                : this.resourceService.resourceTemplateData$.getValue()?.bookingPolicies,\n            startDate:  (combineForms.value?.startDate !== 'Invalid date' && this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.startDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            endDate: (combineForms.value?.endDate !== 'Invalid date' &&  this.currentBookingType === 'culturalBooking') ? moment(combineForms.value?.endDate)?.format('YYYY-MM-DDTHH:mm') : null,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n\n                const currentRelatedRes = this.resourceService.relatedResources$.getValue();\n                const resourceRelatedRes = this.resourceService.resourceTemplateData$.getValue()?.relatedResources;\n                if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id === resourceRelatedRes[0]){\n                    // nu fac nimic\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length > 0 && currentRelatedRes[0]?.id !== resourceRelatedRes[0]){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if((resourceRelatedRes?.length === 0 || !resourceRelatedRes) && currentRelatedRes?.length > 0){\n                    this.$fileObservables.push(this.resourceService.addRelatedresources(this.resourceService.resourceId$.getValue(), currentRelatedRes[0].id));\n                }else if(resourceRelatedRes?.length > 0 && currentRelatedRes?.length === 0){\n                    this.$fileObservables.push(this.resourceService.removeRelatedResource(resourceRelatedRes[0], this.resourceService.resourceId$.getValue()));\n                }\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray && this.roomsArray?.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalRoomData;\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-external-url',\n    templateUrl: './external-url.component.html',\n    styleUrls: ['./external-url.component.scss']\n})\nexport class ExternalUrlComponent implements OnInit, OnDestroy {\n    roomList: any = []\n    dataLoaded = false;\n\n    externalURL = new FormControl('', Validators.required);\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n\n    constructor(private stepperService: StepperService,\n                private resourceService: ResourcesService, private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n    ngOnInit() {\n        this.externalURL.patchValue(this.resourceService.resourceTemplateData$.getValue().externalUrl);\n        console.log('EXTERNAL URL?', this.resourceService.resourceTemplateData$.getValue().externalUrl);\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n    }\n\n\n    sendExternalUrl() {\n        this.externalURL.markAsTouched();\n        if (this.externalURL.valid) {\n            console.log(this.externalURL.value);\n            this.resourceService.externalUrl$.next(this.externalURL.value);\n        }\n    }\n\n    /** Go to next step*/\n    nextStep() {\n        this.sendExternalUrl();\n        this.stepperService.nextStep(true);\n\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.sendExternalUrl();\n        this.stepperService.prevStep()\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormArray, FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {MenuService} from \"../../../../../../_services/menu.service\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\n\n@Component({\n    selector: 'app-add-edit-category',\n    templateUrl: './add-edit-category.component.html',\n    styleUrls: ['./add-edit-category.component.scss']\n})\nexport class AddEditCategoryComponent implements OnInit {\n\n    menu: FormGroup;\n    isEditMode = false;\n\n    constructor(private fb: FormBuilder,\n                private menuService: MenuService,\n                private resourceService: ResourcesService,\n                public dialogRef: MatDialogRef<AddEditCategoryComponent>,\n                @Inject(MAT_DIALOG_DATA) public categoryData: { category }) {\n    }\n\n    ngOnInit() {\n        this.formInit();\n        this.checkIfEdit();\n    }\n\n    formInit() {\n        this.menu = this.fb.group({\n            id: [this.categoryData ? undefined : Math.random().toString(36).substring(2, 17)],\n            categoryName: ['', Validators.required],\n            subCategories: this.fb.array([])\n        })\n    }\n\n    subCategories(): FormArray {\n        return this.menu.get('subCategories') as FormArray;\n    }\n\n    newSubcategory(): FormGroup {\n        return this.fb.group({\n            subCategoryName: [null, Validators.required],\n            subCategoryItems: this.fb.array([])\n        })\n    }\n\n    addSubcategory() {\n        this.subCategories().push(this.newSubcategory());\n    }\n\n    removeSubcategory(index: number) {\n        this.subCategories().removeAt(index);\n    }\n\n\n    //menu categ items\n    subCategoryItems(index): FormArray {\n        return this.subCategories().at(index)?.get('subCategoryItems') as FormArray;\n    }\n\n\n    newItem(): FormGroup {\n        return this.fb.group({\n            name: [null, Validators.required],\n            price: [0, Validators.pattern(\"^[1-9]\\\\d*$\")],\n            weight: [0, Validators.pattern(\"^[1-9]\\\\d*$\")],\n            ingredients: '',\n            allergens: '',\n            nutritionalFacts: ''\n        })\n    }\n\n    addItem(index) {\n        this.subCategoryItems(index).push(this.newItem());\n    }\n\n    removeItem(index: number, childIndex: number) {\n        this.subCategoryItems(index).removeAt(childIndex);\n    }\n\n    onKeyDown(event: KeyboardEvent) {\n        console.log(event)\n        // Prevent the default behavior of enter and space keys\n        if (event.key === 'Enter' || event.code === 'Space') {\n            event.preventDefault();\n        }\n    }\n\n\n    close(): void {\n        this.dialogRef.close();\n    }\n\n    checkIfEdit() {\n        if (this.categoryData) {\n            this.isEditMode = true;\n            this.menu.patchValue(this.categoryData.category);\n            if (this.categoryData.category.subCategories.length > 0) {\n                this.categoryData.category.subCategories.forEach((subcategory, subcategoryIndex) => {\n\n                    this.subCategories().push(\n                        this.fb.group({\n                            subCategoryName: subcategory.subCategoryName,\n                            subCategoryItems: this.fb.array([])\n                        }) )\n\n                    subcategory.subCategoryItems.forEach(item => {\n                        this.addItem(subcategoryIndex);\n                    })\n                    this.subCategoryItems(subcategoryIndex).patchValue(subcategory.subCategoryItems);\n                })\n\n            }\n        }\n    }\n\n    confirm() {\n        this.menu.markAllAsTouched();\n        if (this.menu.valid) {\n            const menu = this.menu.value;\n            if (this.isEditMode) {\n                this.updateCategory(menu);\n                this.dialogRef.close();\n            } else {\n                this.createCategory(menu);\n                this.dialogRef.close();\n            }\n        } else {\n            console.log('formular invalid', this.menu.value);\n        }\n        console.log(this.menu.value)\n    }\n\n    updateCategory(menu) {\n        console.log('vr sa editez o categ');\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('EDIT pe EDIT resource');\n            //update a categ that was added now\n            if (this.categoryData.category.state === 'add') {\n                // Get prod List\n                const menuList = this.menuService.menuList$.getValue();\n\n                // Find selected room by index\n                const selectedIndex = menuList.findIndex(category => category.id === menu.id);\n\n                //the state will be 'add' because this room is going to be added in the end\n                menu = {\n                    ...menu,\n                    state: 'add'\n                }\n\n                if (selectedIndex !== -1) {\n                    menuList[selectedIndex] = menu;\n                    this.menuService.menuList$.next(menuList);\n                    this.menuService.refreshMenuList$.next(true);\n                } else {\n                    console.log('menu not found');\n                }\n            } else {\n                //the prod exists on the resource\n                // Get prod List\n                const menuList = this.menuService.menuList$.getValue();\n\n                // Find selected room by index\n                const selectedIndex = menuList.findIndex(category => category.id === menu.id);\n                menu = {\n                    ...menu,\n                    state: 'update'\n                }\n                if (selectedIndex !== -1) {\n                    menuList[selectedIndex] = menu;\n                    this.menuService.menuList$.next(menuList);\n                    this.menuService.refreshMenuList$.next(true);\n                } else {\n                    console.log('prod not found');\n                }\n\n            }\n        } else {\n            console.log('EDIT pe ADD resource');\n            const categList = this.menuService.menuList$.getValue()\n\n            // Find selected room by index\n            const selectedCategIndex = categList.findIndex(category => category.id === menu.id);\n\n            // Check if the room was found and update\n            if (selectedCategIndex !== -1) {\n                categList[selectedCategIndex] = menu;\n                this.menuService.menuList$.next(categList);\n            } else {\n                console.log('Room not found');\n            }\n        }\n    }\n\n    createCategory(menu) {\n        console.log('vr sa ADAUG o categ');\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('ADD pe EDIT resource');\n            menu = {\n                ...menu,\n                state: 'add'\n            }\n            this.menuService.addCategoryToList(menu);\n            this.menuService.refreshMenuList$.next(true);\n            console.log('list', this.menuService.menuList$.getValue());\n        } else {\n            this.menuService.addCategoryToList(menu);\n            console.log('list', this.menuService.menuList$.getValue());\n        }\n\n    }\n\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MenuService} from \"../../../../../../_services/menu.service\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\n\n@Component({\n  selector: 'app-delete-menu-category',\n  templateUrl: './delete-menu-category.component.html',\n  styleUrls: ['./delete-menu-category.component.scss']\n})\nexport class DeleteMenuCategoryComponent implements OnInit{\n\n  constructor(private menuService: MenuService,\n              public dialogRef: MatDialogRef<DeleteMenuCategoryComponent>,\n              @Inject(MAT_DIALOG_DATA) public categoryData: { category }) {\n  }\n\nngOnInit() {\n    console.log(this.categoryData)\n}\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  deleteCategory(){\n    const menuList = this.menuService.menuList$.getValue()\n\n    // Exclude the room by id\n    const filteredList = menuList.filter(category => category.id !== this.categoryData.category.id);\n\n    // Check if a room was deleted and update the array\n    if (filteredList.length !== menuList.length) {\n      this.menuService.menuList$.next(filteredList);\n      this.menuService.refreshMenuList$.next(true);\n      this.close();\n    } else {\n      console.log(`Room not found`);\n\n    }\n  }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {\n    AbstractControl,\n    AbstractFormGroupDirective, AsyncValidatorFn,\n    FormArray,\n    FormBuilder,\n    FormGroup,\n    Validator,\n    ValidatorFn,\n    Validators\n} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {AddEditTicketComponent} from \"../ticket-booking/add-edit-ticket/add-edit-ticket.component\";\nimport {AddEditCategoryComponent} from \"./add-edit-category/add-edit-category.component\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {DeleteTicketComponent} from \"../ticket-booking/delete-ticket/delete-ticket.component\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {DeleteMenuCategoryComponent} from \"./delete-menu-category/delete-menu-category.component\";\nimport {DatePipe} from \"@angular/common\";\nimport * as moment from \"moment\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-menu',\n    templateUrl: './menu.component.html',\n    styleUrls: ['./menu.component.scss'],\n    providers: [DatePipe]\n})\nexport class MenuComponent implements OnInit, OnDestroy {\n    roomList: any = []\n    resourceId: string\n    dataLoaded = false;\n    menuForm: FormGroup;\n    isEditMode = false;\n\n    tabIndex = 0;\n\n    timepickerArr = [];\n    timetableArr = [];\n\n    currentTimepicker: any;\n\n    categList = [];\n    timeDifference = [];\n\n    days = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];\n\n    // checkboxul de deasupra disponibilitatii\n    hasFreeEntry = false;\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(private stepperService: StepperService,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                public dialog: MatDialog,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n\n    ngOnInit() {\n        this.timeDifference = [];\n        this.formInit();\n        this.checkIfEdit();\n\n        // ascultam butonul de save\n        // this.resourceService.listenForSetup().subscribe({\n        //     next: setupListener => {\n        //         console.log('LISTENER', setupListener);\n        //         if (setupListener) {\n        //             this.menuForm.markAllAsTouched();\n        //             if (this.menuForm.valid) {\n        //\n        //                 // daca nu este bifat checkboxul, construim timetables\n        //                 if (!this.hasFreeEntry) {\n        //                     this.sendTimePicker();\n        //                 }\n        //                 console.log(this.menuForm.value);\n        //                 this.timepickerService.timePicker$.next(this.menuForm.value);\n        //             } else {\n        //                 return\n        //             }\n        //\n        //         }\n        //     }\n        // })\n\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.menuService.getMenuByResourceId(this.resourceService.resourceId$.getValue()).subscribe({\n                next: (menu: any) => {\n                    if (menu) {\n                        this.menuService.menuId$.next(menu.id);\n                        console.log('MENU ID', this.menuService.menuId$.getValue())\n                        if (this.menuService.menuList$.getValue().length === 0) {\n                            menu.items.forEach(categ => {\n                                const categToAdd = {\n                                    ...categ,\n                                    id: Math.random().toString(36).substring(2, 17)\n                                }\n                                this.menuService.addCategoryToList(categToAdd)\n                            })\n                            // this.menuService.menuList$.next(menu.items);\n                            this.categList = this.menuService.menuList$.getValue();\n                        }\n                    }\n\n                }\n            })\n        }\n\n        this.menuService.refreshMenuListData().subscribe({\n            next: menu => {\n                if (this.resourceId) {\n                    this.categList = this.menuService.menuList$.getValue();\n                    // console.log('da', this.categList);\n                } else {\n                    // Get Room List\n                    this.menuService.menuListData().subscribe({\n                        next: menuList => {\n                            this.categList = menuList;\n\n                            // console.log('da', this.categList);\n                        }\n                    })\n\n                }\n            }\n        })\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n    }\n\n    // PENTRU SIESTA\n\n    formInit() {\n        this.menuForm = this.fb.group({\n            timetables: this.fb.array([])\n        }, {validators: this.customIntervalValidation});\n    }\n\n    customIntervalValidation(group: FormGroup): { [key: string]: any } | null {\n        console.log(group);\n        let error = 0;\n        const timetables = group.get('timetables').value;\n        timetables.forEach(day => {\n            if (day.timetable?.length === 0) {\n                error++;\n                // console.log(error)\n            }\n        })\n        if (error === 7) {\n            return {invalidInterval: true};\n        }\n\n        return null;\n    }\n\n    //timepicker - disponibilitate\n    timetables(): FormArray {\n        return this.menuForm.get('timetables') as FormArray;\n    }\n\n    newDayTab(day: string): FormGroup {\n        return this.fb.group({\n                day: day,\n                maximumPeople: 0,\n                tableMinutesNumber: null,\n                timetable: this.fb.array([])\n            }\n        );\n    }\n\n    newDayTabNoValidation(day: string): FormGroup {\n        return this.fb.group({\n                day: day,\n                maximumPeople: 0,\n                tableMinutesNumber: null,\n                timetable: this.fb.array([])\n            }\n        );\n    }\n\n    addDayTab(day: string) {\n        this.timetables().push(this.newDayTab(day));\n    }\n\n    removeDayTab(tabIndex: number) {\n        this.timetables().removeAt(tabIndex);\n    }\n\n    initConfigTabs() {\n        this.days.forEach((item: string) => {\n            this.addDayTab(item);\n        })\n    }\n\n    //slots array\n    timetable(index): FormArray {\n        return this.timetables().at(index)?.get('timetable') as FormArray;\n    }\n\n\n    newTimetable(index): FormGroup {\n        return this.fb.group({\n                startHour: moment(),\n                endHour: moment()\n            },\n            {\n                validators: [this.checkTime, this.checkTimeSlots]\n            })\n    }\n\n    addTimetable(index) {\n        this.timetable(index).push(this.newTimetable(index));\n    }\n\n    removeSlot(index, childIndex: number) {\n        this.timetable(index).removeAt(childIndex);\n    }\n\n    openAddModal() {\n        this.dialog.open(AddEditCategoryComponent, {\n            width: '1500px',\n            height: '750px',\n            data: undefined\n        });\n    }\n\n    openEditModal(category) {\n        this.dialog.open(AddEditCategoryComponent, {\n            width: '1500px',\n            height: '750px',\n            data: {\n                category: category\n            }\n        });\n    }\n\n    openDeleteModal(category, index) {\n        this.dialog.open(DeleteMenuCategoryComponent, {\n            width: '720px',\n            height: '400px',\n            data: {\n                category: category,\n                index: index\n            }\n        });\n    }\n\n\n    checkTimeSlots(control: AbstractControl): ValidatorFn {\n        const startTime = control.get('startHour');\n        const endTime = control.get('endHour');\n        // console.log('CHECK start', moment(startTime.value).format('HH:mm'));\n        // console.log('CHECK end',moment(endTime.value).format('HH:mm'));\n        if (moment(startTime.value).format('HH:mm') >= moment(endTime.value).format('HH:mm')) {\n            // console.log('nu e bine');\n            endTime.setErrors({invalidTime: true});\n        }\n\n        return;\n    }\n\n// { [key: string]: boolean } | null\n    checkTime(control: FormGroup): ValidatorFn {\n        // console.log('UGHIRHGNLIERH',control);\n        const parentTimetable = control.parent as FormGroup;\n        const parentDayTab = parentTimetable?.parent as FormGroup;\n        const startHour = moment(control?.get('startHour')?.value).format('HH:mm');\n        const endHour = moment(control?.get('endHour')?.value).format('HH:mm');\n        const tableMinutesNumber = parentDayTab?.get('tableMinutesNumber')?.value;\n\n        if (startHour && endHour) {\n            const startParts = startHour.split(':');\n            const endParts = endHour.split(':');\n            const startMinutes = parseInt(startParts[0]) * 60 + parseInt(startParts[1]);\n            const endMinutes = parseInt(endParts[0]) * 60 + parseInt(endParts[1]);\n            const minutesDifference = endMinutes - startMinutes;\n            console.log('diff', minutesDifference);\n            console.log('avg', tableMinutesNumber);\n            if (minutesDifference < tableMinutesNumber) {\n                // console.log('NU E BINE', minutesDifference, tableMinutesNumber);\n                // console.log('parent FG', parentTimetable);\n                // console.log('bunic', parentDayTab.value.day);\n\n                control?.get('endHour').setErrors({invalidTimeRange: true});\n            } else {\n                // console.log('e bine');\n                return null;\n            }\n        } else {\n            return null;\n        }\n\n        return null;\n    }\n\n\n    checkIfEdit() {\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.isEditMode = true;\n            // console.log('edit res');\n            if (this.timepickerService.timePicker$.getValue()) {\n                // console.log('avem timepicker', this.timepickerService.timePicker$.getValue())\n                this.currentTimepicker = this.timepickerService.timePicker$.getValue();\n                this.formOnEdit();\n            } else {\n                this.timepickerService.getTimepickerByResourceId(this.resourceService.resourceId$.getValue()).subscribe({\n                    next: (timepicker:any) => {\n                        this.currentTimepicker = timepicker;\n                        // console.log('TIMEPICKER BY RES ID',timepicker);\n                        this.timepickerService.timepickerId$.next(timepicker?.id);\n\n                        this.formOnEdit();\n                    }\n                })\n            }\n\n\n        } else {\n            this.isEditMode = false;\n            if (this.timepickerService.timePicker$.getValue()) {\n                this.currentTimepicker = this.timepickerService.timePicker$.getValue();\n                // console.log('AM TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                this.formOnEdit();\n            } else {\n                this.initConfigTabs();\n                this.hasFreeEntry = this.timepickerService.getFreeEntry() || false;\n            }\n\n        }\n    }\n\n    formOnEdit() {\n\n        this.menuForm.patchValue(this.currentTimepicker);\n\n        console.log(this.currentTimepicker.timetables);\n\n\n        if (this.currentTimepicker.timetables?.length > 0) {\n            this.hasFreeEntry = this.timepickerService.getFreeEntry() || false;\n\n            this.currentTimepicker.timetables.forEach((timetableItem, index) => {\n                this.timetables().push(\n                    this.fb.group({\n                        day: timetableItem.day,\n                        maximumPeople: timetableItem.maximumPeople,\n                        tableMinutesNumber: timetableItem.tableMinutesNumber,\n                        timetable: this.fb.array([])\n                    })\n                )\n\n                timetableItem.timetable.forEach((timetbl, childIndex: number) => {\n                    const startTime = moment(timetbl.startHour, 'HH:mm');\n                    const endTime = moment(timetbl.endHour, 'HH:mm');\n\n                    this.timetable(index).push(this.fb.group({\n                        startHour: startTime,\n                        endHour: endTime\n                    }))\n                })\n                // this.timetable(index).patchValue(timetableItem.timetable);\n                // console.log('form', this.timetable(index).value);\n            })\n\n            // console.log('form', this.menuForm.value)\n        } else {\n            this.hasFreeEntry = true;\n        }\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        console.log(this.menuForm.value);\n        this.menuForm.markAllAsTouched();\n        if (this.menuForm.valid) {\n\n            this.stepperService.nextStep(true);\n\n            this.timepickerService.setFreeEntry(this.hasFreeEntry);\n\n\n            // this.makeTimetableArray();\n            // this.makeTimepickerArray();\n            // this.makeMenuArray(this.timepickerService.timetableList$.getValue(), this.timepickerService.timepickerList$.getValue());\n            if (!this.hasFreeEntry) {\n                this.sendTimePicker();\n                this.timepickerService.timePicker$.next({...this.currentTimepicker,\n                    ...this.menuForm.value});\n                // console.log('timepicker', this.timepickerService.timePicker$.getValue());\n            }\n        } else {\n            console.log(this.menuForm.errors);\n            return\n        }\n\n\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.menuForm.markAllAsTouched();\n        if (this.menuForm.valid) {\n\n            this.stepperService.prevStep();\n            this.timepickerService.setFreeEntry(this.hasFreeEntry);\n\n            if (!this.hasFreeEntry) {\n                this.sendTimePicker();\n                this.timepickerService.timePicker$.next({...this.currentTimepicker,\n                    ...this.menuForm.value});\n                // console.log('timepicker', this.timepickerService.timePicker$.getValue());\n            }\n        } else {\n            console.log(this.menuForm.errors);\n            return\n        }\n    }\n\n    sendTimePicker() {\n\n        this.menuForm.value.timetables.forEach((timetableItem, index) => {\n\n            timetableItem.timetable.forEach((timetbl, childIndex: number) => {\n                // console.log('TO SEND', timetbl)\n                const startTime = timetbl?.startHour.format('HH:mm');\n                const endTime = timetbl?.endHour.format('HH:mm');\n                // console.log(this.timetable(index).value[childIndex]);\n                this.timetable(index).value[childIndex] = {startHour: startTime, endHour: endTime};\n\n            })\n            // this.timetable(index).patchValue(timetableItem.timetable);\n            // console.log('form TO SEND', this.menuForm.value);\n        })\n\n    }\n\n    setFreeEntry() {\n        this.timepickerService.setFreeEntry(this.hasFreeEntry);\n\n        console.log(this.currentTimepicker);\n\n        if (this.isEditMode && this.currentTimepicker?.timetables?.length === 0 && !this.hasFreeEntry) {\n            // console.log('situatia asta');\n            this.initConfigTabs();\n        }else if (this.hasFreeEntry) {\n            // console.log('free entry true/add')\n            this.timetables().clear();\n        }else if(!this.isEditMode && !this.hasFreeEntry){\n            // console.log('free entry false/add')\n            this.initConfigTabs();\n        }\n\n\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.timepickerService.setFreeEntry(this.hasFreeEntry);\n\n        if (!this.hasFreeEntry) {\n            this.sendTimePicker();\n            this.timepickerService.timePicker$.next({...this.currentTimepicker,\n                ...this.menuForm.value});\n            console.log('timepicker', this.timepickerService.timePicker$.getValue());\n        }\n\n        this.isSubmitLoading = true;\n\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER ON SAVE', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n\n}\n","import {Component} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\n\n@Component({\n    selector: 'app-no-booking',\n    templateUrl: './no-booking.component.html',\n    styleUrls: ['./no-booking.component.scss']\n})\nexport class NoBookingComponent  {\n\n    roomList: any = []\n    resourceId: string\n    dataLoaded = false;\n\n    constructor(private stepperService: StepperService) {\n    }\n\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep(true)\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\nimport {ProductListService} from \"../../../../../../_services/product-list.service\";\n\n@Component({\n    selector: 'app-add-edit-product',\n    templateUrl: './add-edit-product.component.html',\n    styleUrls: ['./add-edit-product.component.scss']\n})\nexport class AddEditProductComponent implements OnInit {\n\n    thumbnailUrl = {\n        fileName: undefined,\n        filePath: undefined\n    };\n    thumbnailFile: Blob;\n\n    attachmentUrl = {\n        fileName: undefined,\n        filePath: undefined\n    }\n\n    attachmentFile: Blob;\n\n    productForm: FormGroup;\n    isEditMode = false;\n\n    constructor(public dialogRef: MatDialogRef<AddEditProductComponent>,\n                private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private productService: ProductListService,\n                @Inject(MAT_DIALOG_DATA) public productData: { product }) {\n    }\n\n    ngOnInit() {\n        this.thumbnailUrl = {\n            fileName: undefined,\n            filePath: undefined\n        };\n\n        this.thumbnailFile = undefined;\n\n        this.attachmentUrl = {\n            fileName: undefined,\n            filePath: undefined\n        };\n\n        this.attachmentFile = undefined;\n        this.formInit();\n        this.checkIfEdit();\n    }\n\n    formInit() {\n        this.productForm = this.fb.group({\n            id: [this.productData ? undefined : Math.random().toString(36).substring(2, 17)],\n            name: [null, Validators.required],\n            description: [null],\n            price: [null, Validators.min(0)],\n            images: [],\n            attachment: []\n        })\n    }\n\n    checkIfEdit() {\n        if (this.productData) {\n            this.isEditMode = true;\n            console.log('PRODUCT',this.productData.product)\n            this.productForm.patchValue(this.productData.product);\n            this.thumbnailUrl = this.productData.product?.images[0];\n            this.attachmentUrl = this.productData.product?.attachment;\n            if (this.productData.product.state === 'add' || this.productData.product.state === 'update') {\n                console.log(this.productData.product);\n                const imagesArray = this.productService.imagesArray$.getValue();\n                const element = imagesArray.find(element => element.id === this.productData.product.id);\n                console.log('am gasit camera in array', element);\n                this.thumbnailFile = element?.featuredImage;\n                this.thumbnailUrl = element?.featuredImageUrl;\n\n                const attachArray = this.productService.attachmentArray$.getValue();\n                console.log('ARRAY CU ATTACHMENTS', attachArray)\n                const attach = attachArray.find(elem => elem.id === this.productData.product.id);\n                console.log('am gasit attach in in array', attach);\n                this.attachmentFile = attach?.attachment;\n                this.attachmentUrl = attach?.attachmentUrl;\n            }\n        }\n    }\n\n    confirm() {\n        this.productForm.markAllAsTouched();\n        if (this.productForm.valid) {\n            const product = {\n                ...this.productForm.value,\n                images: [\n                    this.thumbnailUrl\n                ]\n            }\n            if (this.isEditMode) {\n                this.updateProduct(product);\n                this.close();\n            } else {\n                this.addProduct(product);\n                this.close();\n            }\n        }\n    }\n\n    updateProduct(product) {\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('editez un prod pe edit res');\n            //EDIT RESOURCE\n            //update a product that was added now\n            if (this.productData.product.state === 'add') {\n                // Get prod List\n                const prodList = this.productService.productsList$.getValue();\n\n                // Find selected room by index\n                const selectedProdIndex = prodList.findIndex(prod => prod.id === product.id);\n\n                //the state will be 'add' because this room is going to be added in the end\n                product = {\n                    ...product,\n                    state: 'add'\n                }\n\n                if (selectedProdIndex !== -1) {\n                    prodList[selectedProdIndex] = product;\n                    this.productService.productsList$.next(prodList);\n                    const image = {\n                        id: this.productForm.value.id,\n                        imageFile: this.thumbnailFile,\n                        imageUrl: this.thumbnailUrl\n                    }\n                    this.productService.addImgtoImgList(image);\n\n                    const attachment = {\n                        id: this.productForm.value.id,\n                        attachmentFile: this.attachmentFile,\n                        attachmentUrl: this.attachmentUrl\n                    }\n                    this.productService.addAttachmentToList(attachment);\n\n                    this.productService.refreshProductList$.next(true);\n                } else {\n                    console.log('prod not found');\n                }\n            } else {\n                //the prod exists on the resource\n                // Get prod List\n                const prodList = this.productService.productsList$.getValue();\n\n                // Find selected room by index\n                const selectedProdIndex = prodList.findIndex(prod => prod.id === product.id);\n                product = {\n                    ...product,\n                    state: 'update'\n                }\n                if (selectedProdIndex !== -1) {\n                    prodList[selectedProdIndex] = product;\n                    this.productService.productsList$.next(prodList);\n                    const image = {\n                        id: this.productForm.value.id,\n                        imageFile: this.thumbnailFile,\n                        imageUrl: this.thumbnailUrl\n                    }\n                    this.productService.addImgtoImgList(image);\n\n                    const attachment = {\n                        id: this.productForm.value.id,\n                        attachmentFile: this.attachmentFile,\n                        attachmentUrl: this.attachmentUrl\n                    }\n                    this.productService.addAttachmentToList(attachment);\n\n                    this.productService.refreshProductList$.next(true);\n                } else {\n                    console.log('prod not found');\n                }\n\n            }\n        } else {\n            console.log('editez un prod pe add res');\n            //CREATE RESOURCE\n            // Get prod List\n            const prodList = this.productService.productsList$.getValue();\n            // find this ticket in the current create list\n            const indexInList = prodList.findIndex(product => product.id === this.productForm.value.id);\n\n            // Check if the room was found and update\n            if (indexInList !== -1) {\n                prodList[indexInList] = this.productForm.value;\n                this.productService.productsList$.next(prodList);\n                const image = {\n                    id: this.productForm.value.id,\n                    imageFile: this.thumbnailFile,\n                    imageUrl: this.thumbnailUrl\n                }\n                this.productService.addImgtoImgList(image);\n\n                const attachment = {\n                    id: this.productForm.value.id,\n                    attachmentFile: this.attachmentFile,\n                    attachmentUrl: this.attachmentUrl\n                }\n                this.productService.addAttachmentToList(attachment);\n            } else {\n                console.log('prod not found');\n            }\n        }\n    }\n\n    addProduct(product) {\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('adaugare prod pe editare res')\n            //EDIT RESOURCE\n            product = {\n                ...product,\n                state: 'add'\n            }\n            this.productService.addProductToList(product);\n            const image = {\n                id: this.productForm.value.id,\n                imageFile: this.thumbnailFile,\n                imageUrl: this.thumbnailUrl\n            }\n            this.productService.addImgtoImgList(image);\n\n            if (this.attachmentFile) {\n                const attachment = {\n                    id: this.productForm.value.id,\n                    attachmentFile: this.attachmentFile,\n                    attachmentUrl: this.attachmentUrl\n                }\n                this.productService.addAttachmentToList(attachment);\n            }\n            this.productService.refreshProductList$.next(true);\n        } else {\n            //CREATE RESOURCE\n            console.log('adaugare prod pe adaugare res')\n            this.productService.addProductToList({...product,\n            state: 'add'});\n            if (this.thumbnailFile) {\n                const image = {\n                    id: this.productForm.value.id,\n                    imageFile: this.thumbnailFile,\n                    imageUrl: this.thumbnailUrl\n                }\n                this.productService.addImgtoImgList(image);\n            }\n\n            if (this.attachmentFile) {\n                const attachment = {\n                    id: this.productForm.value.id,\n                    attachmentFile: this.attachmentFile,\n                    attachmentUrl: this.attachmentUrl\n                }\n                this.productService.addAttachmentToList(attachment);\n            }\n\n            console.log('list attach', this.productService.attachmentArray$.getValue());\n            console.log('lista cu prod', this.productService.productsList$.getValue())\n        }\n    }\n\n    //----------------------------- IMAGES---------------------------\n    onThumbnailChange(event) {\n        if (event.target.files && event.target.files[0]) {\n            this.thumbnailUrl.fileName = event.target.files[0].name;\n            this.thumbnailFile = event.target.files[0];\n\n            const reader = new FileReader();\n            reader.onload = () => this.thumbnailUrl.filePath = reader.result;\n            reader.readAsDataURL(this.thumbnailFile);\n        }\n        console.log('thumbNail', this.thumbnailUrl);\n        console.log('thumbNail', this.thumbnailFile);\n    }\n\n    removeThumbnail() {\n        this.thumbnailUrl = {\n            fileName: undefined,\n            filePath: undefined\n        };\n        this.thumbnailFile = undefined;\n    }\n\n    //attachments\n    deleteAttachment() {\n        this.attachmentFile = undefined;\n        this.attachmentUrl = {\n            fileName: undefined,\n            filePath: undefined\n        }\n    }\n\n    uploadAttachmentFile(event) {\n        if (event.target.files && event.target.files[0]) {\n            this.attachmentUrl.fileName = event.target.files[0].name;\n            this.attachmentFile = event.target.files[0];\n\n            const reader = new FileReader();\n            reader.onload = () => this.attachmentUrl.filePath = reader.result;\n            reader.readAsDataURL(this.attachmentFile);\n\n            console.log('thumbNail', this.attachmentUrl);\n            console.log('thumbNail', this.attachmentFile);\n        }\n\n    }\n\n    close(): void {\n        this.dialogRef.close();\n    }\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {ProductListService} from \"../../../../../../_services/product-list.service\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\n\n@Component({\n    selector: 'app-delete-product-modal',\n    templateUrl: './delete-product-modal.component.html',\n    styleUrls: ['./delete-product-modal.component.scss']\n})\nexport class DeleteProductModalComponent implements OnInit {\n\n    currentProd: any;\n\n    constructor(private productService: ProductListService,\n                private resourceService: ResourcesService,\n                public dialogRef: MatDialogRef<DeleteProductModalComponent>,\n                @Inject(MAT_DIALOG_DATA) public productData: { product: any, index: number }) {\n    }\n\n    ngOnInit() {\n        this.currentProd = this.productData.product;\n    }\n\n    close(): void {\n        this.dialogRef.close();\n    }\n\n    deleteProduct() {\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('sunt pe edit res si vreau sa sterg');\n            //EDIT RESOURCE\n            //delete a product just added\n            if (this.productData.product.state === 'add') {\n                const prodList = this.productService.productsList$.getValue()\n\n                // Exclude the room by id\n                const filteredProd = prodList.filter(prod => prod.id !== this.productData.product.id);\n\n                // Check if a room was deleted and update the array\n                if (filteredProd.length !== prodList.length) {\n                    this.productService.productsList$.next(filteredProd);\n                    this.productService.refreshProductList$.next(true);\n                    this.close();\n                } else {\n                    console.log(`prod not found`);\n\n                }\n            }else{\n                //move the prod to delete array\n\n                const prodList = this.productService.productsList$.getValue()\n\n                // Exclude the room by id\n                const filteredProds = prodList.filter(prod => prod.id !== this.productData.product.id);\n\n                // Check if a room was deleted and update the array\n                if (filteredProds.length !== prodList.length) {\n                    this.productService.productsList$.next(filteredProds);\n                    this.productService.addProductToDeleteList(this.productData.product);\n                    console.log('DELETE ARRAY', this.productService.deleteProdList$.getValue());\n                    this.productService.refreshProductList$.next(true);\n                    this.close();\n                }\n            }\n        } else {\n            console.log('sunt pe add res si vreau sa sterg');\n            //ADD RESOURCE\n            // Get products list\n            const prodList = this.productService.productsList$.getValue()\n\n            // Exclude the ticket by id\n            const filteredProducts = prodList.filter(product => product.id !== this.productData.product.id);\n\n            // Check if a room was deleted and update the array\n            if (filteredProducts.length !== prodList.length) {\n                this.productService.productsList$.next(filteredProducts);\n            } else {\n                console.log(`Prod not found`);\n            }\n        }\n    }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {AddEditTicketComponent} from \"../ticket-booking/add-edit-ticket/add-edit-ticket.component\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {AddEditProductComponent} from \"./add-edit-product/add-edit-product.component\";\nimport {DeleteTicketComponent} from \"../ticket-booking/delete-ticket/delete-ticket.component\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {DeleteProductModalComponent} from \"./delete-product-modal/delete-product-modal.component\";\nimport {FormGroup} from \"@angular/forms\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-products-list',\n    templateUrl: './products-list.component.html',\n    styleUrls: ['./products-list.component.scss']\n})\nexport class ProductsListComponent implements OnInit, OnDestroy {\n\n    dataLoaded = false;\n    productList = [];\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(public dialog: MatDialog,\n                private stepperService: StepperService,\n                private resourceService: ResourcesService,\n                private productService: ProductListService, private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n    ngOnInit() {\n        this.resourceId = this.resourceService.resourceId$.getValue();\n\n        if (this.resourceId) {\n            this.productService.getProductsByResourceId(this.resourceId)\n                .subscribe({\n                    next: (productList: any) => {\n                        if (this.productService.productsList$.getValue().length === 0) {\n                            this.productService.productsList$.next(productList);\n                            this.productList = productList;\n                        } else {\n                            this.productList = this.productService.productsList$.getValue();\n                        }\n                    }\n                })\n        }\n\n        this.productService.refreshProductListData().subscribe({\n            next: () => {\n                if (this.resourceId) {\n                    this.productList = this.productService.productsList$.getValue();\n                } else {\n                    this.productService.productListData().subscribe({\n                        next: productList => {\n                            this.productList = productList;\n                        }\n                    })\n                }\n            }\n        })\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n        console.log('LIST', this.productService.productsList$.getValue())\n    }\n\n    openAddModal() {\n        this.dialog.open(AddEditProductComponent, {\n            width: '1500px',\n            height: '750px',\n            data: undefined\n        });\n    }\n\n    openEditModal(product) {\n        this.dialog.open(AddEditProductComponent, {\n            width: '1500px',\n            height: '750px',\n            data: {\n                product: product\n            }\n        });\n    }\n\n    openDeleteModal(product, index) {\n        this.dialog.open(DeleteProductModalComponent, {\n            width: '720px',\n            height: '400px',\n            data: {\n                product: product,\n                index: index\n            }\n        });\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep(true)\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n\n                                            const attachArray = this.productService.attachmentArray$.getValue();\n                                            attachArray.forEach(attach => {\n                                                console.log('ATTACHMENT', attach)\n                                                if (product.id === attach.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', attach);\n                                                    if (attach.attachmentFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', attach.attachmentFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadAttachmentForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('attachment uploadat', thumb);\n                                                            },error: (error)=>{\n                                                                if(error.error.reason === 'fileSizeTooBig'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if(error.error.reason === 'wrongExtension'){\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                }else{\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea atasamentului!\", \"error\");\n                                                                }\n                                                            }\n\n\n                                                        })\n                                                    }\n\n                                                    this.productService.attachmentArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n\n\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n\n}\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {RentalBookingService} from \"../../../../../../_services/rental-booking.service\";\nimport {FormArray, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from \"@angular/forms\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\nimport {distinctUntilChanged, Observable, Subject, takeUntil} from \"rxjs\";\nimport {BookingPolicies} from \"../../../../../../../../shared/_models/itinerary.model\";\n\n@Component({\n    selector: 'app-add-edit-room-modal',\n    templateUrl: './add-edit-room-modal.component.html',\n    styleUrls: ['./add-edit-room-modal.component.scss']\n})\nexport class AddEditRoomModalComponent implements OnInit, OnDestroy {\n    formSubmitClicked = false;\n\n    // images url and files\n    thumbnailUrl = {\n        fileName: undefined,\n        filePath: undefined\n    };\n    thumbnailFile: Blob;\n    galleryUrls = [];\n    galleryFiles = [];\n    galleryUrlsUpdate = [];\n\n    $fileObservables: Observable<object>[] = [];\n\n\n    selectOptions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n    activeFacilitiesByCategory = [];\n    selectedThumbsNail: Blob;\n    selectedThumbnailUrl = {\n        fileName: undefined,\n        filePath: undefined\n    };\n    selectedGalleryImages = [];\n    selectedGalleryImagesUrl = [];\n\n\n    formRoom: any = new FormGroup({\n        id: new FormControl(this.room ? undefined : Math.random().toString(36).substring(2, 17)),\n        name: new FormControl('', Validators.required),\n        description: new FormControl('', Validators.required),\n        roomSize: new FormControl(0, Validators.compose([Validators.required, Validators.min(0)])),\n        bathrooms: new FormControl(0, Validators.compose([Validators.required, Validators.min(0)])),\n        maximumAdultPeople: new FormControl(0, Validators.required),\n        maximumChildren: new FormControl(0, Validators.required),\n        minimumStay: new FormControl(1, Validators.compose([Validators.required, Validators.min(1)])),\n        itemsForBooking: new FormArray([\n            // new FormGroup(\n            //     {\n            //     itemNumber: new FormControl('', Validators.required)\n            // }\n            // ),\n        ], Validators.required),\n        bedType: new FormArray([\n            new FormGroup({\n                type: new FormControl('Twin Bed', Validators.required),\n                quantity: new FormControl(0, Validators.required)\n            }),\n            new FormGroup({\n                type: new FormControl('Queen Bed', Validators.required),\n                quantity: new FormControl(0, Validators.required)\n            }),\n            new FormGroup({\n                type: new FormControl('King Bed', Validators.required),\n                quantity: new FormControl(0, Validators.required)\n            }),\n            new FormGroup({\n                type: new FormControl('Double Bed', Validators.required),\n                quantity: new FormControl(0, Validators.required)\n            }),\n            new FormGroup({\n                type: new FormControl('Single Bed', Validators.required),\n                quantity: new FormControl(0, Validators.required)\n            })\n        ]),\n        price: new FormGroup({\n            regularPrice: new FormControl(0, [Validators.required, Validators.pattern('^[1-9]\\\\d*$'), Validators.maxLength(6)]),\n            weekendPrice: new FormControl(0, [Validators.required, Validators.pattern('^[1-9]\\\\d*$'), Validators.maxLength(6)]),\n        }),\n        benefits: new FormControl(undefined),\n        featuredImage: new FormControl(undefined),\n        images: new FormControl(undefined),\n        bookingPolicies: new FormGroup({\n            depositRequiredPercentage: new FormControl(0, [Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')]),\n            depositRequiredAmount: new FormControl(0, [Validators.required, Validators.pattern('^[1-9]\\\\d*$')]),\n            depositRequired: new FormControl(false),\n            advancePartialPayment: new FormControl(false),\n            advancePartialPaymentPercentage: new FormControl(0, [Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')]),\n            advanceFullPayment: new FormControl(false)\n        }, this.requireCheckboxesToBeCheckedValidator(1)),\n        changePolicies: new FormGroup({\n            nonRefundable: new FormControl(false),\n            modifiable: new FormControl(false),\n            freeCancellation: new FormGroup({\n                freeCancellation: new FormControl(false),\n                deadlineDays: new FormControl(0, Validators.pattern('^[1-9]\\\\d*$'))\n            })\n        },  { validators: this.customChangePolicyValidation })\n\n    })\n\n    changePolicyEdit(event: any, type: string) {\n        if (event.checked && type === 'nonRefundable') {\n            this.formRoom.get('changePolicies').get('freeCancellation.freeCancellation').setValue(false);\n            this.formRoom.get('changePolicies').get('freeCancellation.deadlineDays').setValue(0);\n            this.formRoom.get('changePolicies').get('freeCancellation.deadlineDays').disable();\n        } else if (event.checked && type === 'freeCancellation') {\n            this.formRoom.get('changePolicies').get('nonRefundable').setValue(false);\n            this.formRoom.get('changePolicies').get('freeCancellation.deadlineDays').enable();\n            this.formRoom.get('changePolicies').get('freeCancellation.deadlineDays').setValue(0);\n        }\n\n        if (!event.checked && type === 'nonRefundable') {\n            this.formRoom.get('changePolicies').get('nonRefundable').setValue(false);\n        } else if (!event.checked && type === 'freeCancellation') {\n            this.formRoom.get('changePolicies').get('freeCancellation.freeCancellation').setValue(false);\n        }\n    }\n\n    bookingPolicyEdit(event: any, type: string) {\n        if (event && type === 'depositRequired') {\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.enable();\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.enable();\n\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n\n            this.formRoom.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.formRoom.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage').disable();\n        }\n\n        if (event && type === 'advanceFullPayment') {\n            this.formRoom.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n\n            this.formRoom.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage')?.disable();\n        }\n\n        if (event && type === 'advancePartialPayment') {\n\n            this.formRoom.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage')?.enable();\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n\n            this.formRoom.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n        }\n\n        }\n\n    customChangePolicyValidation(group: FormGroup): { [key: string]: any } | null {\n        const freeCancellation = group.get('freeCancellation.freeCancellation')?.value;\n        const deadlineDays = group.get('freeCancellation.deadlineDays')?.value;\n        const nonRefundable = group.get('nonRefundable')?.value;\n\n\n        if ((!nonRefundable && !freeCancellation) || (freeCancellation && deadlineDays === 0)) {\n            return { invalidPolicy: true };\n        }\n\n        return null;\n    }\n\n    // le folosim la booking policies value changes, ca sa vedem care a fost optiunea selectata anterior\n    selectedBookingType: string;\n    previousBookingType: string;\n    private ngUnsubscribe = new Subject<void>();\n\n    constructor(public dialogRef: MatDialogRef<AddEditRoomModalComponent>,\n                private roomService: RentalBookingService,\n                private resourceService: ResourcesService,\n                private fb: FormBuilder,\n                @Inject(MAT_DIALOG_DATA) public room: { roomData }) {\n\n\n    }\n\n    ngOnInit() {\n        this.thumbnailUrl = {\n            fileName: undefined,\n            filePath: undefined\n        };\n        this.thumbnailFile = undefined;\n        this.galleryUrls = [];\n        this.galleryFiles = [];\n\n        this.facilitiesByCategory()\n\n        if (this.room) {\n            console.log('CAMERA', this.room.roomData);\n            this.formRoom.patchValue(this.room.roomData);\n            if (this.resourceService.resourceId$.getValue()) {\n                console.log('suntem pe edit');\n                this.thumbnailUrl = this.room.roomData.featuredImage;\n                this.galleryUrls = this.room.roomData.images;\n                if (this.room.roomData.state === 'add' || this.room.roomData.state === 'update') {\n                    const imagesArray = this.roomService.imagesArray$.getValue();\n                    console.log(imagesArray);\n                    const element = imagesArray.find(element => element.id === this.room.roomData.id);\n                    console.log('am gasit camera in array', element);\n                    this.thumbnailFile = element.featuredImage;\n                    this.thumbnailUrl = element.featuredImageUrl;\n                    this.galleryFiles = element.gallery;\n                    this.galleryUrls = element.galleryUrl;\n                }\n\n                if(this.room.roomData.changePolicies?.freeCancellation.freeCancellation){\n                    this.formRoom.get('changePolicies.nonRefundable').setValue(false);\n                    this.formRoom.get('changePolicies.freeCancellation.freeCancellation').setValue(true);\n                    this.formRoom.get('changePolicies.freeCancellation.deadlineDays').enable();\n                    this.formRoom.get('changePolicies.freeCancellation.deadlineDays').setValue(this.room.roomData.changePolicies?.freeCancellation.deadlineDays);\n                }\n\n                if(this.room.roomData.changePolicies?.nonRefundable){\n                    this.formRoom.get('changePolicies.nonRefundable').setValue(true);\n                    this.formRoom.get('changePolicies.freeCancellation.freeCancellation').setValue(false);\n                    this.formRoom.get('changePolicies.freeCancellation.deadlineDays').disable();\n                }\n\n\n                if (this.room.roomData.bookingPolicies?.advanceFullPayment) {\n                    this.previousBookingType = 'advanceFullPayment';\n                    this.selectedBookingType = 'advanceFullPayment';\n                    this.bookingPolicyEdit(true, 'advanceFullPayment');\n                }\n\n                if(this.room.roomData.bookingPolicies?.depositRequiredPercentage > 0){\n                    this.formRoom.get('bookingPolicies.depositRequired').patchValue(true);\n                    this.formRoom.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                    this.previousBookingType = 'depositRequired';\n                    this.selectedBookingType = 'depositRequired';\n                    this.checkDepositType('percentage');\n                }\n\n                if(this.room.roomData.bookingPolicies?.depositRequiredAmount > 0){\n                    this.formRoom.get('bookingPolicies.depositRequired').patchValue(true);\n                    this.formRoom.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                    this.previousBookingType = 'depositRequired';\n                    this.selectedBookingType = 'depositRequired';\n                    this.checkDepositType('amount');\n                }\n\n                if(this.room.roomData.bookingPolicies?.advancePartialPaymentPercentage > 0){\n                    this.formRoom.get('bookingPolicies.advancePartialPayment').patchValue(true);\n                    this.formRoom.get('bookingPolicies.depositRequiredAmount').disable();\n                    this.formRoom.get('bookingPolicies.depositRequiredPercentage').disable();\n                    this.previousBookingType = 'advancePartialPayment';\n                    this.selectedBookingType = 'advancePartialPayment';\n                }\n\n            } else {\n                const imagesArray = this.roomService.imagesArray$.getValue();\n                const element = imagesArray.find(element => element.id === this.room.roomData.id);\n                console.log('am gasit camera in array', element);\n                this.thumbnailFile = element.featuredImage;\n                this.thumbnailUrl = element.featuredImageUrl;\n                this.galleryFiles = element.gallery;\n                this.galleryUrls = element.galleryUrl;\n            }\n\n\n            this.room.roomData.itemsForBooking.forEach(room => {\n                this.getItemsForBooking().push(\n                    this.fb.group({\n                        itemNumber: [room.itemNumber, Validators.required]\n                    })\n                )\n            })\n            // this.selectedThumbnailUrl = this.room.roomData.featuredImage\n            // this.selectedGalleryImagesUrl = this.room.roomData.images === null ? [] : this.room.roomData.images\n        }\n\n        this.bookingPoliciesValueChanges();\n    }\n\n    requireCheckboxesToBeCheckedValidator(minRequired: number): ValidatorFn {\n        return function validate(formGroup: FormGroup) {\n            let checked = false; // Use a boolean flag to track if at least one checkbox is checked\n\n            Object.keys(formGroup.controls).forEach(key => {\n                const control = formGroup.controls[key];\n\n                if (control.value === true) {\n                    checked = true; // Set the flag to true if any checkbox is checked\n                    return; // Exit the loop early, as we only need one checkbox checked\n                }\n            });\n\n            if (!checked) {\n                return {\n                    requireCheckboxesToBeChecked: true,\n                };\n            }\n\n            return null;\n        };\n    }\n\n    bookingPoliciesValueChanges() {\n        console.log('TEST')\n\n        const bookingPolicies = this.formRoom.get('bookingPolicies') as FormGroup;\n        bookingPolicies.valueChanges\n            .pipe(\n                // distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),\n                takeUntil(this.ngUnsubscribe)\n            ).subscribe( (newValues: BookingPolicies & {advancePartialPayment: boolean; depositRequired: boolean}) => {\n\n                for (const bookingType in newValues) {\n                    if (newValues[bookingType] === true) {\n                        if (!this.previousBookingType) {\n                            this.previousBookingType = bookingType;\n                            this.selectedBookingType = bookingType;\n                        } else if(bookingType !== this.selectedBookingType){\n                            this.previousBookingType = this.selectedBookingType;\n                            this.selectedBookingType = bookingType;\n                            break;\n                        }\n                    }\n\n                }\n\n                if (this.previousBookingType && this.selectedBookingType && (this.previousBookingType !== this.selectedBookingType)) {\n                    bookingPolicies.get(this.previousBookingType).patchValue(false, {emitEvent: false});\n\n                    if (this.previousBookingType === 'depositRequired') {\n                        if (bookingPolicies.get('depositRequiredPercentage').disabled) {\n                            bookingPolicies.get('depositRequiredAmount').patchValue(0, {emitEvent: false});\n                        }\n                        if (bookingPolicies.get('depositRequiredAmount').disabled) {\n                            bookingPolicies.get('depositRequiredPercentage').patchValue(0, {emitEvent: false});\n                        }\n                    }\n\n                    if (this.previousBookingType === 'advancePartialPayment') {\n                        bookingPolicies.get('advancePartialPaymentPercentage').patchValue(0, {emitEvent: false});\n                    }\n                }\n            });\n    }\n\n\n    submitRoom() {\n\n        console.log(this.formRoom);\n        this.formSubmitClicked = true;\n\n        // Mark all inputs as touched\n        this.formRoom.markAllAsTouched()\n\n        // Check form validation\n        if (this.formRoom.invalid) {\n            return\n        }\n\n\n        // Create benefits layout for back-end specification\n        const benefits = [];\n        this.activeFacilitiesByCategory.forEach(category => {\n            category.tabAttributes.forEach(attribute => {\n                if (this.formRoom.value[attribute.name]) {\n                    benefits.push({\n                        attributeId: attribute.id,\n                        attributeValue: this.formRoom.value[attribute.name]\n                    });\n                }\n            });\n        });\n\n\n        // Deconstruction Form Data\n        const formDataObject = {\n            ...this.formRoom.value,\n            benefits: benefits,\n            changePolicies: {\n                ...this.formRoom.get('changePolicies').value,\n                freeCancellation: {\n                    ...this.formRoom.get('changePolicies.freeCancellation').value,\n                    deadlineDays: Number(this.formRoom.get('changePolicies.freeCancellation.deadlineDays').value)\n                }\n            }\n        }\n\n        console.log('OBJECT AICI', formDataObject)\n\n\n        // Check if you are on edit\n        if (this.room) {\n            this.updateRoom(formDataObject)\n        } else {\n            this.createRoom(formDataObject)\n        }\n    }\n\n    /** Create Room */\n    createRoom(formDataObject) {\n\n        // TODO Add this create on final step and add the rooms with the new request addRooms\n        //check if you are on edit resource\n        if (this.resourceService.resourceId$.getValue()) {\n            //add state field to the object, so you know what to do with this room in the end\n            formDataObject = {\n                ...formDataObject,\n                state: 'add'\n            }\n            // this.roomService.roomList$.next(this.roomService.roomList$.getValue().concat(room));\n            const image = {\n                id: this.formRoom.value.id,\n                featuredImage: this.thumbnailFile,\n                featuredImageUrl: this.thumbnailUrl,\n                gallery: this.galleryFiles,\n                galleryUrl: this.galleryUrls\n            }\n\n            this.roomService.addImgToImagesArray(image);\n            console.log('service img', this.roomService.imagesArray$.getValue());\n\n            this.roomService.addRoomToList(formDataObject);\n            console.log('room', this.roomService.roomList$.getValue());\n            this.roomService.refreshRoomList$.next(true);\n            this.close();\n        } else {\n            //add room on add resource\n            // Add new room to the list\n            this.roomService.addRoomToList(formDataObject);\n            const image = {\n                id: this.formRoom.value.id,\n                featuredImage: this.thumbnailFile,\n                featuredImageUrl: this.thumbnailUrl,\n                gallery: this.galleryFiles,\n                galleryUrl: this.galleryUrls\n            }\n\n            this.roomService.addImgToImagesArray(image);\n            console.log('service img', this.roomService.imagesArray$.getValue());\n\n\n            // Close Modal\n            this.close()\n        }\n\n    }\n\n    freeCancellationCheck(event) {\n        if (!event.checked) {\n            this.formRoom.get('changePolicies').get('freeCancellation.deadlineDays').patchValue(0);\n        }\n    }\n\n    depositCheck(event) {\n        if (!event.checked) {\n            this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n            this.formRoom.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n        }\n    }\n\n    advancePaymentCheck(event) {\n        if (!event.checked) {\n            this.formRoom.get('bookingPolicies').get('advancePartialPaymentPercentage').patchValue(0);\n        }\n    }\n\n    checkDepositType(type) {\n        if (this.formRoom.get('bookingPolicies').get('depositRequired').value) {\n            if (type === 'percentage') {\n                if (this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').value > 0) {\n                    this.formRoom.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n                    this.formRoom.get('bookingPolicies').get('depositRequiredAmount').disable();\n                } else if (this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').value === 0 || !this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.formRoom.get('bookingPolicies').get('depositRequiredAmount').enable();\n                }\n            } else if (type === 'amount') {\n                if (this.formRoom.get('bookingPolicies').get('depositRequiredAmount').value > 0) {\n                    this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n                    this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').disable();\n                } else if (this.formRoom.get('bookingPolicies').get('depositRequiredAmount').value === 0 || !this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.formRoom.get('bookingPolicies').get('depositRequiredPercentage').enable();\n                }\n            }\n        }\n\n    }\n\n\n    /** Update Room */\n    updateRoom(formDataObject) {\n\n\n        if (this.resourceService.resourceId$.getValue()) {\n            //check if the room was added now\n            if (this.room.roomData.state === 'add') {\n                // Get Room List\n                const roomList = this.roomService.roomList$.getValue()\n\n                // Find selected room by index\n                const selectedRoomIndex = roomList.findIndex(room => room.id === formDataObject.id);\n\n                //the state will be 'add' because this room is going to be added in the end\n                formDataObject = {\n                    ...formDataObject,\n                    state: 'add'\n                }\n\n                // Check if the room was found and update\n                if (selectedRoomIndex !== -1) {\n                    roomList[selectedRoomIndex] = formDataObject;\n                    this.roomService.roomList$.next(roomList);\n                    console.log(this.roomService.roomList$.getValue());\n                    this.roomService.refreshRoomList$.next(true);\n                    const image = {\n                        id: this.formRoom.value.id,\n                        featuredImage: this.thumbnailFile,\n                        featuredImageUrl: this.thumbnailUrl,\n                        gallery: this.galleryFiles,\n                        galleryUrl: this.galleryUrls\n                    }\n\n\n                    const imgArray = this.roomService.imagesArray$.getValue();\n                    const imgArrayIndex = imgArray.findIndex(arr => arr.id === formDataObject.id);\n                    if (imgArrayIndex !== -1) {\n                        imgArray[imgArrayIndex] = image;\n                        this.roomService.imagesArray$.next(imgArray);\n                    } else {\n                        this.roomService.addImgToImagesArray(image);\n                    }\n\n                    console.log('service img', this.roomService.imagesArray$.getValue());\n                    this.close();\n                } else {\n                    console.log('Room not found');\n                }\n            } else {\n                //the room was not added now, so you need to change the state to 'update'\n\n                // Get Room List\n                const roomList = this.roomService.roomList$.getValue()\n\n                // Find selected room by index\n                const selectedRoomIndex = roomList.findIndex(room => room.id === formDataObject.id);\n\n                const urlsArray = formDataObject.images;\n                console.log('urls array', urlsArray);\n\n                if (urlsArray) {\n                    const notUpload = urlsArray.filter(img => img.state !== 'upload');\n                    console.log('fara upload', notUpload);\n\n                    formDataObject = {\n                        ...formDataObject,\n                        images: notUpload,\n                        state: 'update'\n                    }\n                } else {\n                    formDataObject = {\n                        ...formDataObject,\n                        state: 'update'\n                    }\n                }\n\n\n                console.log('OBJ TO SEND', formDataObject);\n\n                // Check if the room was found and update\n                if (selectedRoomIndex !== -1) {\n                    roomList[selectedRoomIndex] = formDataObject;\n                    this.roomService.roomList$.next(roomList);\n                    console.log(this.roomService.roomList$.getValue());\n                    this.roomService.refreshRoomList$.next(true);\n\n                    const image = {\n                        id: this.formRoom.value.id,\n                        featuredImage: this.thumbnailFile,\n                        featuredImageUrl: this.thumbnailUrl,\n                        gallery: this.galleryFiles,\n                        galleryUrl: this.galleryUrls\n                    }\n\n\n                    const imgArray = this.roomService.imagesArray$.getValue();\n                    const imgArrayIndex = imgArray.findIndex(arr => arr.id === formDataObject.id);\n                    if (imgArrayIndex !== -1) {\n                        imgArray[imgArrayIndex] = image;\n                        this.roomService.imagesArray$.next(imgArray);\n                        console.log('value', this.roomService.imagesArray$.getValue());\n                    } else {\n                        this.roomService.addImgToImagesArray(image);\n                        console.log('value', this.roomService.imagesArray$.getValue());\n                    }\n                    // this.roomService.addImgToImagesArray(image);\n                    console.log('service img', this.roomService.imagesArray$.getValue());\n\n                    this.close();\n                } else {\n                    console.log('Room not found');\n                }\n            }\n\n        } else {\n            //update room on add resource\n            // Get Room List\n            const roomList = this.roomService.roomList$.getValue()\n\n            // Find selected room by index\n            const selectedRoomIndex = roomList.findIndex(room => room.id === formDataObject.id);\n\n            // Check if the room was found and update\n            if (selectedRoomIndex !== -1) {\n                roomList[selectedRoomIndex] = formDataObject;\n                this.roomService.roomList$.next(roomList);\n            } else {\n                console.log('Room not found');\n            }\n\n            // Close Modal\n            this.close()\n        }\n\n    }\n\n\n    /** Create Dynamic Form */\n    createDynamicForm(formSection) {\n        // Loop through from Sections\n        for (const section of formSection) {\n            // Loop through section attributes\n            for (const inputField of section.tabAttributes) {\n                // Create form inputs\n                this.formRoom.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : 'false'));\n            }\n        }\n    }\n\n    //----------------Room Section-------------//\n    /** Add A Room */\n    addRoom() {\n        this.addRoomToForm()\n    }\n\n    /** Remove A Room */\n    removeRoom() {\n\n        if (this.getItemsForBooking().length === 1) {\n            return\n        }\n\n        this.removeLastRoomAdded()\n    }\n\n    /** Access The Room Form Array Values */\n    getItemsForBooking() {\n        return this.formRoom.get('itemsForBooking') as FormArray;\n    }\n\n    /** Create New From Group For A Room */\n    createNewRoom() {\n        return new FormGroup({\n            itemNumber: new FormControl('', Validators.required)\n        })\n    }\n\n    /** Add New Room To Form */\n    addRoomToForm() {\n        this.getItemsForBooking().push(this.createNewRoom());\n    }\n\n    /** Remove Last Room Added From Form */\n    removeLastRoomAdded() {\n        this.getItemsForBooking().removeAt(-1);\n    }\n\n    //----------------Bed Type Section-------------//\n    /** Add A Room Type */\n    addBedType(index) {\n        this.getBedTypeArray().at(index).get('quantity').patchValue(this.getBedTypeArray().at(index).get('quantity').value + 1)\n    }\n\n    /** Remove A Room Type */\n    removeBedType(index) {\n\n        if (this.getBedTypeArray().at(index).get('quantity').value === 0) {\n            return\n        }\n\n        this.getBedTypeArray().at(index).get('quantity').patchValue(this.getBedTypeArray().at(index).get('quantity').value - 1)\n    }\n\n    /** Access The Bet Type Form Array Values */\n    getBedTypeArray() {\n        return this.formRoom.get('bedType') as FormArray;\n    }\n\n    //----------------Facilities-------------//\n    /** Filter and create benefits from active facilities */\n    facilitiesByCategory() {\n        this.resourceService.facilitiesByCategory$.subscribe({\n            next: facilities => {\n\n\n                // Store only the active facility\n                this.activeFacilitiesByCategory = facilities.map((item) => {\n                    const tabAttributes = item.tabAttributes.filter((attribute) => {\n                        return this.resourceService.facilitiesForm$.getValue().value[attribute.name] === \"true\";\n                    });\n                    return {\n                        categoryZone: item.categoryZone,\n                        tabAttributes: [...tabAttributes]\n                    };\n                });\n\n\n                // EDIT Mode - Update facilities values\n                if (this.room) {\n                    this.activeFacilitiesByCategory = this.activeFacilitiesByCategory.map(category => {\n                        const tabAttributes = category.tabAttributes.map(tabAttribute => {\n                            const matchingAttribute = this.room.roomData.benefits.find(attribute => attribute.attributeId === tabAttribute.id);\n                            return {\n                                ...tabAttribute,\n                                attributeValue: matchingAttribute ? matchingAttribute.attributeValue : null\n                            };\n                        });\n                        return {\n                            ...category,\n                            tabAttributes\n                        };\n                    });\n                }\n\n\n                this.createDynamicForm(this.activeFacilitiesByCategory)\n\n            }\n        })\n    }\n\n\n    //----------------Photos-------------//\n    /** Preview Thumbnail */\n    previewThumbs(event) {\n        const file = (event.target as HTMLInputElement).files[0];\n\n        this.selectedThumbsNail = (event.target as HTMLInputElement).files[0];\n\n        // File Preview\n        const reader = new FileReader();\n\n        reader.onload = () => {\n            this.selectedThumbnailUrl.filePath = reader.result as string;\n        }\n        reader.readAsDataURL(file)\n\n        // Reset selected input\n        event.target.value = null\n    }\n\n    /** Clear Thumbnail */\n    clearThumb() {\n        this.selectedThumbnailUrl = {\n            fileName: undefined,\n            filePath: undefined\n        }\n        this.selectedThumbsNail = undefined\n    }\n\n    /** Preview Gallery */\n    previewGallery(event) {\n\n        if (event.target.files && event.target.files[0]) {\n            this.selectedGalleryImages = event.target.files\n            const filesAmount = event.target.files.length;\n\n            // Preview Images\n            for (let i = 0; i < filesAmount; i++) {\n                const reader = new FileReader();\n\n                reader.onload = (event) => {\n                    this.selectedGalleryImagesUrl.push({\n                        fileName: undefined,\n                        filePath: event.target.result\n                    });\n                }\n\n                reader.readAsDataURL(event.target.files[i]);\n            }\n\n            // Reset selected input\n            event.target.value = null\n\n        }\n\n\n    }\n\n    /** Clear Gallery list */\n    clearGalleryImg(index) {\n        this.selectedGalleryImagesUrl.splice(index, 1)\n    }\n\n    //----------------Modal-------------//\n    /** Close Dialog */\n    close(): void {\n        this.dialogRef.close();\n    }\n\n\n    //----------------------------- IMAGES---------------------------\n    onThumbnailChange(event) {\n        if (event.target.files && event.target.files[0]) {\n            this.thumbnailUrl.fileName = event.target.files[0].name;\n            this.thumbnailFile = event.target.files[0];\n\n            const reader = new FileReader();\n            reader.onload = () => this.thumbnailUrl.filePath = reader.result;\n            reader.readAsDataURL(this.thumbnailFile);\n        }\n        console.log('thumbNail', this.thumbnailUrl);\n        console.log('thumbNail', this.thumbnailFile);\n    }\n\n    removeThumbnail() {\n        this.thumbnailUrl = {\n            fileName: undefined,\n            filePath: undefined\n        };\n        this.thumbnailFile = undefined;\n        this.room.roomData.featuredImage = {\n            fileName: null,\n            filePath: null\n        };\n        this.formRoom.get('featuredImage').patchValue({\n            fileName: null,\n            filePath: null\n        });\n    }\n\n    onImageChange(event, inputRef: HTMLInputElement) {\n        if (this.galleryUrls === null) {\n            this.galleryUrls = [];\n        }\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('edit resursa');\n            if (event.target.files && event.target.files[0]) {\n                const arrayLength = event.target.files.length;\n                const filesArrayLength = this.galleryFiles.length;\n                //if the room was already added and gallery has images\n                if (this.galleryUrls.length > 0) {\n                    const newUrlLength = this.galleryUrls.length;\n                    for (let i = 0; i < arrayLength; i++) {\n                        this.galleryUrls.push({\n                            fileName: event.target.files[i].name,\n                            filePath: undefined,\n                            state: 'upload'\n                        });\n                        this.galleryFiles.push({\n                            file: event.target.files[i],\n                            state: 'upload'\n                        });\n\n\n                        const reader = new FileReader();\n                        reader.onload = () => {\n                            this.galleryUrls[newUrlLength + i].filePath = reader.result;\n                            inputRef.value = null;\n\n                        };\n                        // reader.readAsDataURL(this.galleryFiles[this.galleryFiles.length - 1]);\n                        reader.readAsDataURL(this.galleryFiles[filesArrayLength + i].file);\n                    }\n                } else {\n                    //if the gallery is empty\n                    for (let i = 0; i < arrayLength; i++) {\n                        this.galleryUrls.push({\n                            fileName: event.target.files[i].name,\n                            filePath: undefined,\n                            state: 'upload'\n                        });\n                        this.galleryFiles.push({\n                            file: event.target.files[i],\n                            state: 'upload'\n                        });\n\n\n                        const reader = new FileReader();\n                        reader.onload = () => {\n                            this.galleryUrls[i].filePath = reader.result;\n                            inputRef.value = null;\n\n                        };\n                        // reader.readAsDataURL(this.galleryFiles[this.galleryFiles.length - 1]);\n                        reader.readAsDataURL(this.galleryFiles[i].file);\n                    }\n                }\n\n            }\n        } else {\n            console.log('add resursa');\n            if (event.target.files && event.target.files[0]) {\n                const arrayLength = event.target.files.length;\n                //if the room was already added and gallery has images\n                if (this.galleryUrls.length > 0) {\n                    const newUrlLength = this.galleryUrls.length;\n                    for (let i = 0; i < arrayLength; i++) {\n                        this.galleryUrls.push({\n                            fileName: event.target.files[i].name,\n                            filePath: undefined\n                        });\n                        this.galleryFiles.push(event.target.files[i]);\n\n\n                        const reader = new FileReader();\n                        reader.onload = () => {\n                            this.galleryUrls[newUrlLength + i].filePath = reader.result;\n                            inputRef.value = null;\n\n                        };\n                        reader.readAsDataURL(this.galleryFiles[this.galleryFiles.length - 1]);\n                    }\n                } else {\n                    //if the gallery is empty\n                    for (let i = 0; i < arrayLength; i++) {\n                        this.galleryUrls.push({\n                            fileName: event.target.files[i].name,\n                            filePath: undefined\n                        });\n                        this.galleryFiles.push(event.target.files[i]);\n\n\n                        const reader = new FileReader();\n                        reader.onload = () => {\n                            this.galleryUrls[i].filePath = reader.result;\n                            inputRef.value = null;\n\n                        };\n                        // reader.readAsDataURL(this.galleryFiles[this.galleryFiles.length - 1]);\n                        reader.readAsDataURL(this.galleryFiles[i]);\n                    }\n                }\n\n\n            }\n        }\n    }\n\n    removeImage(index: number) {\n\n        console.log('urls dupa remove', this.galleryUrls);\n\n        if (this.resourceService.resourceId$.getValue() && this.room.roomData.images.length > 0) {\n            this.room.roomData.images.splice(index, 1);\n        } else {\n\n            this.galleryUrls.splice(index, 1);\n            this.galleryFiles.splice(index, 1);\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n\n}\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {RentalBookingService} from \"../../../../../../_services/rental-booking.service\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\n\n@Component({\n    selector: 'app-delete-room-modal',\n    templateUrl: './delete-room-modal.component.html',\n    styleUrls: ['./delete-room-modal.component.scss']\n})\n\n\nexport class DeleteRoomModalComponent {\n\n    constructor(public dialogRef: MatDialogRef<DeleteRoomModalComponent>,\n                @Inject(MAT_DIALOG_DATA) public room: { roomData },\n                private roomService: RentalBookingService,\n                private resourceService: ResourcesService,) {\n\n    }\n\n\n    /** Delete Room */\n    deleteRoom() {\n        // Check if you are on EDIT\n        if (this.resourceService.resourceId$.getValue()){\n            //check if you want to delete a room added now\n            if(this.room.roomData.state ==='add'){\n                // Get Room List\n                const roomList = this.roomService.roomList$.getValue()\n\n                // Exclude the room by id\n                const filteredRooms = roomList.filter(room => room.id !== this.room.roomData.id);\n\n                // Check if a room was deleted and update the array\n                if (filteredRooms.length !== roomList.length) {\n                    this.roomService.roomList$.next(filteredRooms);\n                    this.roomService.refreshRoomList$.next(true);\n                    this.close();\n                } else {\n                    console.log(`Room not found`);\n\n                }\n            }else{\n\n                //just move the room in the delete array\n\n                const roomList = this.roomService.roomList$.getValue()\n\n                // Exclude the room by id\n                const filteredRooms = roomList.filter(room => room.id !== this.room.roomData.id);\n\n                // Check if a room was deleted and update the array\n                if (filteredRooms.length !== roomList.length) {\n                    this.roomService.roomList$.next(filteredRooms);\n                    this.roomService.addRoomToDeleteArray(this.room.roomData);\n                    console.log('DELETE ARRAY', this.roomService.deleteArray$.getValue());\n                    this.roomService.refreshRoomList$.next(true);\n                    this.close();\n                }\n            }\n        }\n\n        else {\n            //delete room in add resource state\n            // Get Room List\n            const roomList = this.roomService.roomList$.getValue()\n\n            // Exclude the room by id\n            const filteredRooms = roomList.filter(room => room.id !== this.room.roomData.id);\n\n            // Check if a room was deleted and update the array\n            if (filteredRooms.length !== roomList.length) {\n                this.roomService.roomList$.next(filteredRooms);\n            } else {\n                console.log(`Room not found`);\n            }\n\n            // Close Modal\n            this.close()\n        }\n    }\n\n    //----------------Modal-------------//\n    /** Close Dialog */\n    close(): void {\n        this.dialogRef.close();\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {AddEditRoomModalComponent} from \"./add-edit-room-modal/add-edit-room-modal.component\";\nimport {RoomModel} from \"../../../../../_models/room.model\";\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {DeleteRoomModalComponent} from \"./delete-room-modal/delete-room-modal.component\";\nimport {BehaviorSubject, forkJoin, Observable, Subject, Subscription, takeUntil} from \"rxjs\";\nimport {FormGroup} from \"@angular/forms\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-rental-booking',\n    templateUrl: './rental-booking.component.html',\n    styleUrls: ['./rental-booking.component.scss']\n})\nexport class RentalBookingComponent implements OnInit, OnDestroy {\n\n    roomList: any = [];\n    dataLoaded = false;\n\n    private ngUnsubscribe = new Subject<void>();\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(public dialog: MatDialog,\n                private stepperService: StepperService,\n                private resourceService: ResourcesService,\n                private roomService: RentalBookingService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n\n    }\n\n    ngOnInit() {\n\n        // Store Resource ID\n        this.resourceId = this.resourceService.resourceId$.getValue()\n\n        if (this.resourceId) {\n            this.roomService.getRoomList(this.resourceService.resourceId$.getValue())\n                .subscribe({\n                next: (roomList: any) => {\n                    if(this.roomService.roomList$.getValue().length === 0){\n                        this.roomService.roomList$.next(roomList);\n                        this.getAttributesForRoom(this.roomService.roomList$.getValue())\n                    }else{\n                        this.getAttributesForRoom(this.roomService.roomList$.getValue())\n                    }\n\n                }\n            })\n        }\n\n        // Listen to actions for refresh room list\n        this.roomService.refreshRoomListData()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n            next: (response) => {\n                console.log(response)\n                    // Check if you are on EDIT Mode\n                    if (this.resourceId) {\n                        this.getAttributesForRoom(this.roomService.roomList$.getValue());\n                    }else {\n                        // Get Room List\n                        this.roomService.roomListData().subscribe({\n                            next: roomList => {\n                                this.getAttributesForRoom(roomList);\n                                console.log('lista', this.roomList);\n                            }\n                        })\n\n\n                }\n\n            }\n        })\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n    }\n\n\n    getAttributesForRoom(roomList) {\n\n        // Store all attributes ID\n        const attributeIdsArray = roomList.map(obj => {\n            return obj.benefits.reduce((acc, curr) => {\n                acc.push(curr.attributeId);\n                return acc;\n            }, []);\n        }).flat();\n\n        // Get Attribute List\n        this.resourceService.getAttributes(attributeIdsArray)\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n            next: (attributesList: any) => {\n\n                // Combine attribute data with room data\n                this.roomList = roomList.map(obj => {\n                    const benefits = obj.benefits.map(benefit => {\n                        const attribute = attributesList.find(attr => attr.id === benefit.attributeId);\n                        return {\n                            ...benefit,\n                            name: attribute.name,\n                            icon: attribute.icon\n                        }\n                    });\n                    return {\n                        ...obj,\n                        benefits\n                    };\n                });\n\n                // Data Loaded\n                this.dataLoaded = true;\n                console.log('lipite', this.roomList);\n            }\n        })\n    }\n\n\n\n    openAddModal() {\n        this.dialog.open(AddEditRoomModalComponent, {\n            width: '1500px',\n            height: '750px',\n            data: undefined\n        });\n    }\n\n    openEditModal(roomId: string) {\n        this.dialog.open(AddEditRoomModalComponent, {\n            width: '1500px',\n            height: '750px',\n            data: {roomData: this.roomList.find(room => room.id === roomId)}\n        })\n    }\n\n    openDeleteModal(roomId: string) {\n        this.dialog.open(DeleteRoomModalComponent, {\n            width: '850px',\n            height: 'auto',\n            data: {roomData: this.roomList.find(room => room.id === roomId)}\n        });\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep(true)\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy()\n    {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n        this.routeSub?.unsubscribe();\n    }\n\n\n}\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from \"@angular/forms\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\nimport {BookingTimeslotsService} from \"../../../../../../_services/booking-timeslots.service\";\nimport * as moment from \"moment\";\nimport {Subject, takeUntil} from \"rxjs\";\nimport {BookingPolicies} from \"../../../../../../../../shared/_models/itinerary.model\";\n\n@Component({\n    selector: 'app-add-edit-service',\n    templateUrl: './add-edit-service.component.html',\n    styleUrls: ['./add-edit-service.component.scss']\n})\nexport class AddEditServiceComponent implements OnInit, OnDestroy {\n\n    serviceForm: FormGroup;\n    isEditMode = false;\n    tabIndex = 0;\n\n    days = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];\n\n    // le folosim la booking policies value changes, ca sa vedem care a fost optiunea selectata anterior\n    selectedBookingType: string;\n    previousBookingType: string;\n    private ngUnsubscribe = new Subject<void>();\n\n    constructor(private fb: FormBuilder,\n                private resourceService: ResourcesService,\n                private timeslotService: BookingTimeslotsService,\n                public dialogRef: MatDialogRef<AddEditServiceComponent>,\n                @Inject(MAT_DIALOG_DATA) public serviceData: { service }) {\n    }\n\n    // serviceForm = new FormGroup({\n    //     id: new FormControl(this.serviceData ? undefined : Math.random().toString(36).substring(2, 17)) ,\n    //     name: new FormControl(null, Validators.required),\n    //     description: new FormControl(null),\n    //     price: new FormControl(null, Validators.min(0)),\n    //     slotItems: new FormArray([])\n    // })\n\n    ngOnInit() {\n        this.formInit();\n        this.checkIfEdit();\n        this.bookingPoliciesValueChanges();\n    }\n\n    bookingPoliciesValueChanges() {\n        const bookingPolicies = this.serviceForm.get('bookingPolicies') as FormGroup;\n        bookingPolicies.valueChanges\n            .pipe(\n                // distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),\n                takeUntil(this.ngUnsubscribe)\n            ).subscribe( (newValues: BookingPolicies & {advancePartialPayment: boolean; depositRequired: boolean}) => {\n\n            for (const bookingType in newValues) {\n                if (newValues[bookingType] === true) {\n                    if (!this.previousBookingType) {\n                        this.previousBookingType = bookingType;\n                        this.selectedBookingType = bookingType;\n                    } else if(bookingType !== this.selectedBookingType){\n                        this.previousBookingType = this.selectedBookingType;\n                        this.selectedBookingType = bookingType;\n                        break;\n                    }\n                }\n\n            }\n\n            if (this.previousBookingType && this.selectedBookingType && (this.previousBookingType !== this.selectedBookingType)) {\n                bookingPolicies.get(this.previousBookingType).patchValue(false, {emitEvent: false});\n\n                if (this.previousBookingType === 'depositRequired') {\n                    if (bookingPolicies.get('depositRequiredPercentage').disabled) {\n                        bookingPolicies.get('depositRequiredAmount').patchValue(0, {emitEvent: false});\n                    }\n                    if (bookingPolicies.get('depositRequiredAmount').disabled) {\n                        bookingPolicies.get('depositRequiredPercentage').patchValue(0, {emitEvent: false});\n                    }\n                }\n\n                if (this.previousBookingType === 'advancePartialPayment') {\n                    bookingPolicies.get('advancePartialPaymentPercentage').patchValue(0, {emitEvent: false});\n                }\n            }\n        });\n    }\n\n    formInit() {\n        this.serviceForm = this.fb.group({\n            id: [this.serviceData ? undefined : Math.random().toString(36).substring(2, 17)],\n            name: [null, Validators.required],\n            description: [null],\n            price: [null, Validators.min(0)],\n            totalItemsNumber: 1,\n            slotItems: this.fb.array([]),\n            bookingPolicies: this.fb.group({\n                depositRequired: false,\n                advancePartialPayment: false,\n                advanceFullPayment: false,\n                depositRequiredPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n                depositRequiredAmount: [0, Validators.compose([Validators.required, Validators.pattern('^[1-9]\\\\d*$')])],\n                advancePartialPaymentPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n            }, {\n                validators: this.requireCheckboxesToBeCheckedValidator()\n            }),\n        })\n    }\n\n    requireCheckboxesToBeCheckedValidator(minRequired = 1): ValidatorFn {\n        // console.log('se apeleaza');\n        return function validate (formGroup: FormGroup) {\n            let checked = 0;\n            // console.log('se apeleaza 2');\n\n            Object.keys(formGroup.controls).forEach(key => {\n                const control = formGroup.controls[key];\n\n                if (control.value === true) {\n                    checked ++;\n                }\n            });\n\n            if (checked < minRequired) {\n                return {\n                    requireCheckboxesToBeChecked: true,\n                };\n            }\n\n            return null;\n        };\n    }\n\n    get slotItems() {\n        return this.serviceForm.get('slotItems') as FormArray;\n    }\n\n    newDayTab(day: string): FormGroup {\n        return this.fb.group({\n            day: day,\n            slots: this.fb.array([])\n        })\n    }\n\n    addDayTab(day: string) {\n        this.slotItems.push(this.newDayTab(day));\n    }\n\n    removeDayTab(tabIndex: number) {\n        this.slotItems.removeAt(tabIndex);\n    }\n\n\n    initConfigTabs() {\n        this.days.forEach((item: string) => {\n            this.addDayTab(item);\n        })\n    }\n\n    //slots array\n    slots(index): FormArray {\n        return this.slotItems.at(index)?.get('slots') as FormArray;\n    }\n\n\n    newSlot(): FormGroup {\n        return this.fb.group({\n            startHour: moment('00:00', 'HH:mm'),\n            endHour: moment('00:00', 'HH:mm')\n        }, {\n            validators: this.checkTimeSlots\n        })\n    }\n\n    addSlot(index) {\n        this.slots(index).push(this.newSlot());\n    }\n\n    addSlotOnUpdate(index, value) {\n        this.slotItems.at(index)?.get('slots').value.push(value);\n    }\n\n    removeSlot(index, childIndex: number) {\n        this.slots(index).removeAt(childIndex);\n    }\n\n\n    checkIfEdit() {\n        if (this.serviceData) {\n            this.isEditMode = true;\n            this.serviceForm.patchValue(this.serviceData.service);\n\n            if (this.serviceData.service.slotItems) {\n                this.serviceData.service.slotItems.forEach((slotItem, index) => {\n                    this.slotItems.push(\n                        this.fb.group({\n                            day: slotItem.day,\n                            slots: this.fb.array([])\n                        })\n                    )\n\n                    // console.log('slots', slotItem.slots);\n                    slotItem.slots.forEach(slot => {\n                        // this.addSlot(index);\n                        const startTime = moment(slot.startHour, 'HH:mm');\n                        const endTime = moment(slot.endHour, 'HH:mm');\n                        this.slots(index).push(this.fb.group({\n                            startHour: startTime,\n                            endHour: endTime\n                        }))\n                    })\n\n                    // this.slots(index).patchValue(slotItem.slots);\n                })\n            }\n\n            if (this.serviceData.service.bookingPolicies?.advanceFullPayment) {\n                this.previousBookingType = 'advanceFullPayment';\n                this.selectedBookingType = 'advanceFullPayment';\n                this.bookingPolicyEdit(true, 'advanceFullPayment');\n            }\n\n\n            if(this.serviceData.service.bookingPolicies?.depositRequiredPercentage > 0){\n                this.serviceForm.get('bookingPolicies.depositRequired').patchValue(true);\n                this.serviceForm.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('percentage');\n            }\n\n            if(this.serviceData.service.bookingPolicies?.depositRequiredAmount > 0){\n                this.serviceForm.get('bookingPolicies.depositRequired').patchValue(true);\n                this.serviceForm.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('amount');\n            }\n\n            if(this.serviceData.service.bookingPolicies?.advancePartialPaymentPercentage > 0){\n                this.serviceForm.get('bookingPolicies.advancePartialPayment').patchValue(true);\n                this.serviceForm.get('bookingPolicies.depositRequiredAmount').disable();\n                this.serviceForm.get('bookingPolicies.depositRequiredPercentage').disable();\n                this.previousBookingType = 'advancePartialPayment';\n                this.selectedBookingType = 'advancePartialPayment';\n            }\n\n            console.log('form', this.serviceForm.value)\n        } else {\n            this.isEditMode = false;\n            this.initConfigTabs();\n        }\n    }\n\n    sendTimeSlots() {\n\n        this.serviceForm.value.slotItems.forEach((slotItem, index) => {\n\n            slotItem.slots.forEach((slot, childIndex: number) => {\n                console.log('TO SEND', slot)\n                const startTime = slot.startHour.format('HH:mm');\n                const endTime = slot.endHour.format('HH:mm');\n                this.slots(index).value[childIndex] = {startHour: startTime, endHour: endTime};\n\n            })\n            // this.timetable(index).patchValue(timetableItem.timetable);\n            // console.log('form TO SEND', this.serviceForm.value);\n        })\n\n    }\n\n    checkTimeSlots(control: AbstractControl): ValidatorFn {\n        const startTime = control.get('startHour');\n        const endTime = control.get('endHour');\n        if (moment(startTime.value).format('HH:mm') >= moment(endTime.value).format('HH:mm')) {\n            // console.log('nu e bine');\n            endTime.setErrors({invalidTime: true});\n        }\n\n        return;\n    }\n\n\n    confirm() {\n        this.serviceForm.markAllAsTouched();\n        console.log('form', this.serviceForm);\n        if (this.serviceForm.valid) {\n            this.sendTimeSlots();\n            this.close();\n            const service = this.serviceForm.value;\n            if (this.isEditMode) {\n                this.updateService(service);\n            } else {\n                this.createService(service);\n            }\n        }\n    }\n\n    updateService(service) {\n        if (this.resourceService.resourceId$.getValue()) {\n            //EDIT RESOURCE\n            console.log('EDITARE RESURSA');\n            //update a product that was added now\n            if (this.serviceData.service.state === 'add') {\n                // Get prod List\n                const serviceList = this.timeslotService.serviceList$.getValue();\n\n                // Find selected room by index\n                const selectedIndex = serviceList.findIndex(prod => prod.id === service.id);\n\n                //the state will be 'add' because this room is going to be added in the end\n                service = {\n                    ...service,\n                    state: 'add'\n                }\n\n                if (selectedIndex !== -1) {\n                    serviceList[selectedIndex] = service;\n                    this.timeslotService.serviceList$.next(serviceList);\n                    this.timeslotService.refreshServiceList$.next(true);\n                } else {\n                    console.log('prod not found');\n                }\n            } else {\n                //the prod exists on the resource\n                // Get prod List\n                const serviceList = this.timeslotService.serviceList$.getValue();\n\n                // Find selected room by index\n                const selectedIndex = serviceList.findIndex(prod => prod.id === service.id);\n                service = {\n                    ...service,\n                    state: 'update'\n                }\n                if (selectedIndex !== -1) {\n                    serviceList[selectedIndex] = service;\n                    this.timeslotService.serviceList$.next(serviceList);\n                    this.timeslotService.refreshServiceList$.next(true);\n                } else {\n                    console.log('prod not found');\n                }\n\n            }\n        } else {\n            //ADD RESOURCE\n            console.log('ADD RESURSA');\n            // Get prod List\n            const serviceList = this.timeslotService.serviceList$.getValue();\n            // find this ticket in the current create list\n            const indexInList = serviceList.findIndex(service => service.id === this.serviceForm.value.id);\n\n            // Check if the room was found and update\n            if (indexInList !== -1) {\n                serviceList[indexInList] = this.serviceForm.value;\n                this.timeslotService.serviceList$.next(serviceList);\n            } else {\n                console.log('prod not found');\n            }\n        }\n    }\n\n    createService(service) {\n        if (this.resourceService.resourceId$.getValue()) {\n            //EDIT RESOURCE\n            console.log('EDITARE RESURSA');\n            service = {\n                ...service,\n                state: 'add'\n            }\n            this.timeslotService.addServiceToList(service);\n            this.timeslotService.refreshServiceList$.next(true);\n        } else {\n            //ADD RESOURCE\n            console.log('ADD RESURSA');\n            this.timeslotService.addServiceToList(service);\n            this.timeslotService.refreshServiceList$.next(true);\n        }\n    }\n\n    depositCheck(event) {\n        if (!event.checked) {\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n\n        }\n    }\n\n    checkDepositType(type) {\n        if (this.serviceForm.get('bookingPolicies').get('depositRequired').value) {\n            if (type === 'percentage') {\n                if (this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').value > 0) {\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').disable();\n                } else if (this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').value === 0 || !this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').enable();\n                }\n            } else if (type === 'amount') {\n                if (this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').value > 0) {\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').disable();\n                } else if (this.serviceForm.get('bookingPolicies').get('depositRequiredAmount').value === 0 || !this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage').enable();\n                }\n            }\n        }\n    }\n\n    bookingPolicyEdit(event: any, type: string) {\n        if (event && type === 'depositRequired') {\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.enable();\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.enable();\n\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n\n            this.serviceForm.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.serviceForm.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage').disable();\n        }\n\n        if (event && type === 'advanceFullPayment') {\n            this.serviceForm.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n\n            this.serviceForm.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.disable();\n        }\n\n        if (event && type === 'advancePartialPayment') {\n\n            this.serviceForm.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.enable();\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n\n            this.serviceForm.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.serviceForm.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n        }\n\n    }\n\n    advancePaymentCheck(event) {\n        if (!event.checked) {\n            this.serviceForm.get('bookingPolicies').get('advancePartialPaymentPercentage').patchValue(0);\n        }\n    }\n\n    close() {\n        this.dialogRef.close();\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {ProductListService} from \"../../../../../../_services/product-list.service\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {BookingTimeslotsService} from \"../../../../../../_services/booking-timeslots.service\";\n\n@Component({\n  selector: 'app-delete-modal-service',\n  templateUrl: './delete-modal-service.component.html',\n  styleUrls: ['./delete-modal-service.component.scss']\n})\nexport class DeleteModalServiceComponent implements OnInit {\n\n  currentService: any;\n\n  constructor(private timeslotService: BookingTimeslotsService,\n              private resourceService: ResourcesService,\n              public dialogRef: MatDialogRef<DeleteModalServiceComponent>,\n              @Inject(MAT_DIALOG_DATA) public serviceData: { service: any, index: number }) {\n  }\n\n  ngOnInit() {\n    this.currentService = this.serviceData.service;\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  deleteService() {\n    if (this.resourceService.resourceId$.getValue()) {\n      console.log('sunt pe edit res si vreau sa sterg');\n      //EDIT RESOURCE\n      //delete a product just added\n      if (this.serviceData.service.state === 'add') {\n        const serviceList = this.timeslotService.serviceList$.getValue()\n\n        // Exclude the room by id\n        const filteredList = serviceList.filter(service => service.id !== this.serviceData.service.id);\n\n        // Check if a room was deleted and update the array\n        if (filteredList.length !== serviceList.length) {\n          this.timeslotService.serviceList$.next(filteredList);\n          this.timeslotService.refreshServiceList$.next(true);\n          this.close();\n        } else {\n          console.log(`serv not found`);\n\n        }\n      }else{\n        //move the prod to delete array\n\n        const serviceList = this.timeslotService.serviceList$.getValue()\n\n        // Exclude the prod by id\n        const filteredService= serviceList.filter(prod => prod.id !== this.serviceData.service.id);\n\n        // Check if a prod was deleted and update the array\n        if (filteredService.length !== serviceList.length) {\n          this.timeslotService.serviceList$.next(filteredService);\n          this.timeslotService.addServiceToDeleteList(this.serviceData.service);\n          console.log('DELETE ARRAY', this.timeslotService.deleteServiceList$.getValue());\n          this.timeslotService.refreshServiceList$.next(true);\n          this.close();\n        }\n      }\n    } else {\n      console.log('sunt pe add res si vreau sa sterg');\n      //ADD RESOURCE\n      // Get products list\n      const serviceList = this.timeslotService.serviceList$.getValue()\n\n      // Exclude the ticket by id\n      const filteredServices = serviceList.filter(product => product.id !== this.serviceData.service.id);\n\n      // Check if a room was deleted and update the array\n      if (filteredServices.length !== serviceList.length) {\n        this.timeslotService.serviceList$.next(filteredServices);\n        this.close();\n      } else {\n        console.log(`Prod not found`);\n      }\n    }\n  }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../../../../_services/stepper.service\";\nimport {AddEditProductComponent} from \"../products-list/add-edit-product/add-edit-product.component\";\nimport {DeleteProductModalComponent} from \"../products-list/delete-product-modal/delete-product-modal.component\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {AddEditServiceComponent} from \"./add-edit-service/add-edit-service.component\";\nimport {DeleteModalServiceComponent} from \"./delete-modal-service/delete-modal-service.component\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {FormGroup} from \"@angular/forms\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\nimport {response} from \"express\";\n\n@Component({\n    selector: 'app-service-booking-time-slots',\n    templateUrl: './service-booking-time-slots.component.html',\n    styleUrls: ['./service-booking-time-slots.component.scss']\n})\nexport class ServiceBookingTimeSlotsComponent implements OnInit, OnDestroy {\n\n    dataLoaded = false;\n    serviceList = [];\n\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    // serviceList = [{name:'serv 1', description:'descriere', price: '12'},{name:'serv 1', description:'descriere', price: '12'},{name:'serv 1', description:'descriere', price: '12'}]\n\n    constructor(private stepperService: StepperService,\n                private resourceService: ResourcesService,\n                private timeslotService: BookingTimeslotsService,\n                public dialog: MatDialog, private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n\n    ngOnInit() {\n        this.resourceId = this.resourceService.resourceId$.getValue();\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.timeslotService.getServicesByResourceId(this.resourceService.resourceId$.getValue())\n                .subscribe({\n                    next: (serviceList: any) => {\n                        if (this.timeslotService.serviceList$.getValue().length === 0) {\n                            this.timeslotService.serviceList$.next(serviceList);\n                            this.serviceList = serviceList;\n                        } else {\n                            this.serviceList = this.timeslotService.serviceList$.getValue();\n                        }\n                    }\n                })\n        }\n\n        this.timeslotService.refreshServiceListData().subscribe({\n            next: (response) => {\n                console.log('resp from refresh',response);\n                if(response){\n                    if (this.resourceService.resourceId$.getValue()) {\n                        this.serviceList = this.timeslotService.serviceList$.getValue();\n                        console.log('list edit', this.timeslotService.serviceList$.getValue());\n                    } else {\n                        this.timeslotService.serviceListData().subscribe({\n                            next: serviceList => {\n                                this.serviceList = serviceList;\n                                console.log('list', this.serviceList);\n                            }\n                        })\n                    }\n                }\n\n            }\n        })\n\n        //for save resource\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n       /* this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n\n    }\n\n    openAddModal() {\n        this.dialog.open(AddEditServiceComponent, {\n            width: '1500px',\n            height: '750px',\n            data: undefined\n        });\n    }\n\n    openEditModal(service) {\n        this.dialog.open(AddEditServiceComponent, {\n            width: '1500px',\n            height: '750px',\n            data: {\n                service: service\n            }\n        });\n    }\n\n    openDeleteModal(service, index) {\n        this.dialog.open(DeleteModalServiceComponent, {\n            width: '720px',\n            height: '400px',\n            data: {\n                service: service,\n                index: index\n            }\n        });\n    }\n\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep(true)\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n    }\n\n}\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {Subject, takeUntil} from \"rxjs\";\nimport {FormArray, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from \"@angular/forms\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {TicketsBookingService} from \"../../../../../../_services/tickets-booking.service\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\nimport {BookingPolicies} from \"../../../../../../../../shared/_models/itinerary.model\";\n\n@Component({\n    selector: 'app-add-edit-ticket',\n    templateUrl: './add-edit-ticket.component.html',\n    styleUrls: ['./add-edit-ticket.component.scss']\n})\nexport class AddEditTicketComponent implements OnInit, OnDestroy {\n\n    private ngUnsubscribe = new Subject<void>();\n\n    // le folosim la booking policies value changes, ca sa vedem care a fost optiunea selectata anterior\n    selectedBookingType: string;\n    previousBookingType: string;\n\n    ticketForm: FormGroup;\n    displayLimit = false;\n    displaySeats = false;\n    isEditTicketMode = false;\n\n    ticketList: any;\n\n    constructor(private fb: FormBuilder,\n                private ticketsBookingService: TicketsBookingService,\n                private resourceService: ResourcesService,\n                public dialogRef: MatDialogRef<AddEditTicketComponent>,\n                @Inject(MAT_DIALOG_DATA) public ticketData: { ticket }) {\n    }\n\n    ngOnInit() {\n        this.ticketFormInit();\n        this.checkIfEdit();\n        this.bookingPoliciesValueChanges();\n    }\n\n    bookingPoliciesValueChanges() {\n        const bookingPolicies = this.ticketForm.get('bookingPolicies') as FormGroup;\n        bookingPolicies.valueChanges\n            .pipe(\n                // distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b)),\n                takeUntil(this.ngUnsubscribe)\n            ).subscribe( (newValues: BookingPolicies & {advancePartialPayment: boolean; depositRequired: boolean}) => {\n\n            for (const bookingType in newValues) {\n                if (newValues[bookingType] === true) {\n                    if (!this.previousBookingType) {\n                        this.previousBookingType = bookingType;\n                        this.selectedBookingType = bookingType;\n                    } else if(bookingType !== this.selectedBookingType){\n                        this.previousBookingType = this.selectedBookingType;\n                        this.selectedBookingType = bookingType;\n                        break;\n                    }\n                }\n\n            }\n\n            if (this.previousBookingType && this.selectedBookingType && (this.previousBookingType !== this.selectedBookingType)) {\n                bookingPolicies.get(this.previousBookingType).patchValue(false, {emitEvent: false});\n\n                if (this.previousBookingType === 'depositRequired') {\n                    if (bookingPolicies.get('depositRequiredPercentage').disabled) {\n                        bookingPolicies.get('depositRequiredAmount').patchValue(0, {emitEvent: false});\n                    }\n                    if (bookingPolicies.get('depositRequiredAmount').disabled) {\n                        bookingPolicies.get('depositRequiredPercentage').patchValue(0, {emitEvent: false});\n                    }\n                }\n\n                if (this.previousBookingType === 'advancePartialPayment') {\n                    bookingPolicies.get('advancePartialPaymentPercentage').patchValue(0, {emitEvent: false});\n                }\n            }\n        });\n    }\n\n    ticketFormInit() {\n        this.ticketForm = this.fb.group({\n            id: [this.ticketData ? undefined : Math.random().toString(36).substring(2, 17)],\n            name: [null, Validators.required],\n            description: null,\n            regularPrice: [null, Validators.compose([Validators.required, Validators.pattern(\"^[1-9]\\\\d*$\")])],\n            weekendPrice: [null, Validators.compose([Validators.required, Validators.pattern(\"^[1-9]\\\\d*$\")])],\n            hasSeat: [false],\n            ticketsForBooking: this.fb.array([]),\n            limit: [false],\n            ticketsLimit: [null, Validators.compose([Validators.min(0),Validators.pattern(\"[0-9]*\") ])],\n            bookingPolicies: this.fb.group({\n                depositRequired:false,\n                advancePartialPayment: false,\n                advanceFullPayment: false,\n                depositRequiredPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n                depositRequiredAmount: [0, Validators.compose([Validators.required, Validators.pattern('^[1-9]\\\\d*$')])],\n                advancePartialPaymentPercentage: [0, Validators.compose([Validators.required, Validators.pattern('^(?:[1-9][0-9]?|100)$')])],\n            }, {\n                validators: this.requireCheckboxesToBeCheckedValidator()\n            })\n\n        })\n    }\n\n    bookingPolicyEdit(event: any, type: string) {\n        if (event && type === 'depositRequired') {\n            this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.enable();\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.enable();\n\n            this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n\n            this.ticketForm.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.ticketForm.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage').disable();\n        }\n\n        if (event && type === 'advanceFullPayment') {\n            console.log('full payment');\n            this.ticketForm.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            // this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            // this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n\n            this.ticketForm.get('bookingPolicies').get('advancePartialPayment')?.setValue(false);\n            // this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.disable();\n        }\n\n        if (event && type === 'advancePartialPayment') {\n\n            this.ticketForm.get('bookingPolicies').get('advanceFullPayment')?.setValue(false);\n\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.enable();\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage')?.setValue(0);\n\n            this.ticketForm.get('bookingPolicies').get('depositRequired')?.setValue(false);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredAmount')?.disable();\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.setValue(0);\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage')?.disable();\n        }\n\n    }\n\n    requireCheckboxesToBeCheckedValidator(minRequired = 1): ValidatorFn {\n        console.log('se apeleaza');\n        return function validate (formGroup: FormGroup) {\n            let checked = 0;\n            // console.log('se apeleaza 2');\n\n            Object.keys(formGroup.controls).forEach(key => {\n                const control = formGroup.controls[key];\n\n                if (control.value === true) {\n                    checked ++;\n                }\n            });\n\n            if (checked < minRequired) {\n                return {\n                    requireCheckboxesToBeChecked: true,\n                };\n            }\n\n            return null;\n        };\n    }\n\n    checkIfEdit() {\n        if (this.ticketData) {\n            this.isEditTicketMode = true;\n            this.ticketForm.patchValue(this.ticketData.ticket);\n            if (this.ticketData.ticket.hasSeat === true) {\n\n                if(this.ticketData.ticket.ticketsForBooking){\n                    this.ticketData.ticket.ticketsForBooking.forEach(ticket =>{\n                        this.ticketsForBooking().push(\n                            this.fb.group({\n                                ticketNumber: [ticket.ticketNumber, Validators.required],\n                                seatNumber: [ticket.seatNumber, Validators.required]\n                            })\n                        )\n                    })\n                }\n                this.displaySeats = true;\n            }\n\n            if (this.ticketData.ticket?.limit === true) {\n                this.displayLimit = true;\n\n            }\n\n            if (this.ticketData.ticket.bookingPolicies?.advanceFullPayment) {\n                this.previousBookingType = 'advanceFullPayment';\n                this.selectedBookingType = 'advanceFullPayment';\n                this.bookingPolicyEdit(true, 'advanceFullPayment');\n            }\n\n\n            if(this.ticketData.ticket.bookingPolicies?.depositRequiredPercentage > 0){\n                this.ticketForm.get('bookingPolicies.depositRequired').patchValue(true);\n                this.ticketForm.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('percentage');\n            }\n\n            if(this.ticketData.ticket.bookingPolicies?.depositRequiredAmount > 0){\n                this.ticketForm.get('bookingPolicies.depositRequired').patchValue(true);\n                this.ticketForm.get('bookingPolicies.advancePartialPaymentPercentage').disable();\n                this.previousBookingType = 'depositRequired';\n                this.selectedBookingType = 'depositRequired';\n                this.checkDepositType('amount');\n            }\n\n            if(this.ticketData.ticket.bookingPolicies?.advancePartialPaymentPercentage > 0){\n                this.ticketForm.get('bookingPolicies.advancePartialPayment').patchValue(true);\n                this.ticketForm.get('bookingPolicies.depositRequiredAmount').disable();\n                this.ticketForm.get('bookingPolicies.depositRequiredPercentage').disable();\n                this.previousBookingType = 'advancePartialPayment';\n                this.selectedBookingType = 'advancePartialPayment';\n            }\n        }\n    }\n\n    // form array\n    ticketsForBooking(): FormArray {\n        return this.ticketForm.get('ticketsForBooking') as FormArray;\n    }\n\n    newTicket(): FormGroup {\n        return this.fb.group({\n            ticketNumber: [null, Validators.required],\n            seatNumber: [null, Validators.required]\n        });\n    }\n\n    addTicket() {\n        if (this.displayLimit && this.displaySeats) {\n            if (this.ticketsForBooking().length < this.ticketForm.value.ticketsLimit) {\n                this.ticketsForBooking().push(this.newTicket());\n            } else {\n                console.log('peste limita');\n            }\n        } else if (this.displaySeats && !this.displayLimit) {\n            this.ticketsForBooking().push(this.newTicket());\n        } else {\n            console.log('nu se paote');\n        }\n\n\n    }\n\n    removeTicket() {\n        if (this.ticketsForBooking().length < 1) {\n            return\n        }\n        this.ticketsForBooking().removeAt(-1);\n    }\n\n    limitChecking(event) {\n        console.log(event);\n        if (event.checked) {\n            this.displayLimit = true;\n            // if(this.ticketsForBooking().length > this.ticketForm.value.ticketsLimit){\n            //     this.removeTicket();\n            // }\n        } else {\n            this.displayLimit = false;\n            // this.ticketForm.get('ticketsLimit').disable();\n            this.ticketForm.get('ticketsLimit').patchValue(0);\n        }\n    }\n\n    seatChecking(event) {\n        console.log(event);\n        if (event.checked) {\n            this.displaySeats = true;\n        } else {\n            this.displaySeats = false;\n            // this.ticketForm.get('ticketsLimit').disable();\n            this.ticketForm.get('ticketsLimit').patchValue(null);\n        }\n    }\n\n    close(): void {\n        this.dialogRef.close();\n    }\n\n    confirm() {\n        this.ticketForm.markAllAsTouched();\n        if (this.ticketForm.valid) {\n            if (this.isEditTicketMode) {\n                this.updateTicket();\n                this.dialogRef.close();\n            } else {\n                this.createTicket();\n                this.dialogRef.close();\n            }\n        }else{\n            console.log('formular invalid', this.ticketForm.value);\n            console.log('formular invalid 2', this.ticketForm);\n        }\n    }\n\n    createTicket() {\n        if (this.resourceService.resourceId$.getValue()) {\n            this.ticketsBookingService.addTicketToCreateArrayEdit(this.ticketForm.value);\n            console.log('CREATE NEW TICKET', this.ticketsBookingService.createArray$.getValue());\n            this.ticketsBookingService.refreshCreateArray$.next(true);\n        } else {\n            this.ticketsBookingService.addTicketToList(this.ticketForm.value);\n        }\n\n    }\n\n    updateTicket() {\n        this.ticketList = [];\n\n        //check if you are on edit resource\n        if (this.resourceService.resourceId$.getValue()) {\n            console.log('lista', this.ticketsBookingService.ticketsList$.getValue());\n\n            //we get the initial array\n            const initList = this.ticketsBookingService.ticketsList$.getValue();\n            //find this ticket in the initial array\n            const indexInInitList = initList.findIndex(ticket => ticket.id === this.ticketForm.value.id);\n\n            //we get the createArray to be able to check for the ticket if it was added now\n            const createList = this.ticketsBookingService.createArray$.getValue();\n            // find this ticket in the current create list\n            const indexInCreateList = createList.findIndex(ticket => ticket.id === this.ticketForm.value.id);\n\n            //we get the updateArray to be able to check for this ticket, in case it was a ticket from backend updated now\n            const updateList = this.ticketsBookingService.updateArray$.getValue();\n            // find this ticket in the current create list\n            const indexInUpdateList = updateList.findIndex(ticket => ticket.id === this.ticketForm.value.id);\n\n\n            if (indexInInitList !== -1) {\n                //if the ticket was found in the initial list, it is moved to updateArray\n                console.log('case 1', this.ticketsBookingService.ticketsList$.getValue())\n                this.ticketsBookingService.addTicketToUpdateArray(this.ticketForm.value);\n                const filteredInitList = initList.filter(ticket => ticket.id !== this.ticketForm.value.id);\n                console.log('filter 1', filteredInitList)\n                this.ticketsBookingService.ticketsList$.next(filteredInitList);\n                console.log('case 1 after', this.ticketsBookingService.ticketsList$.getValue())\n                this.ticketsBookingService.refreshTicketList$.next(true);\n                this.ticketsBookingService.refreshUpdateArray$.next(true);\n\n            }else if (indexInCreateList !== -1) {\n                //if the ticket was found in the create list, it is updated here\n                createList[indexInCreateList] = this.ticketForm.value;\n                this.ticketsBookingService.createArray$.next(createList);\n            } else if (indexInUpdateList !== -1) {\n                //if the ticket was found in the update list, it is updated here\n                updateList[indexInUpdateList] = this.ticketForm.value;\n                this.ticketsBookingService.updateArray$.next(updateList);\n            } else {\n                console.log('ticket not found');\n            }\n        } else {\n            //CREATE RESOURCE\n            // Get ticket List\n            const ticketList = this.ticketsBookingService.ticketsList$.getValue();\n            // find this ticket in the current create list\n            const indexInList = ticketList.findIndex(ticket => ticket.id === this.ticketForm.value.id);\n\n            // Check if the room was found and update\n            if (indexInList !== -1) {\n                ticketList[indexInList] = this.ticketForm.value;\n                this.ticketsBookingService.ticketsList$.next(ticketList);\n            } else {\n                console.log('ticket not found');\n            }\n        }\n\n    }\n\n    depositCheck(event){\n        if(!event.checked){\n            this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n        }\n    }\n\n    advancePaymentCheck(event){\n        if(!event.checked){\n            this.ticketForm.get('bookingPolicies').get('advancePartialPaymentPercentage').patchValue(0);\n        }\n    }\n\n    checkDepositType(type) {\n        if (this.ticketForm.get('bookingPolicies').get('depositRequired').value) {\n            if (type === 'percentage') {\n                if (this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').value > 0) {\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredAmount').patchValue(0);\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredAmount').disable();\n                } else if (this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').value === 0 || !this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredAmount').enable();\n                }\n            } else if (type === 'amount') {\n                if (this.ticketForm.get('bookingPolicies').get('depositRequiredAmount').value > 0) {\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').patchValue(0);\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').disable();\n                } else if (this.ticketForm.get('bookingPolicies').get('depositRequiredAmount').value === 0 || !this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').value) {\n                    this.ticketForm.get('bookingPolicies').get('depositRequiredPercentage').enable();\n                }\n            }\n        }\n\n    }\n\n\n\n    ngOnDestroy() {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {TicketsBookingService} from \"../../../../../../_services/tickets-booking.service\";\nimport {ResourcesService} from \"../../../../../../_services/resources.service\";\n\n@Component({\n    selector: 'app-delete-ticket',\n    templateUrl: './delete-ticket.component.html',\n    styleUrls: ['./delete-ticket.component.scss']\n})\nexport class DeleteTicketComponent implements OnInit {\n\n    currentTicket: any;\n\n    constructor(private ticketService: TicketsBookingService,\n                private resourceService: ResourcesService,\n                public dialogRef: MatDialogRef<DeleteTicketComponent>,\n                @Inject(MAT_DIALOG_DATA) public ticketData: { ticket: any, index: number }) {\n    }\n\n    ngOnInit() {\n        this.currentTicket = this.ticketData.ticket;\n    }\n\n    close(): void {\n        this.dialogRef.close();\n    }\n\n\n        //de tratat cazul in care face update la ceva existent si apoi sterge\n    deleteTicket() {\n        //chef if you are on EDIT RESOURCE\n        if (this.resourceService.resourceId$.getValue()) {\n            //we get the initial ticket list from backend (this might be shorter if an item was deleted or updated)\n            const initList = this.ticketService.ticketsList$.getValue();\n            //find this ticket in the initial list by id\n            const filteredOriginalTickets = initList.filter(ticket => ticket.id !== this.ticketData.ticket.id);\n\n            //we get the createArray to be able to look for the ticket if it was added recently\n            const createList = this.ticketService.createArray$.getValue();\n            // find this ticket in the current create list\n            const filteredCreateTickets = createList.filter(ticket => ticket.id !== this.ticketData.ticket.id);\n\n            //we get the updateArray to be able to look for the ticket if it was updated recently\n            const updateArray = this.ticketService.updateArray$.getValue();\n            // find this ticket in the current update list\n            const filteredUpdateTickets = updateArray.filter(ticket => ticket.id !== this.ticketData.ticket.id);\n\n\n            if (filteredOriginalTickets.length !== initList.length) {\n                /**to do ---- de trimis doar id ul*/\n\n                //if you want to detele a ticket from the initial array, it will be moved to the delete array\n\n                this.ticketService.addTicketToDeleteArray(this.ticketData.ticket);\n                console.log('delete first array', this.ticketService.deleteArray$.getValue());\n\n                this.ticketService.ticketsList$.next(filteredOriginalTickets);\n                this.ticketService.refreshTicketList$.next(true);\n\n            }else if(filteredCreateTickets.length !== createList.length){\n                //if you want to delete a ticket that was created now, you delete it from the create array\n                this.ticketService.createArray$.next(filteredCreateTickets);\n                console.log('sterg un bilet creat', filteredCreateTickets);\n\n                this.ticketService.refreshCreateArray$.next(true);\n\n            }else if(filteredUpdateTickets.length !== updateArray.length){\n                console.log('vrei sa stergi un ticket care a fost editat');\n                //if you want to delete a ticket that was updated this session, it will be moved to the delete array\n                this.ticketService.addTicketToDeleteArray(this.ticketData.ticket);\n                this.ticketService.updateArray$.next(filteredUpdateTickets);\n                console.log('array-ul de delete', this.ticketService.deleteArray$.getValue());\n                console.log('array-ul de update', this.ticketService.updateArray$.getValue());\n                this.ticketService.refreshUpdateArray$.next(true);\n            }\n            else {\n                console.log(`nu a fost gasit`);\n            }\n\n            this.dialogRef.close();\n\n\n        }\n        else {\n            //on CREATE RESOURCE\n            // Get ticket List\n            const ticketList = this.ticketService.ticketsList$.getValue()\n\n            // Exclude the ticket by id\n            const filteredTickets = ticketList.filter(ticket => ticket.id !== this.ticketData.ticket.id);\n\n            // Check if a room was deleted and update the array\n            if (filteredTickets.length !== ticketList.length) {\n                this.ticketService.ticketsList$.next(filteredTickets);\n            } else {\n                console.log(`Room not found`);\n            }\n            console.log('DELETE');\n            this.dialogRef.close();\n        }\n    }\n\n}\n","import {StepperService} from \"../../../../../_services/stepper.service\";\nimport {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AddEditRoomModalComponent} from \"../rental-booking/add-edit-room-modal/add-edit-room-modal.component\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {AddEditTicketComponent} from \"./add-edit-ticket/add-edit-ticket.component\";\nimport {TicketsBookingService} from \"../../../../../_services/tickets-booking.service\";\nimport {DeleteTicketComponent} from \"./delete-ticket/delete-ticket.component\";\nimport {ResourcesService} from \"../../../../../_services/resources.service\";\nimport {BehaviorSubject, forkJoin, Observable, Subject, Subscription, takeUntil} from \"rxjs\";\nimport {UserDataService} from \"../../../../../../../shared/_services/userData.service\";\nimport {ActivatedRoute, NavigationStart, Router} from \"@angular/router\";\nimport {RentalBookingService} from \"../../../../../_services/rental-booking.service\";\nimport {TimepickerService} from \"../../../../../_services/timepicker.service\";\nimport {ProductListService} from \"../../../../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../../../../_services/booking-timeslots.service\";\nimport {ToastService} from \"../../../../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../../../../shared/_services/createResource.service\";\nimport {SystemSettingsService} from \"../../../../../../../shared/_services/system-settings.service\";\nimport {MenuService} from \"../../../../../_services/menu.service\";\nimport {FormGroup} from \"@angular/forms\";\nimport {CulturalBookingService} from \"../../../../../_services/cultural-booking.service\";\n\n@Component({\n    selector: 'app-ticket-booking',\n    templateUrl: './ticket-booking.component.html',\n    styleUrls: ['./ticket-booking.component.scss']\n})\nexport class TicketBookingComponent implements OnInit, OnDestroy {\n    //for save resource\n    isAdmin: boolean;\n    isProvider: boolean;\n    isStaff: boolean;\n\n    resourceId: string;\n    roomsArray: any;\n    currentBookingType: string;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    $fileObservables: Observable<object>[] = [];\n    private routeSub: any;\n\n    constructor(public dialog: MatDialog,\n                private stepperService: StepperService,\n                private ticketBookingService: TicketsBookingService,\n                private resourceService: ResourcesService,\n                private userService: UserDataService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService,\n                private culturalBookingService: CulturalBookingService) {\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n    }\n\n    ticketList: any;\n    createList: any;\n    updateList: any;\n    private ngUnsubscribe = new Subject<void>();\n\n    ngOnInit() {\n\n        // Store Resource ID\n        this.resourceId = this.resourceService.resourceId$.getValue();\n        console.log('INIT LIST TICKETS, res id: ', this.resourceService.resourceId$.getValue());\n\n        this.ticketBookingService.refreshTicketList$.subscribe(resp => {\n            console.log('REFRESH TICKET LIST', this.ticketBookingService.ticketsList$.getValue())\n            this.ticketList = this.ticketBookingService.ticketsList$.getValue();\n        })\n\n        this.ticketBookingService.refreshCreateArray$.subscribe(resp => {\n            console.log('REFRESH CREATE LIST', this.ticketBookingService.createArray$.getValue())\n            this.createList = this.ticketBookingService.createArray$.getValue();\n        })\n\n        this.ticketBookingService.refreshTicketUpdateData().subscribe(resp => {\n            console.log('REFRESH UPDATE LIST', this.ticketBookingService.updateArray$.getValue())\n            this.updateList = this.ticketBookingService.updateArray$.getValue();\n        })\n\n        if (this.resourceId) {\n\n\n            // If you are on EDIT RESOURCE get the list of tickets from the req only once\n            this.ticketBookingService.getTicketList(this.resourceService.resourceId$.getValue()).subscribe({\n                next: (resp: any) => {\n                    console.log('GET TICKET LIST SUBSCRIPTION', resp);\n                    // console.log('COMPARED', JSON.stringify(resp) === JSON.stringify(this.ticketBookingService.ticketsList$.getValue())); //true\n                    if (this.ticketBookingService.ticketsList$.getValue().length === 0) {\n                        resp.forEach(ticket =>{\n                           const findTicket = this.ticketBookingService.updateArray$.getValue().find(t => t.id === ticket.id);\n                           // console.log('FIND TICKET', findTicket);\n                           if(!findTicket){\n                               this.ticketBookingService.addTicketToList(ticket);\n                           }\n                        })\n                        console.log('lista de la be pe edit', this.ticketBookingService.ticketsList$.getValue());\n                        this.ticketList = this.ticketBookingService.ticketsList$.getValue();\n                    }\n\n\n                }\n            })\n\n        } else {\n            //ticket list to work with on CREATE RESOURCE\n            this.ticketBookingService.ticketListData()\n                .pipe(takeUntil(this.ngUnsubscribe))\n                .subscribe({\n                    next: ticketList => {\n                        this.ticketList = ticketList;\n                        console.log('lista de create', ticketList);\n                    }\n                })\n        }\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.resourceId = this.resourceService.resourceId$.getValue();\n        }\n\n        this.currentBookingType = this.resourceService.resourceTemplateData$.getValue().bookingType;\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        });\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n    }\n\n\n    openAddModal() {\n        this.dialog.open(AddEditTicketComponent, {\n            width: '1500px',\n            height: '750px',\n            data: undefined\n        });\n    }\n\n    openEditModal(ticket) {\n        this.dialog.open(AddEditTicketComponent, {\n            width: '1500px',\n            height: '750px',\n            data: {\n                ticket: ticket\n            }\n        });\n    }\n\n    openDeleteModal(ticket, index) {\n        this.dialog.open(DeleteTicketComponent, {\n            width: '720px',\n            height: '400px',\n            data: {\n                ticket: ticket,\n                index: index\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n        this.routeSub?.unsubscribe();\n\n    }\n\n    /** Go to next step*/\n    nextStep() {\n        this.stepperService.nextStep(true);\n    }\n\n    /** Go to previous step*/\n    prevStep() {\n        this.stepperService.prevStep()\n    }\n\n    //for save resource\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.culturalBookingService.culturalRoom$.next(null);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n\n    saveResource() {\n        this.isSubmitLoading = true;\n        this.roomsArray = this.roomService.roomList$.getValue();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.updateResource(formObject, combineForms);\n            //added for policies check on menu\n            // if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n            //     if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n            //             this.timepickerService.changePolicies$.getValue().modifiable ||\n            //             (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n            //                 this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n            //         (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0) ) {\n            //         this.updateResource(formObject, combineForms);\n            //     } else {\n            //         this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n            //         this.isSubmitLoading$.next(false);\n            //     }\n            //     //if not menu, everything works like before\n            // } else {\n            //     this.updateResource(formObject, combineForms);\n            // }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.resourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.resourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.resourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n                    // cultural booking\n                    if (this.currentBookingType === 'culturalBooking' && this.culturalBookingService.culturalRoom$.getValue()) {\n                        const modifiedCulturalRoom = this.culturalBookingService.culturalRoom$.getValue();\n                        this.$fileObservables.push(this.culturalBookingService.updateCulturalRoom(modifiedCulturalRoom.id, modifiedCulturalRoom));\n                    }\n\n                    //menu-booking\n                    if (this.currentBookingType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.currentBookingType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {StepperService} from \"../../_services/stepper.service\";\nimport {ResourcesService} from \"../../_services/resources.service\";\nimport {ResourcesService as DomainService} from \"../../../../shared/_services/resources.service\";\nimport {Subject, takeUntil} from \"rxjs\";\n\n@Component({\n    selector: 'app-stepper-title-list',\n    templateUrl: './stepper-title-list.component.html',\n    styleUrls: ['./stepper-title-list.component.scss']\n})\nexport class StepperTitleListComponent implements OnInit, OnDestroy {\n\n    selectedStep: number;\n    stepTitleList: Array<{ id, stepName }>;\n    stage: string;\n    domain: string;\n    category: string;\n    resourceType: string;\n\n    bookingType: string;\n\n    private ngUnsubscribe = new Subject<void>();\n\n\n    constructor(private stepperService: StepperService,\n                private resourceService: ResourcesService,\n                private domainService: DomainService) {\n    }\n\n    ngOnInit() {\n        this.resourceService.getBookingType().subscribe({\n            next: type => {this.bookingType = type;\n            console.log('BOOKING TYPE', type)}\n        })\n        this.stepperService.getStepperStage().subscribe(\n            {next: stage => {\n                    this.stage = stage;\n                    // console.log('sTEPPER title STAGE', this.stage)\n                }\n            }\n        )\n\n        // Listen To Step Changes\n        this.stepperService.getStep().subscribe({\n            next: step => this.selectedStep = step\n        })\n\n        // Listen To Title Steps Changes\n        this.stepperService.getStepsTitle().subscribe({\n            next: step => {\n                if(this.stage === 'Configure/Edit' && this.bookingType !== 'culturalBooking'){\n                    this.stepTitleList = step.filter(stepId => stepId.id !== 3)\n                    console.log('din stepper title', step)\n                }else{\n                    this.stepTitleList = step\n                }\n\n            }\n        })\n\n        // if(this.resourceService.resourceId$.getValue()){\n        //     console.log('STEPPER ON EDIT', this.resourceService.resourceTemplateType$.getValue());\n        //     this.getDomain(this.resourceService.resourceTemplateData$.getValue().domain);\n        //     this.getCategory(this.resourceService.resourceTemplateData$.getValue().categoryId);\n        //     this.getResourceType(this.resourceService.resourceTemplateData$.getValue().resourceTypeId);\n        // }else{\n        //\n        // }\n\n        this.resourceService.getTemplateType()\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe({\n            next: template =>{\n                console.log('TEMPLATE STEPPER', template);\n                this.getDomain(template?.domain);\n                this.getCategory(template?.categoryId);\n                this.getResourceType(template?.resourceTypeId);\n            }\n        })\n\n    }\n\n\n    getDomain(domainId){\n        this.domainService.getDomainById(domainId).subscribe({\n            next:domain => {\n                // console.log('dom', domain);\n                this.domain = domain?.nameEn;\n\n            }\n        })\n    }\n\n    getCategory(categoryId){\n        this.domainService.getResourceCategoryById(categoryId).subscribe({\n            next: categ => {\n                this.category = categ?.nameEn;\n            }\n        })\n    }\n\n    getResourceType(resType){\n        this.domainService.getResourceTypeById(resType).subscribe({\n            next: resType => {\n                this.resourceType= resType?.nameEn;\n            }\n        })\n    }\n\n    goToStep(stepValue){\n        this.stepperService.stepperStage$.next('Add');\n        this.stepperService.step$.next(stepValue);\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe.next();\n        this.ngUnsubscribe.complete();\n    }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ResourcesService} from \"../../_services/resources.service\";\nimport {ActivatedRoute, Router, NavigationStart} from \"@angular/router\";\nimport {StepperService} from \"../../_services/stepper.service\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {RentalBookingService} from \"../../_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../_services/timepicker.service\";\nimport {ProductListService} from \"../../_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../_services/booking-timeslots.service\";\nimport {Attribute} from \"../../../../shared/_models/attribute.model\";\nimport {SystemSettingsService} from \"../../../../shared/_services/system-settings.service\";\nimport {SystemSetting} from \"../../../../shared/_models/system-setting.model\";\nimport {BehaviorSubject, forkJoin, Observable, Subscription} from \"rxjs\";\nimport {ToastService} from \"../../../../shared/_services/toast.service\";\nimport {CreateResourceService} from \"../../../../shared/_services/createResource.service\";\nimport {takeUntil} from \"rxjs\";\nimport {UserDataService} from 'src/app/shared/_services/userData.service';\nimport {User} from 'src/app/shared/_models/user.model';\nimport {ToastComponent} from 'src/app/theme/components/toast/toast.component';\nimport {error} from 'console';\nimport {MenuService} from \"../../_services/menu.service\";\nimport * as moment from \"moment/moment\";\n\n\n@Component({\n    selector: 'app-add-resource',\n    templateUrl: './add-resource.component.html',\n    styleUrls: ['./add-resource.component.scss']\n})\nexport class AddResourceComponent implements OnInit, OnDestroy {\n\n\n    // Loader\n    dataLoaded = false;\n    isProviderAccepted: boolean;\n    form: FormGroup = this.resourceService.generalInformationForm$.getValue();\n\n    // Resource\n    resourceType;\n\n    // Stepper\n    step: number;\n    stepperStage: string;\n\n    /** Configure/Edit Stage  - START */\n    formSections: any = [];\n    resourceId: string;\n    resourceName: string;\n\n    bookingType: string;\n\n    /** Configure/Edit Stage  - END */\n\n    templateForm = new FormGroup({\n        domain: new FormControl('', Validators.required),\n        categoryId: new FormControl('', Validators.required),\n        resourceTypeId: new FormControl('', Validators.required)\n    })\n\n    $fileObservables: Observable<object>[] = [];\n    isStaff: boolean;\n    isAdmin: boolean;\n    isProvider: boolean;\n\n    currentResourceId: string;\n    roomsArray: any;\n    currentTemplateId: string;\n    attributesFromTemplate: any;\n    providerData: any;\n\n    isSubmitLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    isSubmitLoading: boolean;\n    private unsubscribe: Subscription[] = [];\n\n    constructor(private resourceService: ResourcesService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private stepperService: StepperService,\n                private roomService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private userService: UserDataService,\n                private toastService: ToastService,\n                private createResourceService: CreateResourceService,\n                private systemSettings: SystemSettingsService,\n                private menuService: MenuService) {\n\n        const loadingSubscr = this.isSubmitLoading$\n            .asObservable()\n            .subscribe((res) => (this.isSubmitLoading = res));\n        this.unsubscribe.push(loadingSubscr);\n\n    }\n\n    private routeSub: any;  // subscription to route observer\n\n    ngOnInit(): void {\n        this.timepickerService.setFreeEntry(false);\n        this.checkIfProviderAccepted();\n        this.getDomainId();\n        this.providerData = this.createResourceService.providerData$.getValue();\n\n        this.getTripsAndItinerariesIds();\n        this.stepperService.getStep().subscribe({\n            next: stepNumber => this.step = stepNumber\n        })\n\n        this.stepperService.getStepperStage().subscribe({\n            next: stage => this.stepperStage = stage\n        })\n\n        this.resourceService.getResourceId().subscribe({\n            next: id =>\n                this.resourceId = id\n\n        })\n\n        this.userService.getCurrentUser().subscribe((response: any) => {\n            if (response.roles.includes('ROLE_PROVIDER')) {\n                this.isProvider = true;\n            }\n\n            if (response.roles.includes('ROLE_STAFF')) {\n                this.isStaff = true;\n            }\n\n            if (response.roles.includes('ROLE_SUPER_ADMIN')) {\n                this.isAdmin = true;\n            }\n        })\n\n        if (this.resourceService.resourceId$.getValue()) {\n            this.currentResourceId = this.resourceService.resourceId$.getValue();\n        }\n\n\n        /*this.routeSub = this.router.events.subscribe((event) => {\n            if (event instanceof NavigationStart) {\n                // save your data\n                console.log('AM PLECAT PA PA');\n                this.clearFields();\n            }\n        });*/\n\n\n        this.route.params.subscribe((params: any) => {\n            // Resource ID - I use this to check if you are on edit page\n            this.resourceService.resourceId$.next(params.id);\n            this.resourceService.generalInformationForm$.next(new FormGroup({}));\n            // this.clearFields();\n            // Check if you are on edit page\n            if (this.resourceId) {\n\n                // Initiate stepper to Configure/Edit Mode\n                this.stepperService.stepperStage$.next('Configure/Edit');\n                this.resourceService.generalInformationForm$.next(new FormGroup({}));\n                console.log('STEP', this.stepperService.step$.getValue());\n                console.log('res template data', this.resourceService.resourceTemplateData$.getValue());\n\n                // Get the resource by ID\n                this.resourceService.getResourceById(this.resourceId).subscribe({\n                    next: (resourceData: any) => {\n                        console.log('RESURSA PE EDIT DE LA BE', resourceData)\n                        this.resourceService.bookingType$.next(resourceData?.bookingType);\n                        console.log('BOOKING TYPE ADD', this.resourceService.bookingType$.getValue())\n\n\n                        this.resourceService.resourceTemplateData$.next({\n                            ...resourceData,\n                            bookingPolicies: resourceData?.bookingPolicies\n                        });\n                        console.log('RES IN TEMPLATE DATA', this.resourceService.resourceTemplateData$.getValue());\n                        this.resourceService.bookingPolicies$.next(resourceData?.bookingPolicies);\n                        this.resourceName = resourceData.title;\n                        console.log('menu id first', resourceData.menuId);\n\n                        if (resourceData) {\n                            // console.log('AM DATELE DE LA RESURSA');\n                            // Create Manual Inputs\n                            this.form.addControl('title', new FormControl(resourceData.title, Validators.required));\n                            this.form.addControl('description', new FormControl(resourceData.description, Validators.required));\n                            this.form.addControl('address', new FormControl(resourceData.address, Validators.required));\n                            this.form.addControl('country', new FormControl(resourceData.country, Validators.required));\n                            this.form.addControl('city', new FormControl(resourceData.city, Validators.required));\n                            this.form.addControl('sharedExperience', new FormControl(resourceData.sharedExperience));\n                            this.form.addControl('forItinerary', new FormControl(resourceData.forItinerary));\n                            this.form.addControl('startDate', new FormControl(moment(resourceData.startDate).format('YYYY-MM-DDTHH:mm'), Validators.required));\n                            this.form.addControl('endDate', new FormControl(moment(resourceData.endDate).format('YYYY-MM-DDTHH:mm'), Validators.required));\n\n                            this.form.addControl('latitude', new FormControl(resourceData.geographicalCoordinates?.latitude));\n                            this.form.addControl('longitude', new FormControl(resourceData.geographicalCoordinates?.longitude));\n\n                            // this.form.addControl('bookingPolicies', new FormControl({\n                            //     ...resourceData?.bookingPolicies,\n                            //     depositRequired: false\n                            // }));\n                        }\n\n                        this.resourceService.generalInformationForm$.next(this.form);\n\n\n                        this.templateForm.controls.categoryId.setValue(resourceData.categoryId);\n                        this.templateForm.controls.domain.setValue(resourceData.domain);\n                        this.templateForm.controls.resourceTypeId.setValue(resourceData.resourceTypeId);\n\n                        // req de get resource template\n\n                        this.resourceService.addTemplate(this.templateForm.value);\n\n\n                        this.resourceService.resourceData.next(resourceData);\n                        // console.log('resource data start', resourceData)\n                        this.resourceService.filesForm$.next(new FormGroup({}));\n                        this.resourceService.filesForm$.getValue().addControl('thumbnail', new FormControl(resourceData.featuredImage));\n                        // this.resourceService.filesForm$.getValue().addControl('images', new FormControl(resourceData.images));\n                        // this.resourceService.filesForm$.getValue().addControl('videos', new FormControl(resourceData.videos));\n                        // console.log('files form start', this.resourceService.filesForm$.getValue().controls);\n\n                        // Set Resource Type\n                        this.resourceType = resourceData?.bookingType;\n\n                        if (resourceData?.bookingType === 'rentalBooking') {\n                            this.resourceService.accommodationPolicy$.next(resourceData?.policy?.accommodationPolicy);\n                            // console.log('am policy', this.resourceService.accommodationPolicy$.getValue());\n                            // console.log('policy de la req', resourceData.policy);\n                        }\n\n                        this.timepickerService.timetableList$.next(resourceData.timetable);\n\n                        this.resourceService.getListResourceTemplateFiltered(0, -1, '', '', this.templateForm.value).subscribe({\n                                next: (templateList: any) => {\n                                    // console.log('templateList', templateList.content[0]);\n\n                                    // Start from the first tab\n                                    // this.stepperService.step$.next(0);\n\n                                    // Change Stepper Stage\n                                    this.stepperService.stepperStage$.next('Configure/Edit')\n\n                                    // Store template data in service\n                                    // this.resourceService.resourceTemplateData$.next(templateList.content[0])\n                                    this.currentTemplateId = templateList.content[0].id;\n                                    this.resourceService.getAttributesFromTemplate(templateList.content[0].id).subscribe((data: any) => {\n                                        // this.resourceService.attributesFromResourceTemplate$.next(data);\n                                        // this.formSections = data;\n                                        this.attributesFromTemplate = data;\n\n                                        this.searchAttributes(resourceData.attributes, data);\n                                        // console.log('FORM SECTIONS', this.formSections);\n                                        // this.resourceService.resourceTemplateData$.next(resourceData);\n\n                                        console.log('formSections', this.formSections);\n                                        // nu cred ca tre sa stea aici\n                                        this.resourceService.attributesFromResourceTemplate$.next(this.formSections);\n                                        this.createDynamicForm(this.formSections);\n\n                                        // Data Loaded\n                                        this.dataLoaded = true\n                                    })\n\n\n                                }\n                            }\n                        )\n\n                    },\n                    error: (error) => console.log(error)\n                })\n\n            } else {\n                this.stepperService.stepperStage$.next('Add');\n                this.stepperService.step$.next(0);\n\n                this.resourceService.attributesFromResourceTemplate$.next(undefined);\n\n                // Get Selected Templated\n                this.resourceService.resourceTemplateType$.subscribe({\n                    next: templateType => {\n\n                        console.log('resoursa noua', templateType);\n\n                        // Check if we have a Template Type selected\n                        if (templateType !== undefined) {\n\n\n                            this.resourceService.getListResourceTemplateFiltered(0, -1, '', '', templateType).subscribe({\n                                next: (data: { content }) => {\n\n                                    console.log('template resoursa noua', data);\n                                    console.log('SUNT PE TEMPLATE CHIAR DACA S A SCHIMBAT')\n\n                                    this.resourceType = data.content[0].bookingType;\n\n                                    this.resourceService.bookingType$.next(data.content[0]?.bookingType);\n\n                                    // Start from the first tab\n                                    this.stepperService.step$.next(0)\n\n                                    // Change Stepper Stage\n                                    this.stepperService.stepperStage$.next('Configure/Edit')\n\n                                    // Store template data in service\n                                    this.resourceService.resourceTemplateData$.next(data.content[0])\n\n                                    // Get Template Attributes\n                                    this.resourceService.getAttributesFromTemplate(data.content[0].id).subscribe((data) => {\n\n                                        console.log('GET ATTR FROM TEMPLATE', data);\n                                        // Store attributes data in service\n                                        this.resourceService.attributesFromResourceTemplate$.next(data);\n\n                                        // Data Loaded\n                                        this.dataLoaded = true;\n                                    })\n\n                                },\n                                error: (error) => console.log(error)\n                            })\n                        }\n                    },\n                    error: (error) => console.log(error)\n                })\n\n            }\n        });\n    }\n\n    clearFields() {\n        // this.stepperService.step$.next(undefined);\n        this.stepperService.stepperStage$.next(undefined);\n\n        this.resourceService.resourceId$.next(undefined);\n        this.resourceService.resourceTemplateData$.next(undefined);\n        this.resourceService.resourceTemplateType$.next(undefined);\n        this.resourceService.attributesFromResourceTemplate$.next(undefined);\n        this.resourceService.generalInformationForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesForm$.next(new FormGroup({}));\n        this.resourceService.filesForm$.next(new FormGroup({}));\n        this.resourceService.facilitiesByCategory$.next([]);\n        this.resourceService.resourceData.next({\n            featuredImage: undefined,\n            images: [],\n            videos: []\n        });\n        this.resourceService.accommodationPolicy$.next(undefined);\n        this.roomService.refreshRoomList$.next(false);\n        this.roomService.roomList$.next([]);\n        this.roomService.imagesArray$.next([]);\n        this.resourceService.travelId$.next(undefined);\n        this.resourceService.relatedResources$.next([]);\n        this.resourceService.bookingType$.next(undefined);\n\n        this.ticketService.updateArray$.next([]);\n        this.ticketService.refreshUpdateArray$.next(false);\n        this.ticketService.createArray$.next([]);\n        this.ticketService.refreshCreateArray$.next(false);\n        this.ticketService.ticketsList$.next([]);\n        this.ticketService.refreshTicketList$.next(false);\n        this.ticketService.deleteArray$.next([]);\n\n        this.timepickerService.timepickerList$.next([]);\n        this.timepickerService.timetableList$.next([]);\n        this.timepickerService.timepickerId$.next(undefined);\n        this.timepickerService.timePicker$.next(undefined);\n        this.timepickerService.changePolicies$.next(undefined);\n        this.timepickerService.bookingPolicies$.next(undefined);\n\n        this.resourceService.externalUrl$.next(undefined);\n\n        this.productService.productsList$.next([]);\n        this.productService.refreshProductList$.next(false);\n        this.productService.deleteProdList$.next([]);\n\n        this.timeslotService.serviceList$.next([]);\n        this.timeslotService.refreshServiceList$.next(false);\n\n        this.createResourceService.providerData$.next(undefined);\n\n        this.resourceService.setupListener$.next(undefined);\n        this.resourceService.generalInfoListener$.next(undefined);\n        this.resourceService.policyRentalListener$.next(undefined);\n        this.resourceService.policyMenuListener$.next(undefined);\n        this.resourceService.policyListener$.next(undefined);\n        this.resourceService.settingsTripsItineraries$.next([]);\n        this.resourceService.tripsItinerariesObject$.next({});\n\n        this.menuService.refreshMenuList$.next(false);\n        this.menuService.menuList$.next([]);\n        this.menuService.menuId$.next(undefined);\n    }\n\n    getDomainId() {\n        this.resourceService.getListOfDomains().subscribe({\n            next: (domainsList: []) => {\n                domainsList.forEach((domain: any) => {\n                    if (domain.key === 'travel') {\n                        this.resourceService.travelId$.next(domain.id);\n                    } else if (domain.key === 'healthcare') {\n                        this.resourceService.medicalId$.next(domain.id);\n                    } else if (domain.key === 'education') {\n                        this.resourceService.educationId$.next(domain.id);\n                    }\n                })\n            }\n        })\n    }\n\n    /** Reinitialize Add Resource*/\n    exitResource() {\n\n        // Reset Stepper\n        this.stepperService.step$.next(0);\n        this.clearFields();\n\n\n        // Change stepper stage to Add\n        this.stepperService.stepperStage$.next('Add')\n\n    }\n\n\n    getTripsAndItinerariesIds() {\n        this.systemSettings.getSystemSetting().subscribe({\n            next: (settings: SystemSetting) => {\n                // console.log('sett',settings);\n                const tripsIds = {\n                    journeyThemeCategoryId: settings.journeyThemeCategoryId,\n                    typeOfDestinationCategoryId: settings.typeOfDestinationCategoryId,\n                    typeOfJourneyCategoryId: settings.typeOfJourneyCategoryId\n                }\n\n                this.resourceService.tripsItinerariesObject$.next(tripsIds);\n\n                this.resourceService.addTripsId(settings.journeyThemeCategoryId);\n                this.resourceService.addTripsId(settings.typeOfDestinationCategoryId);\n                this.resourceService.addTripsId(settings.typeOfJourneyCategoryId);\n            }\n        })\n\n\n    }\n\n\n    searchAttributes(resourceAttributes, templateAttributes) {\n\n        this.formSections = [];\n        console.log('res', resourceAttributes);\n        console.log('temp', templateAttributes);\n\n        templateAttributes.forEach(templateTab => {\n                console.log('test 1', templateTab)\n                resourceAttributes.forEach(resourceTab => {\n                        console.log('intram?');\n                        //verify if you are in the same tab\n                        if (templateTab.tabName === resourceTab.tabName) {\n                            const array = [];\n                            templateTab.tabAttributes.forEach(templateAttribute => {\n                                    if (resourceTab.tabAttributes?.length > 0) {\n                                        resourceTab.tabAttributes.forEach(resourceAttribute => {\n                                            //see if the attributes have the same id\n                                            if (templateAttribute.id === resourceAttribute.attributeId) {\n                                                //if they have the same id and the attribute is not already in the array\n                                                const attributeIndex = array.findIndex(attr => attr.id === templateAttribute.id);\n                                                if (attributeIndex === -1) {\n                                                    //push the attribute from template adding the value from resource\n                                                    array.push({\n                                                        ...templateAttribute,\n                                                        attributeValue: resourceAttribute.attributeValue\n                                                    })\n\n                                                }\n\n                                            } else {\n                                                //if the attributes dont have the same id, see if you can find it in the resource\n\n                                                const find = resourceTab.tabAttributes.find(attr => attr.attributeId === templateAttribute.id);\n                                                const attributeIndex = array.findIndex(attr => attr.id === templateAttribute.id);\n                                                //if the attribute isnt on the resource and it isnt on the array\n                                                if (attributeIndex === -1 && !find) {\n                                                    //push the attribute with no value\n                                                    // console.log('template attr not found', templateAttribute)\n                                                    array.push({\n                                                        ...templateAttribute,\n                                                        attributeValue: ''\n                                                    })\n                                                }\n                                            }\n\n\n                                        })\n                                    } else {\n                                        console.log('suntem aici, n-avem atr');\n                                        const attributeIndex = array.findIndex(attr => attr.id === templateAttribute.id);\n                                        if (attributeIndex === -1) {\n                                            //push the attribute with no value\n                                            // console.log('template attr not found', templateAttribute)\n                                            array.push({\n                                                ...templateAttribute,\n                                                attributeValue: ''\n                                            })\n                                        }\n                                    }\n\n\n                                }\n                            )\n\n                            this.formSections.push({\n                                tabName: templateTab.tabName,\n                                tabAttributes: array\n                            })\n\n                        }\n\n                    }\n                )\n\n                //after combining the resource attributes with the template attributes, see if you have all the template tabs\n                const findTab = this.formSections.find(section => templateTab.tabName === section.tabName);\n                // console.log('find tab',findTab);\n                //if not, add the tab with the name of the missing one and an empty array\n                if (!findTab) {\n                    console.log('find tab?', templateTab);\n                    this.formSections.push({\n                        tabName: templateTab.tabName,\n                        tabAttributes: templateTab.tabAttributes\n                    })\n                }\n\n            }\n        )\n\n    }\n\n\n    /** Submit Form*/\n    onSubmit() {\n\n\n        // Mark all inputs as touched\n        // this.form.markAllAsTouched()\n\n        // Check if the form is INVALID\n        // if (this.form.invalid) {\n        //     return\n        // }\n\n\n        // // Empty array\n        // const formData = [];\n        //\n        // // Sort form inputs by tabName\n        // for (const control in this.form.controls) {\n        //     this.formSections.forEach((section: any) => {\n        //         section.tabAttributes.forEach(attribute => {\n        //             if (attribute.name === control) {\n        //                 formData.push({\n        //                     tabName: section.tabName,\n        //                     attributeName: control,\n        //                     attributeId: attribute.id,\n        //                     attributeValue: this.form.get(control).value,\n        //                     attributeIconPath: attribute.icon.filePath\n        //                 });\n        //             }\n        //         });\n        //     });\n        // }\n        //\n        // const attributes = formData.reduce((acc, item) => {\n        //     const index = acc.findIndex(x => x.tabName === item.tabName);\n        //     if (index !== -1) {\n        //         acc[index].tabAttributes.push({\n        //             attributeId: item.attributeId,\n        //             attributeValue: item.attributeValue\n        //         });\n        //     } else {\n        //         acc.push({\n        //             tabName: item.tabName, tabAttributes: [{\n        //                 attributeId: item.attributeId,\n        //                 attributeValue: item.attributeValue\n        //             }]\n        //         });\n        //     }\n        //     return acc;\n        // }, []);\n        //\n        // // Formatted Form Object\n        // const formObject = {\n        //     title: this.form.value.title,\n        //     description: this.form.value.description,\n        //     slug: this.resourceId ? '' : this.form.value.title,\n        //     attributes: attributes\n        // }\n        //\n        // // Check if you are on edit or create\n        // if (this.resourceId) {\n        //     this.resourceService.updateResource(this.resourceId, formObject).subscribe({\n        //         next: (data) => console.log(data)\n        //     })\n        // } else {\n        //     this.resourceService.addResource(formObject).subscribe({\n        //         next: (data: any) => {\n        //             console.log(data)\n        //\n        //             // TODO Delete Later - l-am facut pentru a putea ajunge pe pagina de edit\n        //             this.resourceId = data.reason\n        //\n        //\n        //             // TODO Uncomment when you are done here\n        //             // Redirect to List Page\n        //             // this.router.navigate(['/private/provider/resources/' + this.resourceId])\n        //         },\n        //         error: (error) => console.log(error)\n        //     })\n        // }\n    }\n\n    checkIfProviderAccepted() {\n        this.userService.getCurrentUser().subscribe((currentUser: User) => {\n            if (currentUser.roles.includes('ROLE_PROVIDER') && currentUser.approvedStatus === null) {\n                this.isProviderAccepted = false;\n                this.router.navigate(['/private/provider/resources/my-list']);\n                // this.toastService.showToast(\"Error\", \"Nu aveti permisiunea necesară pentru a adăuga resurse. Luați legătura cu administratorul.\", 'error')\n            } else {\n                this.isProviderAccepted = false;\n            }\n        })\n    }\n\n    saveResource() {\n        this.roomsArray = this.roomService.roomList$.getValue();\n        this.seeWhere();\n\n        const combineForms: any = new FormGroup({\n            ...this.resourceService.generalInformationForm$.getValue().controls,\n            ...this.resourceService.facilitiesForm$.getValue().controls,\n            ...this.resourceService.filesForm$.getValue().controls\n        })\n\n        console.log('FILES FORM', this.resourceService.filesForm$.getValue())\n\n        console.log('Form-uri combinate', combineForms.value)\n        console.log('Atribute', this.resourceService.attributesFromResourceTemplate$.getValue())\n        console.log('Form-uri combinate 2', this.resourceService.resourceTemplateData$.getValue());\n        console.log('Form-uri combinate 3', this.resourceService.resourceTemplateType$.getValue());\n\n\n        // Empty array\n        const formData = [];\n\n        // Sort form inputs by tabName\n        for (const control in combineForms.controls) {\n            this.resourceService.attributesFromResourceTemplate$.getValue().forEach((section) => {\n                section.tabAttributes.forEach(attribute => {\n                    if (attribute.name === control) {\n                        if (attribute.valueType === 'multiple-select') {\n                            console.log('ATTR SENT', attribute, combineForms.get(control).value)\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: Array.isArray(combineForms.get(control).value) ? combineForms.get(control).value.join() : combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        } else {\n                            formData.push({\n                                tabName: section.tabName,\n                                attributeName: control,\n                                attributeId: attribute.id,\n                                attributeValue: combineForms.get(control).value,\n                                attributeIconPath: attribute.icon.filePath\n                            });\n                        }\n\n                    }\n                });\n            });\n        }\n\n        console.log('FORM DATA', formData);\n        const attributes = formData.reduce((acc, item) => {\n            const index = acc.findIndex(x => x.tabName === item.tabName);\n            if (index !== -1) {\n                acc[index].tabAttributes.push({\n                    attributeId: item.attributeId,\n                    attributeValue: item.attributeValue\n                });\n            } else {\n                acc.push({\n                    tabName: item.tabName,\n                    tabAttributes: [{\n                        attributeId: item.attributeId,\n                        attributeValue: item.attributeValue\n                    }]\n                });\n            }\n            return acc;\n        }, []);\n\n        console.log('sa ne uitam aici', this.resourceService.resourceTemplateData$.getValue());\n\n        // Formatted Form Object\n        const formObject = {\n            title: combineForms.value.title,\n            description: combineForms.value.description,\n            address: combineForms.value.address,\n            country: combineForms.value.country,\n            city: combineForms.value.city,\n            slug: this.resourceService.resourceId$.getValue() ? '' : combineForms.value.title,\n            featuredImage: combineForms.value.thumbnail,\n            images: this.resourceService.resourceData.getValue().images,\n            videos: this.resourceService.resourceData.getValue().videos !== null ? this.resourceService.resourceData.getValue().videos : [],\n            geographicalCoordinates: {\n                latitude: combineForms.value.latitude,\n                longitude: combineForms.value.longitude\n            },\n            attributes: attributes,\n            categoryId: this.resourceService.resourceTemplateType$.getValue().categoryId,\n            domain: this.resourceService.resourceTemplateType$.getValue().domain,\n            resourceTypeId: this.resourceService.resourceTemplateType$.getValue().resourceTypeId,\n            bookingType: this.resourceService.resourceTemplateData$.getValue().bookingType,\n            timetable: this.timepickerService.timetableList$.getValue().length > 0 ? this.timepickerService.timetableList$.getValue() : (!this.resourceService.resourceTemplateData$.getValue().timetable ? [] : this.resourceService.resourceTemplateData$.getValue().timetable),\n            policy: this.resourceService.accommodationPolicy$.getValue() ? (Object.keys(this.resourceService.accommodationPolicy$.getValue()).length === 0 ? this.resourceService.resourceTemplateData$.getValue().policy : {accommodationPolicy: this.resourceService.accommodationPolicy$.getValue()}) : this.resourceService.resourceTemplateData$.getValue().policy,\n            externalUrl: this.resourceService.externalUrl$.getValue(),\n            sharedExperience: combineForms.value.sharedExperience,\n            forItinerary: combineForms.value.forItinerary\n        }\n\n\n        console.log('FORM OBJ', formObject);\n\n        if (this.resourceService.resourceId$.getValue()) {\n\n            //added for policies check on menu\n            if (this.resourceType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                if ((this.timepickerService.changePolicies$.getValue().nonRefundable ||\n                        this.timepickerService.changePolicies$.getValue().modifiable ||\n                        (this.timepickerService.changePolicies$.getValue().freeCancellation.freeCancellation &&\n                            this.timepickerService.changePolicies$.getValue().freeCancellation.deadlineDays > 0)) &&\n                    (this.timepickerService.bookingPolicies$.getValue().depositRequired && this.timepickerService.bookingPolicies$.getValue().depositRequiredAmount > 0)) {\n                    this.updateResource(formObject, combineForms);\n                } else {\n                    this.toastService.showToast('Eroare', 'Nu ai completat politicile de modificare și rezervare!', 'error');\n                    this.isSubmitLoading$.next(false);\n                }\n                //if not menu, everything works like before\n            } else {\n                this.updateResource(formObject, combineForms);\n            }\n\n        }\n    }\n\n    updateResource(formObject: object, combineForms: any) {\n        this.resourceService.updateResource(this.resourceService.resourceId$.getValue(), formObject).subscribe({\n            next: (data: any) => {\n                console.log(data);\n                // console.log('IMAGINE', combineForms.value.thumbnail);\n                // console.log('IMAGINE', this.resourceService.resourceData.getValue().featuredImage);\n                // console.log('cond', combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)\n                if (combineForms.value.thumbnail && (combineForms.value.thumbnail !== this.resourceService.resourceData.getValue().featuredImage)) {\n                    const thumbnailData = new FormData();\n                    thumbnailData.append('file', combineForms.value.thumbnail);\n                    this.$fileObservables.push(this.resourceService.uploadResourceImage(this.resourceService.resourceId$.getValue(), thumbnailData));\n                }\n\n                if (combineForms.value.images?.length > 0) {\n                    const newImages = combineForms.value.images.filter(x => this.resourceService.resourceData.getValue().images.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newImages);\n\n                    if (newImages.length > 0) {\n                        const imagesData = new FormData();\n                        newImages.forEach(galleryFile => {\n                            imagesData.append('files', galleryFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'image', imagesData));\n                    }\n                }\n\n\n                if (combineForms.value.videos?.length > 0) {\n                    const newVideos = combineForms.value.videos.filter(x => this.resourceService.resourceData.getValue().videos.indexOf(x) === -1);\n                    console.log('Diferenta arrays', newVideos);\n\n\n                    if (newVideos.length > 0) {\n                        const videosData = new FormData();\n                        newVideos.forEach(videoFile => {\n                            videosData.append('files', videoFile);\n                        });\n                        this.$fileObservables.push(this.resourceService.uploadDocAttachements(this.resourceService.resourceId$.getValue(), 'video', videosData));\n                    }\n                }\n\n                if (data.success) {\n                    // console.log('TICKETs');\n                    // console.log('CREATE ARRAY', this.ticketService.createArray$.getValue());\n                    // console.log('current res id', this.currentResourceId);\n\n                    // this.timepickerService.timetableList$.next([]);\n                    //ticket-booking\n                    // this.ticketService.ticketsList$.next([]);\n\n\n                    if (this.ticketService.createArray$.getValue().length > 0) {\n                        // Create new tickets\n                        this.$fileObservables.push(this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()));\n                        // this.ticketService.createTickets(this.currentResourceId, this.ticketService.createArray$.getValue()).subscribe({\n                        //     next: (tickets: { success: boolean, reason: string }) => {\n                        //         if (tickets.success) {\n                        //             // console.log('SE ADAUGA TICKETELE PUSE PE UPDATE', tickets);\n                        //             this.ticketService.createArray$.next([]);\n                        //             console.log(this.ticketService.createArray$.getValue());\n                        //         }\n                        //     }\n                        // })\n                    } else {\n                        console.log('n-am in create');\n                    }\n\n\n                    if (this.ticketService.updateArray$.getValue().length > 0) {\n                        console.log('am in update');\n                        //Update tickets\n                        const updateArray = this.ticketService.updateArray$.getValue();\n                        updateArray.forEach(ticket => {\n                            this.$fileObservables.push(this.ticketService.updateTicket(ticket.id, ticket));\n                            // this.ticketService.updateTicket(ticket.id, ticket).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             // console.log('SE FACE UPDATE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.updateArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    } else {\n                        console.log('n-am in update');\n                    }\n\n\n                    if (this.ticketService.deleteArray$.getValue().length > 0) {\n                        //Delete tickets\n                        const deleteArray = this.ticketService.deleteArray$.getValue();\n                        deleteArray.forEach(ticket => {\n                            // console.log('ticket de sters', ticket)\n                            this.$fileObservables.push(this.ticketService.deleteTicket(ticket.id));\n                            // this.ticketService.deleteTicket(ticket.id).subscribe({\n                            //     next: (tickets: { success: boolean, reason: string }) => {\n                            //         if (tickets.success) {\n                            //             console.log('SE FACE DELETE LA TICKETS PE UPDATE', tickets);\n                            //             this.ticketService.deleteArray$.next([]);\n                            //         }\n                            //     },\n                            //     error: err => {\n                            //         console.log(err);\n                            //     }\n                            //\n                            // })\n                        })\n\n                    }\n\n                    if (this.productService.productsList$.getValue().length > 0) {\n                        const prodArray = this.productService.productsList$.getValue();\n                        prodArray.forEach(product => {\n                            if (product.state === 'add') {\n                                this.productService.createProduct(this.currentResourceId, product).subscribe({\n                                    next: (respAdd: { success: boolean, reason: string }) => {\n                                        if (respAdd) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (product.state === 'update') {\n                                this.productService.updateProduct(product.id, product).subscribe({\n                                    next: (respUpdate: { success: boolean, reason: string }) => {\n                                        console.log('update prod', respUpdate);\n                                        if (respUpdate) {\n                                            const imagArray = this.productService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (product.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                    if (imageObj.imageFile !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('images', imageObj.imageFile);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.productService.uploadImageForProduct(product.id, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }, error: (error) => {\n                                                                if (error.error.reason === 'fileSizeTooBig') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                                } else if (error.error.reason === 'wrongExtension') {\n                                                                    this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                                } else {\n                                                                    this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                                }\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.productService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    //product list\n                    if (this.productService.deleteProdList$.getValue().length > 0) {\n                        const deleteProdArray = this.productService.deleteProdList$.getValue();\n                        deleteProdArray.forEach(product => {\n                            this.productService.deleteProduct(product.id).subscribe({\n                                next: (respAdd: { success: boolean, reason: string }) => {\n                                    if (respAdd) {\n                                        const imagArray = this.productService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (product.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + product.id + ' va avea astea', imageObj);\n                                                if (imageObj.imageFile !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('images', imageObj.imageFile);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                    this.productService.uploadImageForProduct(respAdd.reason, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }, error: (error) => {\n                                                            if (error.error.reason === 'fileSizeTooBig') {\n                                                                this.toastService.showToast(\"Eroare\", \"Fisierul incărcat este prea mare! Încărcați o imagine mai mica de 2 MB!\", \"error\");\n                                                            } else if (error.error.reason === 'wrongExtension') {\n                                                                this.toastService.showToast(\"Eroare\", \"Formatul fisierului nu este permis!\", \"error\");\n                                                            } else {\n                                                                this.toastService.showToast(\"Eroare\", \"A aparut o problemă la încărcarea imaginii!\", \"error\");\n                                                            }\n                                                        }\n                                                    })\n                                                }\n\n                                                this.productService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                }\n                            });\n                        })\n                    }\n\n\n                    //service time slot\n                    if (this.timeslotService.serviceList$.getValue().length > 0) {\n                        const serviceArray = this.timeslotService.serviceList$.getValue();\n                        serviceArray.forEach(service => {\n                            if (service.state === 'add') {\n                                this.$fileObservables.push(this.timeslotService.createService(this.currentResourceId, service))\n                            } else if (service.state === 'update') {\n                                this.$fileObservables.push(this.timeslotService.updateServiceByServiceId(service.id, service));\n                            }\n                        })\n                    }\n\n                    if (this.timeslotService.deleteServiceList$.getValue().length > 0) {\n                        const deleteServArray = this.timeslotService.deleteServiceList$.getValue();\n                        deleteServArray.forEach(service => {\n                            this.$fileObservables.push(this.timeslotService.deleteService(service.id));\n                        })\n                    }\n\n                    //rental-booking\n                    if (this.roomsArray.length > 0) {\n                        this.roomsArray.forEach(room => {\n                            if (room.state === 'add') {\n                                this.roomService.createRoom(this.resourceService.resourceId$.getValue(), room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('adaugare camera pe edit resursa', resp);\n                                        if (resp.success) {\n                                            const imagArray = this.roomService.imagesArray$.getValue();\n                                            console.log('array', imagArray);\n                                            imagArray.forEach(imageObj => {\n                                                if (room.id === imageObj.id) {\n                                                    console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                    if (imageObj.featuredImage !== undefined) {\n                                                        const thumbnailData = new FormData();\n                                                        thumbnailData.append('file', imageObj.featuredImage);\n                                                        console.log('thumb data', thumbnailData);\n\n                                                        // this.$fileObservables.push( this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData));\n                                                        this.roomService.uploadRoomThumbnail(resp.reason, thumbnailData).subscribe({\n                                                            next: thumb => {\n                                                                console.log('thumbnail uploadat', thumb);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    if (imageObj.gallery.length > 0) {\n                                                        const imagesData = new FormData();\n                                                        imageObj.gallery.forEach(galleryFile => {\n                                                            if (galleryFile.state === 'upload') {\n                                                                imagesData.append('images', galleryFile.file);\n                                                            }\n\n                                                        });\n\n                                                        // this.$fileObservables.push(this.roomService.uploadRoomGallery(resp.reason, imagesData));\n                                                        this.roomService.uploadRoomGallery(resp.reason, imagesData).subscribe({\n                                                            next: gallery => {\n                                                                console.log('galerie uploadata', gallery);\n                                                            }\n                                                        })\n                                                    }\n\n                                                    this.roomService.imagesArray$.next([]);\n                                                }\n                                            })\n                                        }\n                                    }\n                                })\n                            } else if (room.state === 'update') {\n\n                                this.roomService.updateRoom(room.id, room).subscribe({\n                                    next: (resp: { success: boolean, reason: string }) => {\n                                        // console.log('editare camera pe edit resursa', resp);\n                                        const imagArray = this.roomService.imagesArray$.getValue();\n                                        console.log('array', imagArray);\n                                        imagArray.forEach(imageObj => {\n                                            if (room.id === imageObj.id) {\n                                                console.log('imaginea cu id-ul ' + room.id + ' va avea astea', imageObj);\n                                                if (imageObj.featuredImage !== undefined) {\n                                                    const thumbnailData = new FormData();\n                                                    thumbnailData.append('file', imageObj.featuredImage);\n                                                    console.log('thumb data', thumbnailData);\n\n                                                    // this.$fileObservables.push(this.roomService.uploadRoomThumbnail(room.id, thumbnailData));\n                                                    this.roomService.uploadRoomThumbnail(room.id, thumbnailData).subscribe({\n                                                        next: thumb => {\n                                                            console.log('thumbnail uploadat', thumb);\n                                                        }\n                                                    })\n                                                }\n\n                                                if (imageObj.gallery.length > 0) {\n                                                    console.log('inainte de gall', imageObj.gallery);\n                                                    const imagesData = new FormData();\n                                                    imageObj.gallery.forEach(galleryFile => {\n                                                        if (galleryFile.state === 'upload') {\n                                                            imagesData.append('images', galleryFile.file);\n                                                        }\n\n                                                    });\n\n                                                    // this.$fileObservables.push( this.roomService.uploadRoomGallery(room.id, imagesData));\n                                                    this.roomService.uploadRoomGallery(room.id, imagesData).subscribe({\n                                                        next: gallery => {\n                                                            console.log('galerie uploadata', gallery);\n                                                        }\n                                                    })\n                                                }\n\n                                                this.roomService.imagesArray$.next([]);\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        })\n                    }\n\n                    if (this.roomService.deleteArray$.getValue().length > 0) {\n                        const deleteRooms = this.roomService.deleteArray$.getValue();\n                        deleteRooms.forEach(room => {\n                            this.$fileObservables.push(this.roomService.deleteRoom(room.id));\n                            // this.roomService.deleteRoom(room.id).subscribe({\n                            //     next: (resp: { success: boolean, reason: string }) => {\n                            //         console.log('stergere camera', resp);\n                            //         if (resp.success) {\n                            //             this.roomService.deleteArray$.next([]);\n                            //         }\n                            //     }\n                            // })\n                        })\n                    }\n\n\n                    //menu-booking\n                    if (this.resourceType === 'menu' && this.timepickerService.timepickerId$.getValue()) {\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n                        const timePicker = {\n                            timetables: this.timepickerService.getFreeEntry() ? [] : this.timepickerService.timePicker$.getValue().timetables,\n                            changePolicies: this.timepickerService.changePolicies$.getValue(),\n                            bookingPolicies: this.timepickerService.bookingPolicies$.getValue(),\n                            ignoreAvailability: this.timepickerService.getFreeEntry()\n                        }\n                        console.log('TIMEPICKER', this.timepickerService.timePicker$.getValue());\n\n                        this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), timePicker));\n\n                        console.log('TIME PICKER ON', timePicker)\n\n                        //to check\n                        // if(this.timepickerService.timepickerId$.getValue()){\n                        //     this.$fileObservables.push(this.timepickerService.updateTimepicker(this.timepickerService.timepickerId$.getValue(), this.timepickerService.timePicker$.getValue()));\n                        //\n                        // }else{\n                        //     this.$fileObservables.push(this.timepickerService.createTimepicker(this.resourceId, this.timepickerService.timePicker$.getValue()));\n                        // }\n\n\n                    }\n\n                    //menu\n                    if (this.resourceType === 'menu') {\n                        console.log('menuList', this.menuService.menuList$.getValue());\n                        console.log('menu id', this.resourceService.resourceTemplateData$.getValue().menuId);\n                        console.log('menu id', this.menuService.menuId$.getValue());\n                        if (this.menuService.menuId$.getValue() && this.menuService.menuList$.getValue().length > 0) {\n\n                            this.$fileObservables.push(this.menuService.updateMenu(this.menuService.menuId$.getValue(), this.menuService.menuList$.getValue()));\n                        } else {\n                            if (this.menuService.menuList$.getValue().length > 0) {\n                                this.$fileObservables.push(this.menuService.createMenu(this.resourceId, this.menuService.menuList$.getValue()));\n                            }\n                        }\n\n                    }\n\n\n                }\n\n                if (this.$fileObservables.length > 0) {\n                    forkJoin(...this.$fileObservables).subscribe((forkRes: any) => {\n                        this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                        setTimeout(() => {\n                            if (this.isProvider) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                            } else if (this.isStaff) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                            } else if (this.isAdmin) {\n                                this.isSubmitLoading$.next(false);\n                                this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                            }\n                        }, 3000);\n                    });\n                } else {\n                    this.toastService.showToast('succes', 'Resursa a fost actualizată cu succes', 'success');\n                    setTimeout(() => {\n                        if (this.isProvider) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/provider/resources/my-list'], {state: {submit: true}});\n                        } else if (this.isStaff) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/staff/resources/list'], {state: {submit: true}});\n                        } else if (this.isAdmin) {\n                            this.isSubmitLoading$.next(false);\n                            this.router.navigate(['/private/admin/resources/list'], {state: {submit: true}});\n                        }\n                    }, 3000);\n                }\n\n            },\n            error: (error) => {\n                this.toastService.showToast('Eroare', 'A aparut o problema tehnica!', 'error');\n                this.isSubmitLoading$.next(false);\n                console.log(error)\n            }\n        })\n\n    }\n\n    seeWhere() {\n        // console.log('STEP', this.stepperService.step$.getValue())\n        // console.log('form', this.resourceService.generalInformationForm$.getValue())\n        // console.log('attr temp', this.attributesFromTemplate);\n        // console.log('MENUID', this.resourceService.resourceTemplateData$.getValue().menuId);\n\n        if (this.stepperService.step$.getValue() === 2) {\n            this.resourceService.setupListener$.next(true);\n        }\n\n        if (this.stepperService.step$.getValue() === 0) {\n            this.resourceService.generalInfoListener$.next(true);\n            console.log('il fac pe general info true')\n        }\n\n        if (this.stepperService.step$.getValue() === 3 && this.resourceType === 'rentalBooking') {\n            this.resourceService.policyRentalListener$.next(true);\n        }\n\n        if (this.stepperService.step$.getValue() === 3 && this.resourceType === 'menu') {\n            this.resourceService.policyMenuListener$.next(true);\n        }\n\n        if (this.stepperService.step$.getValue() === 3 && this.resourceType !== 'rentalBooking' && this.resourceType !== 'menu') {\n            this.resourceService.policyListener$.next(true);\n        }\n    }\n\n    createDynamicForm(formSection) {\n\n        // Loop through from Sections\n\n        // console.log('create trips', this.tripsAndItinAttributes)\n\n        this.formSections = formSection.filter(item => item.tabName !== 'facilities');\n        // console.log('create sections', this.formSections)\n        for (const section of formSection) {\n            // Loop through section attributes\n            for (const inputField of section.tabAttributes) {\n\n                if (this.form.contains(inputField.name)) {\n                    if (inputField.valueType === 'multiple-select') {\n                        let multipleValue: [] = this.form.get(inputField.name).value;\n                        console.log('MULTIPLE SELECT', multipleValue, Array.isArray(multipleValue))\n                        if (Array.isArray(multipleValue)) {\n                            this.form.get(inputField.name).patchValue(multipleValue);\n                        } else {\n                            this.form.get(inputField.name).patchValue((multipleValue as string).split(','));\n\n                        }\n                        // this.form.get(inputField.name).patchValue(multipleValue.length > 0 ? multipleValue.split(',') : []);\n                    }\n                    // const findTripIndex = this.tripsAndItineraries.find(attr => attr === inputField.categoryId);\n                    // if (findTripIndex && section.tabName === 'general_info') {\n                    //     this.tripsAndItinAttributes.push(inputField);\n                    //     console.log('TRIPS LALA 1', this.tripsAndItinAttributes);\n                    //     const sectionsFiltered = section.tabAttributes.filter(attr => attr.id !== inputField.id);\n                    //     // console.log('filter',sectionsFiltered)\n                    //     this.formSections.map(sectionToChange => {\n                    //         if (sectionToChange.tabName === 'general_info') {\n                    //             return sectionToChange.tabAttributes = sectionsFiltered;\n                    //         }\n                    //     })\n                    //\n                    // }\n                } else {\n                    if (inputField.valueType === 'toggle') {\n                        this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : 'false'));\n                    } else if (inputField.valueType === 'multiple-select') {\n                        console.log('MULTIPLE SELECT FIRST', inputField.attributeValue)\n                        this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? (inputField.attributeValue).split(',') : []))\n                    }\n\n                    this.form.addControl(inputField.name, new FormControl(inputField.attributeValue ? inputField.attributeValue : '', inputField.propertyRequired ? Validators.required : null));\n                    // const findTripIndex = this.tripsAndItineraries.find(attr => attr === inputField.categoryId);\n                    // if (findTripIndex && section.tabName === 'general_info') {\n                    //     this.tripsAndItinAttributes.push(inputField);\n                    //     console.log('TRIPS LALA 2', this.tripsAndItinAttributes);\n                    //     const sectionsFiltered = section.tabAttributes.filter(attr => attr.id !== inputField.id);\n                    //     // console.log('filter',sectionsFiltered)\n                    //     this.formSections.map(sectionToChange => {\n                    //         if (sectionToChange.tabName === 'general_info') {\n                    //             return sectionToChange.tabAttributes = sectionsFiltered;\n                    //         }\n                    //     })\n                    //\n                    // }\n\n                }\n\n\n            }\n\n\n        }\n        // // this.dataLoaded = true;\n        // console.log('lalallaalal', this.formSections);\n        // console.log('FORM', this.form.value);\n        // console.log('trips ATRTR', this.tripsAndItinAttributes);\n\n    }\n\n\n    ngOnDestroy() {\n        this.routeSub?.unsubscribe();\n        this.clearFields();\n    }\n\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {MatLegacyPaginator as MatPaginator} from \"@angular/material/legacy-paginator\";\nimport {MatSort} from '@angular/material/sort';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\nimport {ResourcesService} from 'src/app/shared/_services/resources.service';\nimport {UserDataService} from 'src/app/shared/_services/userData.service';\nimport {ChangeDetectorRef} from '@angular/core';\nimport {ActivatedRoute} from \"@angular/router\";\nimport {Router} from '@angular/router';\nimport {MatTableDataSource} from \"@angular/material/table\";\nimport {Resource} from \"../../../../shared/_models/resource.model\";\nimport {User} from \"../../../../shared/_models/user.model\";\nimport {ResourcesService as ResourceService} from \"../../_services/resources.service\"\nimport {ToastService} from \"../../../../shared/_services/toast.service\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {SystemSettingsService} from \"../../../../shared/_services/system-settings.service\";\nimport {SystemSetting} from \"../../../../shared/_models/system-setting.model\";\nimport {StepperService} from \"../../_services/stepper.service\";\nimport {\n    AddEditTicketComponent\n} from \"../../components/stepper-content/configurate-edit/setup/ticket-booking/add-edit-ticket/add-edit-ticket.component\";\nimport {\n    SharedExperiencesListComponent\n} from \"../../components/shared-experiences-list/shared-experiences-list.component\";\nimport {\n    ProviderCreateSharedExperienceComponent\n} from \"../../components/provider-create-shared-experience/provider-create-shared-experience.component\";\n\n@Component({\n    selector: 'app-resources-list',\n    templateUrl: './resources-list.component.html',\n    styleUrls: ['./resources-list.component.scss'],\n    providers: [NgbModal]\n})\nexport class ResourcesListComponent implements OnInit {\n\n    dataSource: MatTableDataSource<Resource>;\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n    @ViewChild(MatSort, {static: true}) sort: MatSort;\n\n    //current provider id\n    providerId: string;\n\n    isLoaded = false;\n\n    //check if provider is accepted by staff/admin; if not, hide add button\n    isProviderAccepted: boolean;\n\n    // check the role\n    isStaff: boolean;\n    isProvider: boolean;\n    isAdmin: boolean;\n    backPath: string;\n    countries = [];\n    cities = [];\n\n    //table\n    resourcesList: Array<string> = [];\n    displayedResourcesColumns = ['title', 'address', 'category', 'purchase', 'status','views', 'actions' ];\n\n    //pagination\n    pageSizeArray = [10, 25, 100];\n    pageSize = 10;\n    // information about filters and pagination\n    paginationInfo: any;\n    totalElements: number;\n    sorting = 'lastUpdateDate';\n    dir = 'desc';\n    pageNumber = 0;\n\n    //if true, icon near title\n    sharedResources: boolean;\n\n    //filter\n    isAdvanced = false;\n    filterTitle: string;\n    filterCountry: string;\n    filterCity: string;\n    filterDomain: string;\n    filterCategory: string;\n    filterSharedExperiences: boolean;\n    filterStatus: string;\n    filterStartDate: object;\n    filterFinishDate: object;\n\n    eventCategoryId: string;\n    jobCategoryId: string;\n\n    //get categories\n    selectedDomain: string;\n    categoriesList: Array<any> = [];\n\n    statusInput: string;\n    jobDomainId: any;\n    travelDomainId: any;\n    healthDomainId: any;\n    cultureDomainId: any;\n    educationDomainId: any;\n\n\n    constructor(\n        private userService: UserDataService,\n        private resourcesService: ResourcesService,\n        private cdr: ChangeDetectorRef,\n        private route: ActivatedRoute,\n        private router: Router,\n        private modal: MatDialog,\n        private resourceService: ResourceService,\n        private toastService: ToastService,\n        private systemService: SystemSettingsService,\n        private stepperService: StepperService,\n        public dialog: MatDialog\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.runAfterAsyncOperations();\n\n        // this.getEventCategoryId();\n        // this.getJobCategoryId();\n        this.checkIfProviderAccepted();\n\n        this.checkRole();\n        // this.listChanged();\n        this.getCountries();\n        this.getListType();\n        // this.dir='asc';\n    }\n\n    checkRole() {\n        this.userService.getCurrentUser().subscribe({\n            next: (userData: User) => {\n                if (userData.roles.includes('ROLE_STAFF')) {\n                    this.isStaff = true;\n                }\n\n                if (userData.roles.includes('ROLE_PROVIDER')) {\n                    this.isProvider = true;\n                }\n\n                if (userData.roles.includes('ROLE_SUPER_ADMIN')) {\n                    this.isAdmin = true;\n                }\n            }\n        })\n    }\n\n    // getEventCategoryId() {\n    //     this.systemService.getSystemSetting().subscribe({\n    //         next: (resp: SystemSetting) => {\n    //             this.eventCategoryId = resp.eventCategoryId;\n    //             console.log('RES SETTINGS', resp);\n    //             console.log('id categorie event', this.eventCategoryId)\n    //\n    //         }\n    //     })\n    // }\n\n    getEventCategoryId(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.systemService.getSystemSetting().subscribe({\n                next: (resp: SystemSetting) => {\n                    this.eventCategoryId = resp.eventCategoryId;\n                    console.log('RES SETTINGS', resp);\n                    console.log('id categorie event', this.eventCategoryId);\n                    resolve(); // Resolve the promise once the operation is complete\n                },\n                error: err => {\n                    reject(err); // Reject the promise if there's an error\n                }\n            });\n        });\n    }\n\n    getJobCategoryId(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.resourcesService.getListOfDomains().subscribe({\n                next: (domains: any) => {\n                    domains.forEach(domain => {\n                        if (domain.key === 'jobs') {\n                            this.resourcesService.listCategoryFiltered(0, 1, null, null, {domainId: domain.id})\n                                .subscribe({\n                                    next: (category: any) => {\n                                        this.jobCategoryId = category.content[0].id;\n                                        resolve(); // Resolve the promise once the operation is complete\n                                    },\n                                    error: err => {\n                                        reject(err); // Reject the promise if there's an error\n                                    }\n                                });\n                        }\n                        if (domain.key === 'jobs') {\n                            this.jobDomainId = domain.id;\n                        } else if (domain.key === 'travel') {\n                            this.travelDomainId = domain.id;\n                        } else if (domain.key === 'healthcare') {\n                            this.healthDomainId = domain.id;\n                        } else if (domain.key === ' culture') {\n                            this.cultureDomainId = domain.id;\n                        } else if (domain.key === 'education') {\n                            this.educationDomainId = domain.id;\n                        }\n                    });\n                }\n            });\n        });\n    }\n\n\n    // getJobCategoryId(){\n    //     this.resourcesService.getListOfDomains().subscribe({\n    //         next:(domains:any)=>{\n    //             domains.forEach(domain => {\n    //                 if(domain.key === 'jobs'){\n    //                     this.resourcesService.listCategoryFiltered(0, 1,null,null,{domainId: domain.id})\n    //                         .subscribe({\n    //                             next:(category:any)=>{\n    //                                 this.jobCategoryId = category.content[0].id;\n    //                             }\n    //                         })\n    //                 }\n    //\n    //                 if(domain.key === 'jobs'){\n    //                     this.jobDomainId=domain.id;\n    //                 }else if(domain.key === 'travel'){\n    //                     this.travelDomainId=domain.id;\n    //                 }else if(domain.key === 'healthcare'){\n    //                     this.healthDomainId=domain.id;\n    //                 }else if(domain.key === ' culture'){\n    //                     this.cultureDomainId=domain.id;\n    //                 }else if(domain.key === 'education'){\n    //                     this.educationDomainId=domain.id;\n    //                 }\n    //             })\n    //         }\n    //     })\n    // }\n\n\n    async runAfterAsyncOperations() {\n        try {\n            await this.getEventCategoryId();\n            await this.getJobCategoryId();\n            // await this.getCurrentUser();\n            // await this.getTripsAndItinerariesIds();\n\n            //  async operations are complete, you can now call the next function\n            this.getListType();\n        } catch (error) {\n            console.error('Error occurred:', error);\n        }\n    }\n\n\n    checkIfProviderAccepted() {\n        this.userService.getCurrentUser().subscribe((currentUser: User) => {\n            if (currentUser.roles.includes('ROLE_PROVIDER') && currentUser.approvedStatus === null) {\n                this.isProviderAccepted = false;\n                // this.router.navigate(['/private/provider/resources/my-list']);\n                // this.toastService.showToast(\"Error\", \"Nu aveti permisiunea necesară pentru a adăuga resurse. Luați legătura cu administratorul.\", 'error')\n            } else {\n                this.isProviderAccepted = true;\n            }\n        })\n    }\n\n    listChanged() {\n        this.resourcesService.listChangedObs.subscribe((data: boolean) => {\n            // If the response is true\n            if (data) {\n                // Get Documents List\n                this.getResourcesList();\n                // this.cdr.detectChanges();\n\n                this.resourcesService.triggerListChanges(false);\n            }\n        })\n    }\n\n    getListType() {\n        if (this.router.url.includes('my-list')) {\n            this.userService.getCurrentUser().subscribe((userData: any) => {\n                this.providerId = userData.id;\n                console.log('provider id my-list', userData.id);\n                this.getResourcesList();\n                this.backPath = '../../profile/view';\n            })\n        } else {\n            this.route.queryParams\n                .subscribe(params => {\n                        if (params === null) {\n                            console.log('PARAMETRU din cale', params.providerid);\n                            console.log('niciun parametru');\n                            this.providerId = null;\n                            this.getResourcesList();\n                            this.backPath = '../../manage-providers/view';\n\n                        } else {\n                            console.log('parametru provider');\n                            console.log('PARAMETRU din cale', params.providerid);\n                            this.providerId = params.providerid;\n                            this.getResourcesList();\n                            if (params.providerid) {\n                                this.backPath = '../../manage-providers/view/' + this.providerId;\n\n                            } else if (params.providerid === undefined) {\n                                this.backPath = '../../dashboard';\n\n                            }\n\n\n                        }\n                    }\n                );\n\n        }\n    }\n\n    pageChanged(event) {\n        this.pageNumber = event.pageIndex;\n        this.pageSize = event.pageSize;\n        this.getResourcesList();\n    }\n\n    editResource(resourceId: string) {\n        this.router.navigate(['../../resources/edit/', resourceId], {relativeTo: this.route});\n        this.stepperService.step$.next(0);\n    }\n\n    getResourcesList() {\n        const objFilter = {\n            userId: this.providerId,\n            title: this.filterTitle !== '' ? this.filterTitle : null,\n            domain: this.filterDomain !== '' ? this.filterDomain : null,\n            categoryId: this.filterCategory !== '' ? this.filterCategory : null,\n            country: this.filterCountry !== '' ? this.filterCountry : null,\n            city: this.filterCity !== '' ? this.filterCity : null,\n            sharedExperience: this.filterSharedExperiences !== null ? this.filterSharedExperiences : null,\n            status: this.filterStatus !== null ? this.filterStatus : null,\n            excludedCategories: this.filterCategory === undefined ? [this.eventCategoryId, this.jobCategoryId] : null\n        }\n\n        // console.log('obiect de filtrare', objFilter);\n\n        this.resourcesService.listResourceFiltered(this.pageNumber, this.pageSize, this.sorting, this.dir, objFilter).subscribe((resourcesList: any) => {\n            this.dataSource = resourcesList.content;\n            // console.log('RESURSELE MELE',this.dataSource);\n            this.totalElements = resourcesList.totalElements;\n            this.isLoaded = true;\n        });\n    }\n\n    advancedClick() {\n        this.isAdvanced = !this.isAdvanced;\n    }\n\n    callSubmitButton(event) {\n        event.preventDefault();\n        if (event.key === \"Enter\")\n            this.applyFilter();\n\n    }\n\n    applyFilter(event?) {\n\n        if (event) {\n            this.dir = event.direction;\n\n            if (event.active === 'category') {\n                this.sorting = 'categoryId';\n            } else if (event.active === 'purchase') {\n                this.sorting = 'totalBookingNumber';\n            } else {\n                this.sorting = event.active;\n            }\n        }\n        this.paginator.firstPage();\n        this.getResourcesList();\n\n    }\n\n    getCategories(event?) {\n        this.categoriesList = [];\n        this.selectedDomain = event;\n        this.resourcesService.getAllResourceCategoriesByResourceDomain(this.selectedDomain).subscribe((categories: any) => {\n            categories.forEach(element => {\n                console.log(element.nameEn);\n                console.log(element.id);\n                const categoryObject = {\n                    id: element.id,\n                    name: element.nameEn\n                }\n                this.categoriesList.push(categoryObject);\n            });\n            // console.log('lista de categorii cu obiecte',this.categoriesList);\n        })\n    }\n\n    clearfilterTitle() {\n        this.filterTitle = undefined;\n    }\n\n    clearFields() {\n        this.filterTitle = undefined;\n        this.filterCountry = undefined;\n        this.filterCity = undefined;\n        this.filterDomain = undefined;\n        this.filterCategory = undefined;\n        this.filterSharedExperiences = undefined;\n        this.filterStatus = undefined;\n        this.filterStartDate = undefined;\n        this.filterFinishDate = undefined;\n        this.cities = [];\n\n        this.cdr.detectChanges();\n\n        this.getResourcesList();\n    }\n\n//TEMPORAR\n\n    deleteResource(resourceId: string) {\n        this.resourcesService.deleteResource(resourceId).subscribe({\n            next: (resp: { success: boolean, reason: true }) => {\n                console.log('sters cu succes', resp.success);\n                if (resp.success) {\n                    this.closeModal();\n                    this.toastService.showToast('Success', 'Resursa a fost stearsa', \"success\");\n                    this.getListType();\n                    // this.modal.closeAll();\n                }\n            }\n        })\n    }\n\n    openModal(modal, data?: string) {\n        this.modal.open(modal);\n        this.statusInput = data;\n    }\n\n    closeModal() {\n        this.modal.closeAll();\n    }\n\n    openSharedExperienceListModal(resourceId) {\n        this.dialog.open(SharedExperiencesListComponent, {\n            width: '1000px',\n            height: '750px',\n            data: resourceId\n        });\n    }\n\n    openSharedExperienceCreateModal(resourceId) {\n        this.dialog.open(ProviderCreateSharedExperienceComponent, {\n            width: '1000px',\n            height: '750px',\n            data: resourceId\n        });\n    }\n\n\n    changeStatus(resourceId, status) {\n        console.log('change status', resourceId, status)\n        this.resourceService.changeStatusForResource(resourceId, status).subscribe({\n            next: (resp: { success: boolean, reason: string }) => {\n                if (resp.success) {\n                    this.toastService.showToast('Success', 'Statusul resursei a fost modificat!', 'success');\n                    this.getListType();\n                    this.modal.closeAll();\n                }\n            },\n            error: (err: any) => {\n                console.log(err);\n                if (err.error.reason === 'invalidId') {\n                    this.toastService.showToast('Error', 'Această resursă nu mai există în baza de date!', \"error\");\n                }\n\n                if (err.error.reason === 'notLoggedIn' || err.error.reason === 'tokenExpired') {\n                    this.toastService.showToast('Error', 'Pentru a finaliza această acțiune trebuie să fii logat!', \"error\");\n                }\n            }\n        })\n    }\n\n    archiveResource(resourceId) {\n        this.resourceService.changeStatusForResource(resourceId, \"archived\").subscribe({\n            next: (resp: { success: boolean, reason: string }) => {\n                if (resp.success) {\n                    this.toastService.showToast('Success', 'Resursa a fost arhivată!', 'success');\n                    this.getListType();\n                    this.modal.closeAll();\n                }\n            },\n            error: (err: any) => {\n                console.log(err);\n                if (err.error.reason === 'invalidId') {\n                    this.toastService.showToast('Error', 'Această resursă nu mai există în baza de date!', \"error\");\n                }\n\n                if (err.error.reason === 'notLoggedIn' || err.error.reason === 'tokenExpired') {\n                    this.toastService.showToast('Error', 'Pentru a finaliza această acțiune trebuie să fii logat!', \"error\");\n                }\n            }\n        })\n    }\n\n    getCountries() {\n\n        this.resourceService.getAllCountries().subscribe({\n            next: (countries: []) => {\n                this.countries = countries;\n            }\n        })\n    }\n\n\n    getCities(event) {\n        this.filterCity = \"\";\n        const country = {\n            country: event.value ? event.value : event\n        }\n        this.resourceService.getCityFilter(0, -1, null, null, country).subscribe({\n            next: (cities: any) => {\n                // console.log(cities);\n                this.cities = cities.content;\n            }\n        })\n    }\n\n\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {ResourcesComponent} from \"./resources.component\";\nimport {AddResourceComponent} from \"./pages/add-resource/add-resource.component\";\nimport {ResourcesListComponent} from \"./pages/resources-list/resources-list.component\";\nimport {CanDeactivateGuard} from \"../../shared/_services/can-deactivate-guard.service\";\n\n\nconst resourceRoutes: Routes = [\n    {\n        path: '',\n        component: ResourcesComponent,\n        children: [\n            {\n                path: 'add',\n                component: AddResourceComponent,\n                canDeactivate: [CanDeactivateGuard]\n            },\n            {\n                path: 'edit/:id',\n                component: AddResourceComponent,\n                canDeactivate: [CanDeactivateGuard]\n            },\n            {\n                path: 'list',\n                component: ResourcesListComponent\n            },\n            {\n                path: 'list?providerid=:providerid',\n                component: ResourcesListComponent\n            },\n            {\n                path: 'my-list',\n                component: ResourcesListComponent\n            },\n            {path: '', redirectTo: 'list', pathMatch: 'full'},\n        ],\n\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(resourceRoutes)],\n    exports: [RouterModule],\n    providers: [CanDeactivateGuard]\n})\nexport class ResourcesRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-resources',\n  templateUrl: './resources.component.html',\n  styleUrls: ['./resources.component.scss']\n})\nexport class ResourcesComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ResourcesRoutingModule} from './resources-routing.module';\nimport {AddResourceComponent} from './pages/add-resource/add-resource.component';\nimport {ResourcesComponent} from './resources.component';\nimport {RouterModule} from \"@angular/router\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {ResourceRadioOptionComponent} from './components/resource-radio-option/resource-radio-option.component';\nimport {StepperTitleListComponent} from './components/stepper-title-list/stepper-title-list.component';\nimport {OrderByPipe} from \"./_pipes/orderBy.pipe\";\n\nimport {SharedModule} from \"../../shared/shared.module\";\nimport {ResourcesListComponent} from './pages/resources-list/resources-list.component';\nimport {\n    RentalBookingComponent\n} from './components/stepper-content/configurate-edit/setup/rental-booking/rental-booking.component';\nimport {\n    AddEditRoomModalComponent\n} from './components/stepper-content/configurate-edit/setup/rental-booking/add-edit-room-modal/add-edit-room-modal.component';\nimport {DashboardHeaderComponent} from \"../../standalone-components/dashboard-header/dashboard-header.component\";\nimport {\n    AddNewTemplateComponent\n} from './components/stepper-content/add-mode/add-new-template/add-new-template.component';\nimport {\n    GeneralInformationsComponent\n} from './components/stepper-content/configurate-edit/general-informations/general-informations.component';\nimport {FacilitiesComponent} from './components/stepper-content/configurate-edit/facilities/facilities.component';\nimport {PolicyComponent} from './components/stepper-content/configurate-edit/policy/policy.component';\nimport {PaymentComponent} from './components/stepper-content/configurate-edit/payment/payment.component';\nimport {GalleryComponent} from './components/stepper-content/configurate-edit/gallery/gallery.component';\nimport { DeleteRoomModalComponent } from './components/stepper-content/configurate-edit/setup/rental-booking/delete-room-modal/delete-room-modal.component';\nimport {NoBookingComponent} from \"./components/stepper-content/configurate-edit/setup/no-booking/no-booking.component\";\nimport { TicketBookingComponent } from './components/stepper-content/configurate-edit/setup/ticket-booking/ticket-booking.component';\nimport { ServiceBookingTimeSlotsComponent } from './components/stepper-content/configurate-edit/setup/service-booking-time-slots/service-booking-time-slots.component';\nimport { ProductsListComponent } from './components/stepper-content/configurate-edit/setup/products-list/products-list.component';\nimport { ExternalUrlComponent } from './components/stepper-content/configurate-edit/setup/external-url/external-url.component';\nimport { ApplyJobComponent } from './components/stepper-content/configurate-edit/setup/apply-job/apply-job.component';\nimport { CulturalBookingComponent } from './components/stepper-content/configurate-edit/setup/cultural-booking/cultural-booking.component';\nimport { CarBookingComponent } from './components/stepper-content/configurate-edit/setup/car-booking/car-booking.component';\nimport { MenuComponent } from './components/stepper-content/configurate-edit/setup/menu/menu.component';\nimport { AddEditTicketComponent } from './components/stepper-content/configurate-edit/setup/ticket-booking/add-edit-ticket/add-edit-ticket.component';\nimport {TicketCardComponent} from \"../../standalone-components/ticket-card/ticket-card.component\";\nimport { DeleteTicketComponent } from './components/stepper-content/configurate-edit/setup/ticket-booking/delete-ticket/delete-ticket.component';\nimport { PolicyRentalBookingComponent } from './components/stepper-content/configurate-edit/policy/policy-rental-booking/policy-rental-booking.component';\nimport { AddEditProductComponent } from './components/stepper-content/configurate-edit/setup/products-list/add-edit-product/add-edit-product.component';\nimport {ProductPreviewComponent} from \"../../standalone-components/product-preview/product-preview.component\";\nimport { DeleteProductModalComponent } from './components/stepper-content/configurate-edit/setup/products-list/delete-product-modal/delete-product-modal.component';\nimport { AddEditServiceComponent } from './components/stepper-content/configurate-edit/setup/service-booking-time-slots/add-edit-service/add-edit-service.component';\nimport { DeleteModalServiceComponent } from './components/stepper-content/configurate-edit/setup/service-booking-time-slots/delete-modal-service/delete-modal-service.component';\nimport {\n    ServiceTimeslotPreviewComponent\n} from \"../../standalone-components/service-timeslot-preview/service-timeslot-preview.component\";\nimport { NoPolicyComponent } from './components/stepper-content/configurate-edit/policy/no-policy/no-policy.component';\nimport { RestaurantPolicyComponent } from './components/stepper-content/configurate-edit/policy/restaurant-policy/restaurant-policy.component';\nimport { AddEditCategoryComponent } from './components/stepper-content/configurate-edit/setup/menu/add-edit-category/add-edit-category.component';\nimport { DeleteMenuCategoryComponent } from './components/stepper-content/configurate-edit/setup/menu/delete-menu-category/delete-menu-category.component';\nimport {NgxMatDatetimePickerModule, NgxMatTimepickerModule} from \"@angular-material-components/datetime-picker\";\nimport {SeatsViewerComponent} from \"../../standalone-components/seats-viewer/seats-viewer.component\";\nimport { PolicyCulturalBookingComponent } from './components/stepper-content/configurate-edit/policy/policy-cultural-booking/policy-cultural-booking.component';\nimport { CulturalRelatedResComponent } from './components/stepper-content/configurate-edit/related-resource/cultural-related-res/cultural-related-res.component';\nimport { SharedExperiencesListComponent } from './components/shared-experiences-list/shared-experiences-list.component';\nimport {MatLegacyTableModule} from \"@angular/material/legacy-table\";\nimport { ProviderCreateSharedExperienceComponent } from './components/provider-create-shared-experience/provider-create-shared-experience.component';\nimport { ProviderLobbyComponent } from './components/provider-lobby/provider-lobby.component';\nimport {DisplayUserComponent} from \"../../standalone-components/display-user/display-user.component\";\nimport {\n    SharedExperiencesInfoComponent\n} from \"../../standalone-components/shared-experiences-info/shared-experiences-info.component\";\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ResourcesRoutingModule,\n        RouterModule,\n        ReactiveFormsModule,\n        SharedModule,\n        FormsModule,\n        DashboardHeaderComponent,\n        TicketCardComponent,\n        ProductPreviewComponent,\n        ServiceTimeslotPreviewComponent,\n        NgxMatTimepickerModule,\n        NgxMatDatetimePickerModule,\n        SeatsViewerComponent,\n        MatLegacyTableModule,\n        DisplayUserComponent,\n        SharedExperiencesInfoComponent\n    ],\n    exports: [\n        ServiceBookingTimeSlotsComponent,\n        OrderByPipe\n    ],\n    declarations: [\n        AddResourceComponent,\n        ResourcesComponent,\n        ResourceRadioOptionComponent,\n        StepperTitleListComponent,\n        OrderByPipe,\n        ResourcesListComponent,\n        RentalBookingComponent,\n        AddEditRoomModalComponent,\n        AddNewTemplateComponent,\n        GeneralInformationsComponent,\n        FacilitiesComponent,\n        PolicyComponent,\n        PaymentComponent,\n        GalleryComponent,\n        DeleteRoomModalComponent,\n        NoBookingComponent,\n        TicketBookingComponent,\n        ServiceBookingTimeSlotsComponent,\n        ProductsListComponent,\n        ExternalUrlComponent,\n        ApplyJobComponent,\n        CulturalBookingComponent,\n        CarBookingComponent,\n        MenuComponent,\n        AddEditTicketComponent,\n        DeleteTicketComponent,\n        PolicyRentalBookingComponent,\n        AddEditProductComponent,\n        DeleteProductModalComponent,\n        AddEditServiceComponent,\n        DeleteModalServiceComponent,\n        NoPolicyComponent,\n        RestaurantPolicyComponent,\n        AddEditCategoryComponent,\n        DeleteMenuCategoryComponent,\n        PolicyCulturalBookingComponent,\n        CulturalRelatedResComponent,\n        SharedExperiencesListComponent,\n        ProviderCreateSharedExperienceComponent,\n        ProviderLobbyComponent\n    ]\n})\nexport class ResourcesModule {\n}\n","import {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs\";\nimport {ActivatedRoute, ActivatedRouteSnapshot, CanDeactivate, Router, RouterStateSnapshot} from \"@angular/router\";\nimport {FormGroup} from \"@angular/forms\";\nimport {ResourcesService} from \"../../features/resources/_services/resources.service\";\nimport {StepperService} from \"../../features/resources/_services/stepper.service\";\nimport {RentalBookingService} from \"../../features/resources/_services/rental-booking.service\";\nimport {TicketsBookingService} from \"../../features/resources/_services/tickets-booking.service\";\nimport {TimepickerService} from \"../../features/resources/_services/timepicker.service\";\nimport {ProductListService} from \"../../features/resources/_services/product-list.service\";\nimport {BookingTimeslotsService} from \"../../features/resources/_services/booking-timeslots.service\";\nimport {CreateResourceService} from \"./createResource.service\";\nimport {MenuService} from \"../../features/resources/_services/menu.service\";\n\nexport interface CanComponentDeactivate {\n    canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\n}\n\nexport const CanDeactivateState = {\n    defendAgainstBrowserBackButton: false,\n};\n\n@Injectable()\nexport class CanDeactivateGuard implements CanDeactivate<CanComponentDeactivate> {\n\n\n    constructor(private resourceService: ResourcesService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private stepperService: StepperService,\n                private rentalService: RentalBookingService,\n                private ticketService: TicketsBookingService,\n                private timepickerService: TimepickerService,\n                private productService: ProductListService,\n                private timeslotService: BookingTimeslotsService,\n                private createResourceService: CreateResourceService,\n                private menuService: MenuService) {\n    }\n    canDeactivate(component: CanComponentDeactivate,\n                  route: ActivatedRouteSnapshot,\n                  state: RouterStateSnapshot) {\n\n        let url: string = state.url;\n        console.log('Url: ' + url);\n        const navigation = this.router.getCurrentNavigation();\n        console.log('route', navigation.extras)\n\n        if(navigation.extras.state){\n            return\n        }else{\n            if (confirm(\"Esti sigur ca vrei sa parasesti pagina?\")) {\n                console.log(\"DEACTIVATE - yes\");\n                this.stepperService.step$.next(undefined);\n                this.stepperService.stepperStage$.next(undefined);\n\n                this.resourceService.resourceId$.next(undefined);\n                this.resourceService.resourceTemplateData$.next(undefined);\n                this.resourceService.resourceTemplateType$.next(undefined);\n                this.resourceService.attributesFromResourceTemplate$.next(undefined);\n                this.resourceService.generalInformationForm$.next(new FormGroup({}));\n                this.resourceService.facilitiesForm$.next(new FormGroup({}));\n                this.resourceService.filesForm$.next(new FormGroup({}));\n                this.resourceService.facilitiesByCategory$.next([]);\n                this.resourceService.resourceData.next({\n                    featuredImage: undefined,\n                    images: [],\n                    videos: []\n                });\n                this.resourceService.accommodationPolicy$.next(undefined);\n                this.rentalService.refreshRoomList$.next(false);\n                this.rentalService.roomList$.next([]);\n                this.rentalService.imagesArray$.next([]);\n                this.resourceService.travelId$.next(undefined);\n                this.resourceService.relatedResources$.next([]);\n                this.resourceService.bookingType$.next(undefined);\n\n                this.ticketService.updateArray$.next([]);\n                this.ticketService.refreshUpdateArray$.next(false);\n                this.ticketService.createArray$.next([]);\n                this.ticketService.refreshCreateArray$.next(false);\n                this.ticketService.ticketsList$.next([]);\n                this.ticketService.refreshTicketList$.next(false);\n                this.ticketService.deleteArray$.next([]);\n\n                this.timepickerService.timepickerList$.next([]);\n                this.timepickerService.timetableList$.next([]);\n                this.timepickerService.timepickerId$.next(undefined);\n                this.timepickerService.timePicker$.next(undefined);\n                this.timepickerService.changePolicies$.next(undefined);\n                this.timepickerService.bookingPolicies$.next(undefined);\n\n                this.resourceService.externalUrl$.next(undefined);\n\n                this.productService.productsList$.next([]);\n                this.productService.refreshProductList$.next(false);\n                this.productService.deleteProdList$.next([]);\n\n                this.timeslotService.serviceList$.next([]);\n                this.timeslotService.refreshServiceList$.next(false);\n\n                this.createResourceService.providerData$.next(undefined);\n\n                this.resourceService.setupListener$.next(undefined);\n                this.resourceService.generalInfoListener$.next(undefined);\n                this.resourceService.policyRentalListener$.next(undefined);\n                this.resourceService.policyMenuListener$.next(undefined);\n                this.resourceService.policyListener$.next(undefined);\n                this.resourceService.settingsTripsItineraries$.next([]);\n                this.resourceService.tripsItinerariesObject$.next({});\n\n                this.menuService.refreshMenuList$.next(false);\n                this.menuService.menuList$.next([]);\n                this.menuService.menuId$.next(undefined);\n                return true;\n\n            } else {\n                console.log(\"DEACTIVATE - no\");\n                history.pushState(null, '', '');\n                return false;\n            }\n        }\n\n\n\n        // return component.canDeactivate ? component.canDeactivate() : true;\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class CreateResourceService {\n    // refreshTicketList$ = new BehaviorSubject(false)\n    providerData$ = new BehaviorSubject(undefined);\n\n    constructor(private http: HttpClient) {\n    }\n\n    /** Listeners */\n\n\n\n    // refreshTicketListData() {\n    //     return this.refreshTicketList$.asObservable();\n    // }\n\n\n    providerData() {\n        return this.providerData$.asObservable()\n    }\n\n    /** Custom Functions */\n    // addTicketToList(ticket) {\n    //     this.ticketsList$.next(this.ticketsList$.getValue().concat(ticket))\n    // }\n\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@Component({\n    selector: 'app-product-preview',\n    standalone: true,\n    imports: [CommonModule],\n    templateUrl: './product-preview.component.html',\n    styleUrls: ['./product-preview.component.scss']\n})\nexport class ProductPreviewComponent implements OnInit {\n    @Input() productData: any;\n    @Input() list: boolean;\n\n    filePath: string;\n    defaultPath= 'https://s3-alpha-sig.figma.com/img/fc00/a652/fab9f5b40a9abaf5adeb9165f64e62e5?Expires=1682899200&Signature=eaGhDHW485Fgt9XFy6rzKUvILB-oqQ18Q1qcazv8cEcuwPmjqAs0cygdYtWsjAE-ycXQqRR2pmXH~VB9HmLz6VDoxXHAlXSQtOjwfsb0DlxLP~9l0bggTwh2unAZXXcZ~S21ta~--8t3AlATWi~ZNpRmwjvFQ4LZhhhx0ueMlOD0PEfFTL3~r4VzL2KOJPaoX7lfIO8F~yeIAIrA1aE-4TU4DpTHP0e4pf8HSWRmvzFJ5sJUsVOh7qM1GBEUYvQHq7Qdj7rEimXKHaWHKcCA2skJfyCy~3JNOu6YMxk3zNglxL0GYsScn7Ialv1452lV2Y1KSfNl7AhCnF-Qw1vfAw__&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4';\n\n    ngOnInit() {\n        console.log(this.productData.images);\n        if (this.productData.images?.length > 0) {\n            this.filePath = this.productData.images[0].filePath;\n            console.log('imgs',this.productData.images);\n        } else {\n            this.filePath = null;\n        }\n    }\n}\n","import {Component, Input} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'app-service-timeslot-preview',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './service-timeslot-preview.component.html',\n  styleUrls: ['./service-timeslot-preview.component.scss']\n})\nexport class ServiceTimeslotPreviewComponent {\n  @Input() serviceData: any;\n  @Input() list: boolean;\n\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'app-ticket-card',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './ticket-card.component.html',\n  styleUrls: ['./ticket-card.component.scss']\n})\nexport class TicketCardComponent implements OnInit{\n\n  @Input() ticketData: any;\n  @Input() list: boolean;\n\n  ngOnInit() {\n  }\n\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.dialog-container .content-body .subtitle {\\n  font-size: 16px;\\n  font-weight: 600;\\n  margin-bottom: 0;\\n}\\n.dialog-container .content-body .choose-activity {\\n  gap: 8px;\\n}\\n.dialog-container .content-body .choose-activity .activity {\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 8px 16px;\\n  line-height: 20px;\\n  background-color: #24398A;\\n  color: #FFFFFF;\\n  border-radius: 100px;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  border: 1px solid #24398A;\\n}\\n.dialog-container .content-body .choose-activity .selected-btn {\\n  color: #24398A;\\n  background-color: #FFFFFF;\\n}\\n.dialog-container .content-body .timeslots-container .mat-radio-group {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n.dialog-container .content-body .timeslots-container .mat-radio-group .time-slot {\\n  max-width: 335px;\\n  border: 1px solid rgba(36, 57, 138, 0.16) !important;\\n  border-radius: 20px;\\n  padding: 8px 12px;\\n}\\n.dialog-container .content-body .timeslots-container .mat-radio-group .time-slot .mat-radio-button {\\n  width: 100%;\\n}\\n.dialog-container .content-body :host ::ng-deep .timeslots-container .mat-radio-label {\\n  justify-content: space-between;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/provider-create-shared-experience/provider-create-shared-experience.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAZI;EACE,eAAA;EACA,gBAAA;EACA,gBAAA;AAeN;AAZI;EACE,QAAA;AAcN;AAZM;EACE,eAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iBAAA;EACA,iBAAA;EACA,yBDpBQ;ECqBR,cDba;ECcb,oBAAA;EACA,uBAAA;EAAA,kBAAA;EACA,yBAAA;AAcR;AAXM;EACE,cD5BQ;EC6BR,yBDrBa;ACkCrB;AAPI;EACE,aAAA;EACA,sBAAA;EACA,SAAA;AASN;AAPM;EACE,gBAAA;EACA,oDAAA;EACA,mBAAA;EACA,iBAAA;AASR;AAPQ;EACE,WAAA;AASV;AAJI;EACE,8BAAA;AAMN\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n.dialog-container{\\n\\n  .content-body{\\n    .subtitle{\\n      font-size: 16px;\\n      font-weight: 600;\\n      margin-bottom: 0;\\n    }\\n\\n    .choose-activity {\\n      gap: 8px;\\n\\n      .activity {\\n        cursor: pointer;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        padding: 8px 16px;\\n        line-height: 20px;\\n        background-color: $primary-color;\\n        color: $background-primary;\\n        border-radius: 100px;\\n        width: fit-content;\\n        border: 1px solid $primary-color;\\n      }\\n\\n      .selected-btn{\\n        color: $primary-color;\\n        background-color: $background-primary;\\n      }\\n\\n    }\\n\\n\\n    .timeslots-container .mat-radio-group {\\n      display: flex;\\n      flex-direction: column;\\n      gap: 10px;\\n\\n      .time-slot {\\n        max-width: 335px;\\n        border: 1px solid rgba($primary-color, 0.16) !important;\\n        border-radius: 20px;\\n        padding: 8px 12px;\\n\\n        .mat-radio-button {\\n          width: 100%;\\n        }\\n      }\\n    }\\n\\n    :host ::ng-deep .timeslots-container .mat-radio-label {\\n      justify-content: space-between;\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\nh1 {\\n  text-align: center;\\n}\\n\\n.chat-button {\\n  padding: 6px 24px;\\n  background: radial-gradient(100% 787.93% at 0% 100%, rgba(0, 178, 255, 0.48) 0%, rgba(0, 178, 255, 0) 100%), #24398A;\\n  border-radius: 8px;\\n  color: var(--primary-background);\\n  border: none;\\n}\\n\\n.lobby-host p {\\n  color: #24398A;\\n  margin-bottom: 10px;\\n}\\n\\n.lobby-guest .creator {\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  padding: 8px;\\n  margin-bottom: 10px;\\n}\\n.lobby-guest p {\\n  color: #24398A;\\n  margin-bottom: 10px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/provider-lobby/provider-lobby.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAdA;EACE,kBAAA;AAiBF;;AAbA;EACE,iBAAA;EACA,oHAAA;EACA,kBAAA;EACA,gCAAA;EACA,YAAA;AAgBF;;AAZE;EACE,cDjBY;ECkBZ,mBAAA;AAeJ;;AAVE;EACE,yCAAA;EACA,kBAAA;EACA,YAAA;EACA,mBAAA;AAaJ;AAVE;EACE,cD/BY;ECgCZ,mBAAA;AAYJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"src/app/theme/styles/components/_colors.scss\\\";\\n\\n\\nh1 {\\n  text-align: center;\\n}\\n\\n\\n.chat-button {\\n  padding: 6px 24px;\\n  background: radial-gradient(100% 787.93% at 0% 100%, rgba(0, 178, 255, 0.48) 0%, rgba(0, 178, 255, 0) 100%), #24398A;\\n  border-radius: 8px;\\n  color: var(--primary-background);\\n  border: none;\\n}\\n\\n.lobby-host {\\n  p {\\n    color: $primary-color;\\n    margin-bottom: 10px;\\n  }\\n}\\n\\n.lobby-guest {\\n  .creator {\\n    border: 1px solid rgba($primary-color, 0.16);\\n    border-radius: 8px;\\n    padding: 8px;\\n    margin-bottom: 10px;\\n  }\\n\\n  p {\\n    color: $primary-color;\\n    margin-bottom: 10px;\\n  }\\n\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".form-option {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  border: solid 2px rgba(36, 57, 138, 0.24);\\n  border-radius: 8px;\\n  padding: 25px;\\n  text-align: center;\\n  width: 280px;\\n  height: 324px;\\n  transition: ease-out 0.3s;\\n}\\n.form-option.option-selected {\\n  border: solid 2px #24398A;\\n}\\n.form-option .radio-img {\\n  width: 114px;\\n  height: 114px;\\n  margin-top: 25px;\\n  margin-bottom: 75px;\\n}\\n.form-option .radio-title {\\n  font-size: 21px;\\n  font-weight: 700;\\n}\\n.form-option input[type=radio] {\\n  /* Add if not using autoprefixer */\\n  appearance: none;\\n  /* For iOS < 15 to remove gradient background */\\n  background-color: #fff;\\n  /* Not removed via appearance */\\n  margin: 0;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/resource-radio-option/resource-radio-option.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,sBAAA;EACA,yCAAA;EACA,kBAAA;EACA,aAAA;EACA,kBAAA;EACA,YAAA;EACA,aAAA;EACA,yBAAA;AACF;AAEE;EACE,yBAAA;AAAJ;AAIE;EACE,YAAA;EACA,aAAA;EACA,gBAAA;EACA,mBAAA;AAFJ;AAKE;EACE,eAAA;EACA,gBAAA;AAHJ;AAME;EACE,kCAAA;EAEA,gBAAA;EACA,+CAAA;EACA,sBAAA;EACA,+BAAA;EACA,SAAA;AAJJ\",\"sourcesContent\":[\".form-option {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  border: solid 2px rgba(36, 57, 138, 0.24);\\n  border-radius: 8px;\\n  padding: 25px;\\n  text-align: center;\\n  width: 280px;\\n  height: 324px;\\n  transition: ease-out 0.3s;\\n\\n\\n  &.option-selected {\\n    border: solid 2px #24398A;\\n  }\\n\\n\\n  .radio-img {\\n    width: 114px;\\n    height: 114px;\\n    margin-top: 25px;\\n    margin-bottom: 75px;\\n  }\\n\\n  .radio-title {\\n    font-size: 21px;\\n    font-weight: 700;\\n  }\\n\\n  input[type=\\\"radio\\\"] {\\n    /* Add if not using autoprefixer */\\n    -webkit-appearance: none;\\n    appearance: none;\\n    /* For iOS < 15 to remove gradient background */\\n    background-color: #fff;\\n    /* Not removed via appearance */\\n    margin: 0;\\n\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.dialog-container {\\n  background-color: #edf0fa;\\n  height: 100%;\\n  padding: 36px 48px;\\n}\\n.dialog-container .container-header {\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0) 49.49%, rgba(36, 57, 138, 0.08) 100%), #FFFFFF;\\n  padding: 12px;\\n  border-radius: 8px 8px 0px 0px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/shared-experiences-list/shared-experiences-list.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAfA;EACE,yBDOqB;ECNrB,YAAA;EACA,kBAAA;AAkBF;AAhBE;EACE,yGAAA;EACA,aAAA;EACA,8BAAA;AAkBJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n.dialog-container {\\n  background-color: $background-secondary;\\n  height: 100%;\\n  padding: 36px 48px;\\n\\n  .container-header{\\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0) 49.49%, rgba(36, 57, 138, 0.08) 100%), #FFFFFF;\\n    padding: 12px;\\n    border-radius: 8px 8px 0px 0px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"nav {\\n  --bs-breadcrumb-divider: \\\"/\\\";\\n  --bs-breadcrumb-font-size:18px;\\n  --bs-breadcrumb-color: #24398A;\\n}\\nnav a {\\n  color: #24398A;\\n  font-size: 18px;\\n  cursor: pointer;\\n}\\n\\n.page-title {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 42px;\\n}\\n.page-title h1 {\\n  color: #24398A;\\n  font-size: 32px;\\n  margin: 0;\\n}\\n\\n.stepper-card-title {\\n  background-color: white;\\n  padding: 24px 72px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n.stepper-card-title h2 {\\n  margin: 0;\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n\\n.stepper-card-content {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 21px;\\n  background-color: white;\\n  padding: 32px 24px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/add-mode/add-new-template/add-new-template.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,4BAAA;EACA,8BAAA;EACA,8BAAA;AACF;AACG;EACC,cAAA;EACA,eAAA;EACC,eAAA;AACL;;AAGA;EACE,aAAA;EACA,eAAA;EACA,mBAAA;EACA,8BAAA;EACA,mBAAA;AAAF;AAEE;EACE,cAAA;EACA,eAAA;EACA,SAAA;AAAJ;;AAIA;EACE,uBAAA;EACA,kBAAA;EACA,wDAAA;AADF;AAGE;EACE,SAAA;EACA,cAAA;EACA,eAAA;EACA,gBAAA;AADJ;;AAKA;EACE,aAAA;EACA,eAAA;EACA,mBAAA;EACA,uBAAA;EACA,SAAA;EAEA,uBAAA;EACA,kBAAA;AAHF\",\"sourcesContent\":[\"nav{\\n  --bs-breadcrumb-divider: '/';\\n  --bs-breadcrumb-font-size:18px;\\n  --bs-breadcrumb-color: #24398A;\\n\\n   a{\\n    color: #24398A;\\n    font-size: 18px;\\n     cursor: pointer;\\n  }\\n}\\n\\n.page-title {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 42px;\\n\\n  h1 {\\n    color: #24398A;\\n    font-size: 32px;\\n    margin: 0;\\n  }\\n}\\n\\n.stepper-card-title {\\n  background-color: white;\\n  padding: 24px 72px;\\n  border-bottom: solid #24398A29 1px;\\n\\n  h2 {\\n    margin: 0;\\n    color: #24398A;\\n    font-size: 24px;\\n    font-weight: 700;\\n  }\\n}\\n\\n.stepper-card-content {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 21px;\\n\\n  background-color: white;\\n  padding: 32px 24px;\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#facilities .section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#facilities .section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#facilities .section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#facilities .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#facilities .facility-category-name {\\n  font-size: 24px;\\n  color: #231F20;\\n  font-weight: 700;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/facilities/facilities.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAOE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAJJ;AAMI;EACE,eAAA;EACA,cAAA;AAJN;AAOI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AALN;AASE;EACE,mBAAA;EACA,4FAAA;AAPJ;AAWE;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AATJ;;AAcA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAXF;AAaE;EACE,aAAA;EACA,uBAAA;AAXJ\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#facilities {\\n\\n  //margin-bottom: 50px;\\n\\n  .section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  // Facility Section\\n  .facility-category-name {\\n    font-size: 24px;\\n    color: #231F20;\\n    font-weight: 700;\\n  }\\n\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n:root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n.section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n.section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n\\n.section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.image-container {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  border: 2px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  overflow: hidden;\\n}\\n.image-container .no-image {\\n  width: 100%;\\n  min-height: inherit;\\n  height: 120px;\\n  background: rgba(36, 57, 138, 0.04);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #24398A;\\n  cursor: pointer;\\n  gap: 0.75rem;\\n}\\n.image-container .no-image:before {\\n  content: \\\"\\\\f03e\\\";\\n  font-family: \\\"Font Awesome 5 Free\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 2.25rem;\\n}\\n.image-container .no-image:after {\\n  font-size: 1rem;\\n  content: attr(translatedContent);\\n}\\n.image-container .btn-thumbnail, .image-container .btn-gallery {\\n  width: 2rem;\\n  height: 2rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(36, 57, 138, 0.16);\\n  border-radius: 100%;\\n  border: none;\\n}\\n.image-container .btn-thumbnail i, .image-container .btn-gallery i {\\n  color: var(--primary-background);\\n  font-weight: 900;\\n  font-size: 16px;\\n}\\n.image-container .btn-thumbnail {\\n  position: absolute;\\n  top: 2.125rem;\\n  right: 2.125rem;\\n}\\n.image-container .btn-gallery {\\n  position: absolute;\\n  top: 0.875rem;\\n  right: 0.875rem;\\n}\\n.image-container .gallery-img {\\n  height: 120px !important;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n.image-container .video {\\n  height: 100%;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n.image-container .featured-image {\\n  width: 100%;\\n  height: 400px !important;\\n  object-fit: cover;\\n}\\n\\n#gallery .image-container img.img-fluid {\\n  object-fit: cover;\\n  height: 100%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/gallery/gallery.component.scss\",\"webpack://./src/app/theme/styles/components/_colors.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AAAE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAEJ;;ACOA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ADJF;;ACOA;EACE,6BAAA;EACA,+BAAA;ADJF;;ACgCA;EACI,oCAAA;AD7BJ;;ACgCA;EACQ,kCAAA;AD7BR;;AAfA;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAkBF;AAhBE;EACE,eAAA;EACA,cAAA;AAkBJ;AAfE;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAiBJ;;AAbA;EACE,mBAAA;EACA,4FAAA;AAgBF;;AAZA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAeF;AAbE;EACE,aAAA;EACA,uBAAA;AAeJ;;AAJA;EACE,kBAAA;EACA,WAAA;EAEA,YAAA;EACA,yCAAA;EACA,kBAAA;EACA,gBAAA;AAMF;AAJE;EACE,WAAA;EACA,mBAAA;EACA,aAAA;EACA,mCAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,cC1EY;ED2EZ,eAAA;EACA,YAAA;AAMJ;AAJI;EACE,gBAAA;EACA,kCAAA;EACA,kBAAA;EACA,gBAAA;EACA,kBAAA;AAMN;AAHI;EACE,eAAA;EACA,gCAAA;AAKN;AACE;EACE,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,mCAAA;EACA,mBAAA;EACA,YAAA;AACJ;AACI;EACE,gCAAA;EACA,gBAAA;EACA,eAAA;AACN;AAGE;EACE,kBAAA;EACA,aAAA;EACA,eAAA;AADJ;AAIE;EACE,kBAAA;EACA,aAAA;EACA,eAAA;AAFJ;AAIE;EACE,wBAAA;EACA,WAAA;EACA,iBAAA;AAFJ;AAKE;EACE,YAAA;EACA,WAAA;EACA,iBAAA;AAHJ;AAME;EACE,WAAA;EACA,wBAAA;EACA,iBAAA;AAJJ;;AAQA;EACE,iBAAA;EACA,YAAA;AALF\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n.section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n  i {\\n    font-size: 32px;\\n    color: #24398A;\\n  }\\n\\n  h2 {\\n    font-size: 24px;\\n    font-weight: 700;\\n    color: #24398A;\\n    margin-left: 10px;\\n    margin-bottom: 0;\\n  }\\n}\\n\\n.section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n//.single-image{\\n//  height: 120px;\\n//  max-height: 120px;\\n//  object-fit: cover;\\n//  width: 100%;\\n//}\\n\\n.image-container {\\n  position: relative;\\n  width: 100%;\\n  //min-height: 7.5rem;\\n  height:100%;\\n  border: 2px solid rgba($primary-color, 0.08);\\n  border-radius: 8px;\\n  overflow: hidden;\\n\\n  & .no-image {\\n    width: 100%;\\n    min-height: inherit;\\n    height: 120px;\\n    background: rgba($primary-color, 0.04);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    color: $primary-color;\\n    cursor: pointer;\\n    gap: 0.75rem;\\n\\n    &:before {\\n      content: '\\\\f03e';\\n      font-family: 'Font Awesome 5 Free';\\n      font-style: normal;\\n      font-weight: 400;\\n      font-size: 2.25rem;\\n    }\\n\\n    &:after {\\n      font-size: 1rem;\\n      content: attr(translatedContent);\\n    }\\n  }\\n\\n\\n\\n  .btn-thumbnail, .btn-gallery {\\n    width: 2rem;\\n    height: 2rem;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background: rgba($primary-color, 0.16);\\n    border-radius: 100%;\\n    border: none;\\n\\n    i {\\n      color: var(--primary-background);\\n      font-weight: 900;\\n      font-size: 16px;\\n    }\\n  }\\n\\n  .btn-thumbnail {\\n    position: absolute;\\n    top: 2.125rem;\\n    right: 2.125rem;\\n  }\\n\\n  .btn-gallery {\\n    position: absolute;\\n    top: 0.875rem;\\n    right: 0.875rem;\\n  }\\n  .gallery-img{\\n    height: 120px!important;\\n    width: 100%;\\n    object-fit: cover;\\n  }\\n\\n  .video{\\n    height:100%;\\n    width: 100%;\\n    object-fit: cover;\\n  }\\n\\n  .featured-image{\\n    width: 100%;\\n    height: 400px!important;\\n    object-fit: cover;\\n  }\\n}\\n\\n#gallery .image-container img.img-fluid {\\n  object-fit: cover;\\n  height: 100%;\\n}\\n\",\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#general-info .section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#general-info .section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#general-info .section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#general-info .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#general-info .facility-category-name {\\n  font-size: 24px;\\n  color: #231F20;\\n  font-weight: 700;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: end;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/general-informations/general-informations.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAOE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAJJ;AAMI;EACE,eAAA;EACA,cAAA;AAJN;AAOI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AALN;AASE;EACE,mBAAA;EACA,4FAAA;AAPJ;AAWE;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AATJ;;AAcA;EACE,aAAA;EACA,mBAAA;EACA,oBAAA;EACA,iBAAA;EACA,kBAAA;AAXF;AAaE;EACE,aAAA;EACA,uBAAA;AAXJ\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n//Add && Edit Layout\\n#general-info {\\n\\n  //margin-bottom: 50px;\\n\\n  .section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  // Facility Section\\n  .facility-category-name {\\n    font-size: 24px;\\n    color: #231F20;\\n    font-weight: 700;\\n  }\\n\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: end;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n#payment .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#payment .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#payment .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#payment .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#payment .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#payment .section-content .first-card, #payment .section-content .second-card, #payment .section-content .third-card {\\n  background-color: var(--primary-background);\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  padding: 48px;\\n  margin-bottom: 24px;\\n}\\n#payment .section-content .first-card .info-text {\\n  color: #24398A;\\n}\\n#payment .section-content .first-card .pair .icon-class {\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  color: #24398A;\\n  font-size: 40px;\\n  width: 128px;\\n  min-width: 128px;\\n  height: 128px;\\n}\\n#payment .section-content .first-card .pair .icon-text {\\n  color: #24398A;\\n  font-size: 12px;\\n}\\n#payment .section-content .second-card .percent {\\n  color: #FFCC29;\\n  font-size: 48px;\\n  font-weight: 700;\\n  line-height: 50px;\\n}\\n#payment .section-content .second-card p {\\n  color: #24398A;\\n}\\n#payment .section-content .third-card p {\\n  color: #24398A;\\n  font-weight: 300;\\n}\\n#payment .section-content .third-card .icon-container {\\n  width: 128px;\\n  min-width: 128px;\\n  height: 128px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  font-size: 40px;\\n  font-weight: 900;\\n  color: #24398A;\\n}\\n#payment .section-content .tab-content {\\n  padding: 24px;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/payment/payment.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAbE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAgBJ;AAdI;EACE,eAAA;EACA,cAAA;AAgBN;AAbI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAeN;AAXE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAaJ;AAVE;EACE,mBAAA;EACA,4FAAA;AAYJ;AAVI;EACE,2CAAA;EACA,yCAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAYN;AAPM;EACE,cD7CQ;ACsDhB;AALQ;EACE,yCAAA;EACA,mBAAA;EACA,cDpDM;ECqDN,eAAA;EACA,YAAA;EACA,gBAAA;EACA,aAAA;AAOV;AAFQ;EACE,cD9DM;EC+DN,eAAA;AAIV;AAGM;EACE,cDrEU;ECsEV,eAAA;EACA,gBAAA;EACA,iBAAA;AADR;AAGM;EACE,cD7EQ;AC4EhB;AAMM;EACE,cDnFQ;ECoFR,gBAAA;AAJR;AAMM;EACE,YAAA;EACA,gBAAA;EACA,aAAA;EAEA,yCAAA;EACA,mBAAA;EAEA,eAAA;EACA,gBAAA;EACA,cDhGQ;AC0FhB;AAUI;EACE,aAAA;AARN;;AAcA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAXF;AAaE;EACE,aAAA;EACA,uBAAA;AAXJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n#payment {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .first-card, .second-card, .third-card{\\n      background-color: var(--primary-background);\\n      border: 1px solid rgba($primary-color, 0.16);\\n      border-radius: 8px;\\n      padding: 48px;\\n      margin-bottom: 24px;\\n    }\\n\\n    .first-card{\\n\\n      .info-text{\\n        color:$primary-color;\\n      }\\n\\n      .pair{\\n        .icon-class{\\n          border: 1px solid rgba($primary-color, 0.16);\\n          border-radius: 90px;\\n          color: $primary-color;\\n          font-size: 40px;\\n          width: 128px;\\n          min-width: 128px;\\n          height: 128px;\\n        }\\n\\n\\n\\n        .icon-text{\\n          color:$primary-color;\\n          font-size: 12px\\n        }\\n      }\\n\\n    }\\n\\n    .second-card{\\n      .percent{\\n        color:$secondary-color;\\n        font-size:48px;\\n        font-weight: 700;\\n        line-height: 50px;\\n      }\\n      p{\\n        color: $primary-color;\\n      }\\n    }\\n\\n    .third-card{\\n      p{\\n        color: $primary-color;\\n        font-weight: 300;\\n      }\\n      .icon-container{\\n        width: 128px;\\n        min-width: 128px;\\n        height: 128px;\\n\\n        border: 1px solid rgba($primary-color, 0.16);\\n        border-radius: 90px;\\n\\n        font-size: 40px;\\n        font-weight: 900;\\n        color: $primary-color;\\n      }\\n    }\\n\\n    .tab-content {\\n      padding: 24px;\\n    }\\n  }\\n}\\n\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#policy .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#policy .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#policy .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#policy .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#policy .section-content {\\n  padding: 46px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#policy .section-content .tab-content {\\n  padding: 24px;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/policy/no-policy/no-policy.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAhBA;EACE,iBAAA;AAmBF;AAjBE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAmBJ;;AAbE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAgBJ;AAdI;EACE,eAAA;EACA,cAAA;AAgBN;AAbI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAeN;AAXE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAaJ;AAVE;EACE,aAAA;EACA,4FAAA;AAYJ;AAVI;EACE,aAAA;AAYN;;AAPA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAUF;AARE;EACE,aAAA;EACA,uBAAA;AAUJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba($paragraph, 48%);\\n    background: rgba($primary-color, 0%) !important;\\n    color: rgba($paragraph, 48%);\\n  }\\n}\\n\\n#policy {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .tab-content{\\n      padding: 24px;\\n    }\\n  }\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#policy-cultural-booking .section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#policy-cultural-booking .section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#policy-cultural-booking .section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#policy-cultural-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#policy-cultural-booking .facility-category-name {\\n  font-size: 24px;\\n  color: #231F20;\\n  font-weight: 700;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-cultural-booking/policy-cultural-booking.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAOE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAJJ;AAMI;EACE,eAAA;EACA,cAAA;AAJN;AAOI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AALN;AASE;EACE,mBAAA;EACA,4FAAA;AAPJ;AAWE;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AATJ;;AAcA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAXF;AAaE;EACE,aAAA;EACA,uBAAA;AAXJ\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n//Add && Edit Layout\\n#policy-cultural-booking {\\n\\n  //margin-bottom: 50px;\\n\\n  .section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  // Facility Section\\n  .facility-category-name {\\n    font-size: 24px;\\n    color: #231F20;\\n    font-weight: 700;\\n  }\\n\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#policy-rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#policy-rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#policy-rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#policy-rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#policy-rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#policy-rental-booking .section-content p {\\n  font-weight: 700;\\n}\\n#policy-rental-booking .section-content .check-io {\\n  background-color: var(--primary-background);\\n  border-radius: 8px;\\n  padding: 24px;\\n}\\n#policy-rental-booking .section-content .check-io .group {\\n  border: none;\\n  gap: 5px;\\n}\\n#policy-rental-booking .section-content .check-io .group .mat-button-toggle.btn-tog {\\n  width: 35%;\\n  height: 50px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n}\\n#policy-rental-booking .section-content .check-io .group .mat-button-toggle.btn-tog:hover {\\n  border-radius: 90px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n}\\n#policy-rental-booking .section-content .check-io .group .mat-button-toggle-checked.mat-button-toggle-appearance-standard {\\n  background-color: #24398A;\\n  color: var(--primary-background);\\n  border-radius: 90px;\\n}\\n#policy-rental-booking .section-content mat-form-field {\\n  width: 20%;\\n  margin-left: 10px;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy-rental-booking/policy-rental-booking.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAhBA;EACE,iBAAA;AAmBF;AAjBE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAmBJ;;AAbE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAgBJ;AAdI;EACE,eAAA;EACA,cAAA;AAgBN;AAbI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAeN;AAXE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAaJ;AAVE;EACE,mBAAA;EACA,4FAAA;AAYJ;AAXI;EACE,gBAAA;AAaN;AAVI;EACE,2CAAA;EACA,kBAAA;EACA,aAAA;AAYN;AAVM;EACE,YAAA;EACA,QAAA;AAYR;AAVQ;EACE,UAAA;EACA,YAAA;EAEA,yCAAA;EACA,mBAAA;AAWV;AATU;EACE,mBAAA;EACA,yCAAA;AAWZ;AAPQ;EACE,yBDrEM;ECsEN,gCAAA;EACA,mBAAA;AASV;AAJI;EACE,UAAA;EACA,iBAAA;AAMN;;AADA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAIF;AAFE;EACE,aAAA;EACA,uBAAA;AAIJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba($paragraph, 48%);\\n    background: rgba($primary-color, 0%) !important;\\n    color: rgba($paragraph, 48%);\\n  }\\n}\\n\\n#policy-rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n    p{\\n      font-weight: 700;\\n    }\\n\\n    .check-io {\\n      background-color: var(--primary-background);\\n      border-radius: 8px;\\n      padding: 24px;\\n\\n      .group {\\n        border: none;\\n        gap: 5px;\\n\\n        .mat-button-toggle.btn-tog {\\n          width:35%;\\n          height: 50px;\\n          //background-color: var(--primary-background);\\n          border: 1px solid rgba($primary-color, 0.16);\\n          border-radius: 90px;\\n\\n          &:hover {\\n            border-radius: 90px;\\n            border: 1px solid rgba($primary-color, 0.16);\\n          }\\n        }\\n\\n        .mat-button-toggle-checked.mat-button-toggle-appearance-standard {\\n          background-color: $primary-color;\\n          color: var(--primary-background);\\n          border-radius: 90px;}\\n      }\\n    }\\n\\n\\n    mat-form-field{\\n      width: 20%;\\n      margin-left: 10px;\\n    }\\n  }\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/policy/policy.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AACF;AACE;EACE,aAAA;EACA,uBAAA;AACJ\",\"sourcesContent\":[\".stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#policy .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#policy .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#policy .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#policy .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#policy .section-content {\\n  padding: 46px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#policy .section-content .tab-content {\\n  padding: 24px;\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/policy/restaurant-policy/restaurant-policy.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAhBA;EACE,iBAAA;AAmBF;AAjBE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAmBJ;;AAbE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAgBJ;AAdI;EACE,eAAA;EACA,cAAA;AAgBN;AAbI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAeN;AAXE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAaJ;AAVE;EACE,aAAA;EACA,4FAAA;AAYJ;AAVI;EACE,aAAA;AAYN;;AAPA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAUF;AARE;EACE,aAAA;EACA,uBAAA;AAUJ\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#policy {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .tab-content{\\n      padding: 24px;\\n    }\\n  }\\n}\\n\\n.stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n\\n  .next-step {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/related-resource/cultural-related-res/cultural-related-res.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAfA;EACE,iBAAA;AAkBF;AAhBE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAkBJ;;AAZE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAeJ;AAbI;EACE,eAAA;EACA,cAAA;AAeN;AAZI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAcN;AAVE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAYJ;AATE;EACE,mBAAA;EACA,4FAAA;AAWJ;AARE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AAUJ;AARI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AAUN;AANE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AAQJ;AALI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAON;AAFE;EACE,iBAAA;EACA,gBAAA;AAIJ;AAFI;EACE,kBAAA;EACA,yCAAA;AAIN;AAFM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAIR;AAFQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAIV;AAAM;EACE,iBAAA;AAER;AAAQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAEV;AAAU;EACE,gBAAA;AAEZ;AAEQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAAV;AAEU;EACE,cAAA;EACA,eAAA;AAAZ;AAGU;EACE,gBAAA;EACA,eAAA;AADZ;AAKQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AAHV;AAKU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AAHZ;AAMU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJZ;AAOU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AALZ;AAUM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AARR;AAUQ;EACE,eAAA;AARV;AAYM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AAVR;AAYQ;EAEE,eAAA;AAXV;AAkBE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAhBJ;AAkBI;EACE,aAAA;EACA,uBAAA;AAhBN\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba($paragraph, 48%);\\n    background: rgba($primary-color, 0%) !important;\\n    color: rgba($paragraph, 48%);\\n  }\\n}\\n\\n#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/apply-job/apply-job.component.scss\"],\"names\":[],\"mappings\":\"AAEE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AADJ;AAGI;EACE,eAAA;EACA,cAAA;AADN;AAII;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAFN;AAME;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJJ;AAOE;EACE,mBAAA;EACA,4FAAA;AALJ;AAQE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AANJ;AAQI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AANN;AAUE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AARJ;AAWI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AATN;AAcE;EACE,iBAAA;EACA,gBAAA;AAZJ;AAcI;EACE,kBAAA;EACA,yCAAA;AAZN;AAcM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAZR;AAcQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAZV;AAgBM;EACE,iBAAA;AAdR;AAgBQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAdV;AAgBU;EACE,gBAAA;AAdZ;AAkBQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAhBV;AAkBU;EACE,cAAA;EACA,eAAA;AAhBZ;AAmBU;EACE,gBAAA;EACA,eAAA;AAjBZ;AAqBQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AAnBV;AAqBU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AAnBZ;AAsBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AApBZ;AAuBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AArBZ;AA0BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAxBR;AA0BQ;EACE,eAAA;AAxBV;AA4BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AA1BR;AA4BQ;EAEE,eAAA;AA3BV;AAkCE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAhCJ;AAkCI;EACE,aAAA;EACA,uBAAA;AAhCN\",\"sourcesContent\":[\"#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n\\n#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .section-content .panel {\\n  overflow: auto;\\n  height: 100%;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/cultural-booking/cultural-booking.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;;AAIE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AADJ;AAGI;EACE,eAAA;EACA,cAAA;AADN;AAII;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAFN;AAME;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJJ;AAOE;EACE,mBAAA;EACA,4FAAA;AALJ;AAOI;EACE,cAAA;EACA,YAAA;AALN;AASE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AAPJ;AASI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AAPN;AAWE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AATJ;AAYI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAVN;AAeE;EACE,iBAAA;EACA,gBAAA;AAbJ;AAeI;EACE,kBAAA;EACA,yCAAA;AAbN;AAeM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAbR;AAeQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAbV;AAiBM;EACE,iBAAA;AAfR;AAiBQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAfV;AAiBU;EACE,gBAAA;AAfZ;AAmBQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAjBV;AAmBU;EACE,cAAA;EACA,eAAA;AAjBZ;AAoBU;EACE,gBAAA;EACA,eAAA;AAlBZ;AAsBQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AApBV;AAsBU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AApBZ;AAuBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AArBZ;AAwBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAtBZ;AA2BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAzBR;AA2BQ;EACE,eAAA;AAzBV;AA6BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AA3BR;AA6BQ;EAEE,eAAA;AA5BV;AAmCE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAjCJ;AAmCI;EACE,aAAA;EACA,uBAAA;AAjCN\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n}\\n\\n#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .panel{\\n      overflow: auto;\\n      height: 100%;\\n    }\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/external-url/external-url.component.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,iBAAA;AAAF;AAEE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAAJ;;AAME;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAHJ;AAKI;EACE,eAAA;EACA,cAAA;AAHN;AAMI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAJN;AAQE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AANJ;AASE;EACE,mBAAA;EACA,4FAAA;AAPJ;AAUE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AARJ;AAUI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AARN;AAYE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AAVJ;AAaI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAXN;AAgBE;EACE,iBAAA;EACA,gBAAA;AAdJ;AAgBI;EACE,kBAAA;EACA,yCAAA;AAdN;AAgBM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAdR;AAgBQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAdV;AAkBM;EACE,iBAAA;AAhBR;AAkBQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAhBV;AAkBU;EACE,gBAAA;AAhBZ;AAoBQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAlBV;AAoBU;EACE,cAAA;EACA,eAAA;AAlBZ;AAqBU;EACE,gBAAA;EACA,eAAA;AAnBZ;AAuBQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AArBV;AAuBU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AArBZ;AAwBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAtBZ;AAyBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAvBZ;AA4BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AA1BR;AA4BQ;EACE,eAAA;AA1BV;AA8BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AA5BR;AA8BQ;EAEE,eAAA;AA7BV;AAoCE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAlCJ;AAoCI;EACE,aAAA;EACA,uBAAA;AAlCN\",\"sourcesContent\":[\"\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 25px 100px;\\n  background-color: #24398A;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: white;\\n  font-size: 32px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.dialog-container .dialog-header button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 45px;\\n  height: 45px;\\n  border: 2px solid white;\\n  border-radius: 50%;\\n  background: transparent;\\n  color: white;\\n}\\n.dialog-container .dialog-content {\\n  padding: 0 100px;\\n  margin-top: 78px;\\n  flex: 1;\\n}\\n.dialog-container .dialog-content .section-name {\\n  font-size: 24px;\\n  color: #24398A;\\n  font-weight: 600;\\n}\\n.dialog-container .dialog-content .section-subtitle {\\n  color: black;\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content .product-item {\\n  border: 2px solid #24398A;\\n  border-radius: 15px;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n  border-bottom-left-radius: 8px;\\n  border-top-left-radius: 8px;\\n}\\n.dialog-container .dialog-content .product-item .add-btn {\\n  width: 100%;\\n  border: 2px dotted rgba(36, 57, 138, 0.6);\\n  border-radius: 8px;\\n  background-color: rgba(36, 57, 138, 0.3);\\n  color: rgba(36, 57, 138, 0.6);\\n  height: 50px;\\n  align-content: center;\\n  margin-top: 10px;\\n}\\n.dialog-container .dialog-content .product-item .remove-btn {\\n  top: -2px;\\n  right: -30px;\\n  background-color: #24398A;\\n  border: 1px solid #24398A;\\n  color: #fff;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 8px;\\n  height: 50px;\\n  width: 30px;\\n}\\n.dialog-container .dialog-content .product-item .scroll-window {\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  height: 450px;\\n}\\n.dialog-container .dialog-content .product-item .scroll-window .subcategory-item {\\n  padding: 10px 32px;\\n  margin-bottom: 10px;\\n}\\n.dialog-container .dialog-content .product-item .scroll-window .subcategory-item .item {\\n  padding: 10px;\\n  border-bottom-right-radius: 10px;\\n  border-top-right-radius: 0;\\n  border-bottom-left-radius: 10px;\\n  border-top-left-radius: 10px;\\n  background-color: rgba(36, 57, 138, 0.2);\\n  border: 2px solid #24398A;\\n  margin-bottom: 10px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets {\\n  border: 1px solid #24398A;\\n  padding: 10px 15px;\\n  width: 100%;\\n  max-width: 130px;\\n  border-radius: 70px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets .add-remove-btn {\\n  display: flex;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  padding: 24px 100px;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-top: 1px solid rgba(36, 57, 138, 0.16);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/add-edit-category/add-edit-category.component.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,YAAA;EACA,aAAA;EACA,sBAAA;AAAF;AAGE;EACE,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,8BAAA;EACA,mBAAA;EACA,yBAAA;AADJ;AAGI;EACE,YAAA;EACA,eAAA;EACA,gBAAA;EACA,SAAA;AADN;AAII;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,WAAA;EACA,YAAA;EACA,uBAAA;EACA,kBAAA;EACA,uBAAA;EACA,YAAA;AAFN;AASE;EACE,gBAAA;EACA,gBAAA;EACA,OAAA;AAPJ;AASI;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AAPN;AASI;EACE,YAAA;EACA,gBAAA;EACA,eAAA;AAPN;AAUI;EACE,yBAAA;EACA,mBAAA;EACA,aAAA;EACA,mBAAA;EAGA,+BAAA;EACA,0BAAA;EACA,8BAAA;EACA,2BAAA;AAVN;AAYM;EACE,WAAA;EACA,yCAAA;EACA,kBAAA;EACA,wCAAA;EACA,6BAAA;EACA,YAAA;EACA,qBAAA;EACA,gBAAA;AAVR;AAcM;EACE,SAAA;EACA,YAAA;EACA,yBAAA;EACA,yBAAA;EACA,WAAA;EACA,+BAAA;EACA,4BAAA;EACA,YAAA;EACA,WAAA;AAZR;AAeM;EAEE,kBAAA;EACA,kBAAA;EACA,aAAA;AAdR;AAgBQ;EACE,kBAAA;EAaA,mBAAA;AA1BV;AAeU;EACE,aAAA;EACA,gCAAA;EACA,0BAAA;EACA,+BAAA;EACA,4BAAA;EACA,wCAAA;EACA,yBAAA;EACA,mBAAA;AAbZ;AAsBI;EACE,yBAAA;EACA,kBAAA;EACA,WAAA;EACA,gBAAA;EACA,mBAAA;AApBN;AAsBM;EACE,aAAA;EACA,uBAAA;EACA,YAAA;EACA,eAAA;EACA,cAAA;AApBR;AA2BE;EACE,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,8BAAA;EACA,6CAAA;AAzBJ\",\"sourcesContent\":[\"\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 100px;\\n    background-color: #24398A;\\n\\n    h2 {\\n      color: white;\\n      font-size: 32px;\\n      font-weight: 700;\\n      margin: 0;\\n    }\\n\\n    button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 45px;\\n      height: 45px;\\n      border: 2px solid white;\\n      border-radius: 50%;\\n      background: transparent;\\n      color: white;\\n\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    padding: 0 100px;\\n    margin-top: 78px;\\n    flex: 1;\\n\\n    .section-name {\\n      font-size: 24px;\\n      color: #24398A;\\n      font-weight: 600;\\n    }\\n    .section-subtitle {\\n      color: black;\\n      font-weight: 700;\\n      font-size: 20px;\\n    }\\n\\n    .product-item{\\n      border: 2px solid #24398A;\\n      border-radius: 15px;\\n      padding: 10px;\\n      margin-bottom: 10px;\\n\\n\\n      border-bottom-right-radius: 8px;\\n      border-top-right-radius: 0;\\n      border-bottom-left-radius: 8px;\\n      border-top-left-radius: 8px;\\n\\n      .add-btn{\\n        width: 100%;\\n        border: 2px dotted rgba(#24398A, 0.6);\\n        border-radius: 8px;\\n        background-color: rgba(#24398A, 0.3);\\n        color:  rgba(#24398A, 0.6);\\n        height: 50px;\\n        align-content: center;\\n        margin-top: 10px;\\n\\n      }\\n\\n      .remove-btn{\\n        top: -2px;\\n        right: -30px;\\n        background-color: #24398A;\\n        border:1px solid #24398A;\\n        color: #fff;\\n        border-bottom-right-radius: 8px;\\n        border-top-right-radius: 8px;\\n        height: 50px;\\n        width: 30px;\\n      }\\n\\n      .scroll-window{\\n\\n        overflow-y: scroll;\\n        overflow-x: hidden;\\n        height: 450px;\\n\\n        .subcategory-item{\\n          padding: 10px 32px;\\n\\n          .item{\\n            padding: 10px;\\n            border-bottom-right-radius: 10px;\\n            border-top-right-radius: 0;\\n            border-bottom-left-radius: 10px;\\n            border-top-left-radius: 10px;\\n            background-color: rgba(#24398A, 0.2);\\n            border:2px solid #24398A;\\n            margin-bottom: 10px;\\n          }\\n\\n          margin-bottom: 10px;\\n        }\\n      }\\n\\n    }\\n\\n    .add-remove-tickets {\\n      border: 1px solid #24398A;\\n      padding: 10px 15px;\\n      width: 100%;\\n      max-width: 130px;\\n      border-radius: 70px;\\n\\n      .add-remove-btn {\\n        display: flex;\\n        background: transparent;\\n        border: none;\\n        font-size: 12px;\\n        color: #24398A;\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    padding: 24px 100px;\\n    align-items: center;\\n    justify-content: space-between;\\n    border-top: 1px solid rgba(36, 57, 138, 0.16);\\n  }\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 600;\\n  margin-bottom: 24px;\\n}\\n.dialog-container .dialog-header p {\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 48px;\\n}\\n.dialog-container .dialog-content .section-title {\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content .section-title span {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/delete-menu-category/delete-menu-category.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;AACF;AAII;EACE,cAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAFN;AAKI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAHN;AASE;EACE,yBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAPJ;AASI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPN;AASM;EACE,gBAAA;EACA,eAAA;AAPR;AAaE;EACE,aAAA;EACA,SAAA;EACA,mBAAA;AAXJ\",\"sourcesContent\":[\".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n\\n    h2 {\\n      color: #24398A;\\n      font-size: 24px;\\n      font-weight: 600;\\n      margin-bottom: 24px;\\n    }\\n\\n    p {\\n      font-weight: 400;\\n      font-size: 16px;\\n      color: #231F20;\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    border: 1px solid #24398A;\\n    border-radius: 8px;\\n    padding: 16px;\\n    margin-bottom: 48px;\\n\\n    .section-title {\\n      font-weight: 700;\\n      font-size: 14px;\\n      color: #231F20;\\n\\n      span {\\n        font-weight: 400;\\n        font-size: 14px;\\n      }\\n    }\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    gap: 20px;\\n    align-items: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .tab-section-title .button-icon {\\n  font-size: 14px;\\n  color: #fff;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .section-content .tab-content {\\n  padding: 24px;\\n}\\n#rental-booking .section-content .tab-content .add-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/menu/menu.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAhBA;EACE,iBAAA;AAmBF;AAjBE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AAmBJ;;AAbE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAgBJ;AAdI;EACE,eAAA;EACA,cAAA;AAgBN;AAbI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAeN;AAZI;EACE,eAAA;EACA,WAAA;AAcN;AATE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAWJ;AARE;EACE,aAAA;EACA,4FAAA;AAUJ;AARI;EACE,aAAA;AAUN;AARM;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAUR;AALE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AAOJ;AALI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AAON;AAHE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AAKJ;AAFI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAIN;AACE;EACE,iBAAA;EACA,gBAAA;AACJ;AACI;EACE,kBAAA;EACA,yCAAA;AACN;AACM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AACR;AACQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AACV;AAGM;EACE,iBAAA;AADR;AAGQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AADV;AAGU;EACE,gBAAA;AADZ;AAKQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAHV;AAKU;EACE,cAAA;EACA,eAAA;AAHZ;AAMU;EACE,gBAAA;EACA,eAAA;AAJZ;AAQQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AANV;AAQU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AANZ;AASU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPZ;AAUU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AARZ;AAaM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAXR;AAaQ;EACE,eAAA;AAXV;AAeM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AAbR;AAeQ;EAEE,eAAA;AAdV;AAqBE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAnBJ;AAqBI;EACE,aAAA;EACA,uBAAA;AAnBN\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n.save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n\\n    .button-icon{\\n      font-size:14px;\\n      color: #fff;\\n\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .tab-content{\\n      padding: 24px;\\n\\n      .add-btn {\\n        border-radius: 8px;\\n        border: 1px dotted rgba(36, 57, 138, 0.16);\\n        background-color: transparent;\\n        width: 100%;\\n        padding: 15px 0;\\n        color: rgba(36, 57, 138, 0.16);\\n        font-weight: 600;\\n        font-size: 16px;\\n      }\\n    }\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n\\n}\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/no-booking/no-booking.component.scss\"],\"names\":[],\"mappings\":\"AAEE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AADJ;AAGI;EACE,eAAA;EACA,cAAA;AADN;AAII;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAFN;AAME;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJJ;AAOE;EACE,mBAAA;EACA,4FAAA;AALJ;AAQE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AANJ;AAQI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AANN;AAUE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AARJ;AAWI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AATN;AAcE;EACE,iBAAA;EACA,gBAAA;AAZJ;AAcI;EACE,kBAAA;EACA,yCAAA;AAZN;AAcM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAZR;AAcQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAZV;AAgBM;EACE,iBAAA;AAdR;AAgBQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAdV;AAgBU;EACE,gBAAA;AAdZ;AAkBQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAhBV;AAkBU;EACE,cAAA;EACA,eAAA;AAhBZ;AAmBU;EACE,gBAAA;EACA,eAAA;AAjBZ;AAqBQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AAnBV;AAqBU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AAnBZ;AAsBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AApBZ;AAuBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AArBZ;AA0BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAxBR;AA0BQ;EACE,eAAA;AAxBV;AA4BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AA1BR;AA4BQ;EAEE,eAAA;AA3BV;AAkCE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAhCJ;AAkCI;EACE,aAAA;EACA,uBAAA;AAhCN\",\"sourcesContent\":[\"#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 25px 100px;\\n  background-color: #24398A;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: white;\\n  font-size: 32px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.dialog-container .dialog-header button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 45px;\\n  height: 45px;\\n  border: 2px solid white;\\n  border-radius: 50%;\\n  background: transparent;\\n  color: white;\\n}\\n.dialog-container .dialog-content {\\n  padding: 0 100px;\\n  margin-top: 78px;\\n  flex: 1;\\n}\\n.dialog-container .dialog-content .section-name {\\n  font-size: 24px;\\n  color: #24398A;\\n  font-weight: 600;\\n}\\n.dialog-container .dialog-content .limit-check {\\n  height: 57px;\\n}\\n.dialog-container .dialog-content .section-subtitle {\\n  color: black;\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets {\\n  border: 1px solid #24398A;\\n  padding: 10px 15px;\\n  width: 100%;\\n  max-width: 130px;\\n  border-radius: 70px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets .add-remove-btn {\\n  display: flex;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container {\\n  position: relative;\\n  width: 100%;\\n  min-height: 7.5rem;\\n  border: 2px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  overflow: hidden;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image {\\n  width: 100%;\\n  height: 120px;\\n  min-height: inherit;\\n  background: rgba(36, 57, 138, 0.04);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #24398A;\\n  cursor: pointer;\\n  gap: 0.75rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:before {\\n  content: \\\"\\\\f03e\\\";\\n  font-family: \\\"Font Awesome 5 Free\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 2.25rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:after {\\n  font-size: 1rem;\\n  content: attr(translatedContent);\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  width: 2rem;\\n  height: 2rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(36, 57, 138, 0.16);\\n  border-radius: 100%;\\n  border: none;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail i, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery i {\\n  color: var(--primary-background);\\n  font-weight: 900;\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail {\\n  position: absolute;\\n  top: 2.125rem;\\n  right: 2.125rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  position: absolute;\\n  top: 0.875rem;\\n  right: 0.875rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .gallery-img {\\n  height: 120px;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n.dialog-container .dialog-content #photo-upload .photo-type-title {\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn {\\n  position: absolute;\\n  right: 20px;\\n  top: 20px;\\n  border: none;\\n  border-radius: 20px;\\n  padding: 10px 12px;\\n  margin: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: rgba(36, 57, 138, 0.16);\\n  color: white;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn:hover {\\n  background-color: rgb(255, 0, 0);\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo {\\n  position: relative;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  width: 100%;\\n  height: 350px;\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo .prev-img {\\n  width: 100%;\\n  height: 350px;\\n  border-radius: 8px;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected {\\n  display: flex;\\n  height: 350px;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container i {\\n  font-size: 64px;\\n  font-weight: 400;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container span {\\n  font-size: 24px;\\n  font-weight: 600;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 120px;\\n  max-height: 120px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container {\\n  color: rgba(36, 57, 138, 0.16);\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container i {\\n  font-size: 36px;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container span {\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .selected-img-list {\\n  height: 120px;\\n  display: flex;\\n  position: relative;\\n}\\n.dialog-container .dialog-content #photo-upload .no-attachment {\\n  height: 120px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #24398A;\\n  border: 1px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  background-color: rgba(36, 57, 138, 0.04);\\n  cursor: pointer;\\n  gap: 0.75rem;\\n  font-size: 1rem;\\n}\\n.dialog-container .dialog-content #photo-upload .no-attachment i {\\n  font-size: 2rem;\\n}\\n.dialog-container .dialog-content #photo-upload .attachment-container {\\n  height: 120px;\\n  border: 1px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  background-color: rgba(36, 57, 138, 0.04);\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  padding: 24px 100px;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-top: 1px solid rgba(36, 57, 138, 0.16);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/add-edit-product/add-edit-product.component.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 100px;\\n    background-color: #24398A;\\n\\n    h2 {\\n      color: white;\\n      font-size: 32px;\\n      font-weight: 700;\\n      margin: 0;\\n    }\\n\\n    button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 45px;\\n      height: 45px;\\n      border: 2px solid white;\\n      border-radius: 50%;\\n      background: transparent;\\n      color: white;\\n\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    padding: 0 100px;\\n    margin-top: 78px;\\n    flex: 1;\\n\\n    .section-name {\\n      font-size: 24px;\\n      color: #24398A;\\n      font-weight: 600;\\n    }\\n\\n    .limit-check {\\n      height: 57px;\\n    }\\n\\n    .section-subtitle {\\n      color: black;\\n      font-weight: 700;\\n      font-size: 20px;\\n    }\\n\\n    .add-remove-tickets {\\n      border: 1px solid #24398A;\\n      padding: 10px 15px;\\n      width: 100%;\\n      max-width: 130px;\\n      border-radius: 70px;\\n\\n      .add-remove-btn {\\n        display: flex;\\n        background: transparent;\\n        border: none;\\n        font-size: 12px;\\n        color: #24398A;\\n      }\\n    }\\n\\n    #photo-upload {\\n\\n      .image-container {\\n        position: relative;\\n        width: 100%;\\n        min-height: 7.5rem;\\n        //height: 120px;\\n        border: 2px solid rgba($primary-color, 0.08);\\n        border-radius: 8px;\\n        overflow: hidden;\\n\\n        & .no-image {\\n          width: 100%;\\n          height: 120px;\\n          min-height: inherit;\\n          background: rgba($primary-color, 0.04);\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          color: $primary-color;\\n          cursor: pointer;\\n          gap: 0.75rem;\\n\\n          &:before {\\n            content: '\\\\f03e';\\n            font-family: 'Font Awesome 5 Free';\\n            font-style: normal;\\n            font-weight: 400;\\n            font-size: 2.25rem;\\n          }\\n\\n          &:after {\\n            font-size: 1rem;\\n            content: attr(translatedContent);\\n          }\\n        }\\n\\n        .btn-thumbnail, .btn-gallery {\\n          width: 2rem;\\n          height: 2rem;\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          background: rgba($primary-color, 0.16);\\n          border-radius: 100%;\\n          border: none;\\n\\n          i {\\n            color: var(--primary-background);\\n            font-weight: 900;\\n            font-size: 16px;\\n          }\\n        }\\n\\n        .btn-thumbnail {\\n          position: absolute;\\n          top: 2.125rem;\\n          right: 2.125rem;\\n        }\\n\\n        .btn-gallery {\\n          position: absolute;\\n          top: 0.875rem;\\n          right: 0.875rem;\\n        }\\n\\n        .gallery-img {\\n          height: 120px;\\n          width: 100%;\\n          object-fit: cover;\\n        }\\n      }\\n\\n\\n      .photo-type-title {\\n        font-size: 16px;\\n        font-weight: 400;\\n      }\\n\\n      .clear-btn {\\n        position: absolute;\\n        right: 20px;\\n        top: 20px;\\n        border: none;\\n        border-radius: 20px;\\n        padding: 10px 12px;\\n        margin: 0;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        background-color: rgba(36, 57, 138, 0.16);\\n        color: white;\\n\\n        &:hover {\\n          background-color: rgba(255, 0, 0, 1);\\n        }\\n      }\\n\\n\\n      // Thumbnail\\n      .have-selected-photo {\\n        position: relative;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        width: 100%;\\n        height: 350px;\\n\\n        .prev-img {\\n          width: 100%;\\n          height: 350px;\\n          border-radius: 8px;\\n        }\\n      }\\n\\n      .no-photo-selected {\\n\\n        display: flex;\\n        height: 350px;\\n        align-items: center;\\n        justify-content: center;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        cursor: pointer;\\n\\n        .icons-container {\\n          display: flex;\\n          align-items: center;\\n          flex-direction: column;\\n\\n          i {\\n            font-size: 64px;\\n            font-weight: 400;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n\\n          span {\\n            font-size: 24px;\\n            font-weight: 600;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n        }\\n\\n\\n      }\\n\\n      // Gallery\\n      .select-gallery-images {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        height: 120px;\\n        max-height: 120px;\\n        border-radius: 8px;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        cursor: pointer;\\n\\n        .icons-container {\\n          color: rgba(36, 57, 138, 0.16);\\n          display: flex;\\n          flex-direction: row;\\n          align-items: center;\\n          justify-content: center;\\n\\n          i {\\n            font-size: 36px;\\n          }\\n\\n          span {\\n            font-size: 16px;\\n          }\\n        }\\n      }\\n\\n      .selected-img-list {\\n        height: 120px;\\n        display: flex;\\n        position: relative;\\n      }\\n\\n      .no-attachment {\\n        height: 120px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        color: $primary-color;\\n        border: 1px solid rgba($primary-color, 0.08);\\n        border-radius: 8px;\\n        background-color: rgba($primary-color, 0.04);\\n        cursor: pointer;\\n        gap: 0.75rem;\\n        font-size: 1rem;\\n\\n        i{\\n          font-size: 2rem;\\n        }\\n      }\\n\\n      .attachment-container {\\n        height: 120px;\\n        border: 1px solid rgba($primary-color, 0.08);\\n        border-radius: 8px;\\n        background-color: rgba($primary-color, 0.04);\\n\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    padding: 24px 100px;\\n    align-items: center;\\n    justify-content: space-between;\\n    border-top: 1px solid rgba(36, 57, 138, 0.16);\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 600;\\n  margin-bottom: 24px;\\n}\\n.dialog-container .dialog-header p {\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 48px;\\n}\\n.dialog-container .dialog-content .section-title {\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content .section-title span {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/delete-product-modal/delete-product-modal.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;AACF;AAII;EACE,cAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAFN;AAKI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAHN;AASE;EACE,yBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAPJ;AASI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPN;AASM;EACE,gBAAA;EACA,eAAA;AAPR;AAcE;EACE,aAAA;EACA,SAAA;EACA,mBAAA;AAZJ\",\"sourcesContent\":[\".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n\\n    h2 {\\n      color: #24398A;\\n      font-size: 24px;\\n      font-weight: 600;\\n      margin-bottom: 24px;\\n    }\\n\\n    p {\\n      font-weight: 400;\\n      font-size: 16px;\\n      color: #231F20;\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    border: 1px solid #24398A;\\n    border-radius: 8px;\\n    padding: 16px;\\n    margin-bottom: 48px;\\n\\n    .section-title {\\n      font-weight: 700;\\n      font-size: 14px;\\n      color: #231F20;\\n\\n      span {\\n        font-weight: 400;\\n        font-size: 14px;\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    gap: 20px;\\n    align-items: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#product-list .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#product-list .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#product-list .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#product-list .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#product-list .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#product-list .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#product-list .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#product-list .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#product-list .list-content .ticket-list {\\n  width: 100%;\\n}\\n#product-list .list-content .ticket-list .btn-delete {\\n  background-color: #24398A;\\n  color: #FFFFFF;\\n  border-top-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#product-list .list-content .ticket-list .btn-edit {\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  color: #FFFFFF;\\n  border-bottom-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#product-list .list-content .add-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#product-list .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#product-list .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/products-list/products-list.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAIE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AADJ;AAGI;EACE,eAAA;EACA,cAAA;AADN;AAII;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAFN;AAME;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJJ;AAOE;EACE,mBAAA;EACA,4FAAA;AALJ;AAQE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AANJ;AAQI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AANN;AAUE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AARJ;AAUI;EACE,WAAA;AARN;AASM;EACE,yBAAA;EACA,cAAA;EACA,4BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAPR;AAUM;EACE,iKAAA;EACA,cAAA;EACA,+BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AARR;AAaI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAXN;AAeE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAbJ;AAeI;EACE,aAAA;EACA,uBAAA;AAbN\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#product-list{\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n    .ticket-list{\\n      width: 100%;\\n      .btn-delete{\\n        background-color:#24398A;\\n        color: #FFFFFF;\\n        border-top-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n\\n      .btn-edit{\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        color: #FFFFFF;\\n        border-bottom-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n    }\\n\\n\\n    .add-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n::ng-deep .cdk-global-overlay-wrapper {\\n  z-index: 1000 !important;\\n}\\n\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 25px 100px;\\n  background-color: #24398A;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: white;\\n  font-size: 32px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.dialog-container .dialog-header button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 45px;\\n  height: 45px;\\n  border: 2px solid white;\\n  border-radius: 50%;\\n  background: transparent;\\n  color: white;\\n}\\n.dialog-container .dialog-content {\\n  padding: 0 100px;\\n  margin-top: 78px;\\n  flex: 1;\\n}\\n.dialog-container .dialog-content .section-name {\\n  font-size: 24px;\\n  color: #24398A;\\n  font-weight: 600;\\n}\\n.dialog-container .dialog-content .section-subtitle {\\n  color: black;\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content .add-remove-rooms {\\n  border: 1px solid #24398A;\\n  padding: 10px 15px;\\n  width: 100%;\\n  max-width: 130px;\\n  border-radius: 70px;\\n}\\n.dialog-container .dialog-content .add-remove-rooms .add-remove-btn {\\n  display: flex;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-content #beds-types .bed-icon {\\n  font-size: 27px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-content #beds-types .bed-new-name {\\n  font-weight: 400;\\n  font-size: 12px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-content #prev-container .prev-header {\\n  background-color: #24398A;\\n  border-radius: 8px 8px 0 0;\\n  padding: 12px 8px;\\n}\\n.dialog-container .dialog-content #prev-container .prev-header .prev-title {\\n  color: white;\\n  font-weight: 700;\\n  font-size: 24px;\\n  margin: 0;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content {\\n  border-radius: 0 0 8px 8px;\\n  padding: 12px 8px;\\n  box-shadow: 0 5px 5px 0 #efefef;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-info .info-name {\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-info .info-value {\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-info i {\\n  font-size: 20px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-price {\\n  border-radius: 8px;\\n  border: 1px solid #24398A;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 10px;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-price .title-info {\\n  font-size: 14px;\\n  font-weight: 700;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-price .price-info {\\n  font-weight: 700;\\n  color: #24398A;\\n  font-size: 32px;\\n}\\n.dialog-container .dialog-content #prev-container .prev-content .prev-price .currency-per {\\n  font-weight: 700;\\n  color: #24398A;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-content #applicable-politics .politics-category-name {\\n  font-size: 16px;\\n  font-weight: 700;\\n  color: black;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container {\\n  position: relative;\\n  width: 100%;\\n  min-height: 7.5rem;\\n  border: 2px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  overflow: hidden;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image {\\n  width: 100%;\\n  height: 120px;\\n  min-height: inherit;\\n  background: rgba(36, 57, 138, 0.04);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #24398A;\\n  cursor: pointer;\\n  gap: 0.75rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:before {\\n  content: \\\"\\\\f03e\\\";\\n  font-family: \\\"Font Awesome 5 Free\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 2.25rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:after {\\n  font-size: 1rem;\\n  content: attr(translatedContent);\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  width: 2rem;\\n  height: 2rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(36, 57, 138, 0.16);\\n  border-radius: 100%;\\n  border: none;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail i, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery i {\\n  color: var(--primary-background);\\n  font-weight: 900;\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail {\\n  position: absolute;\\n  top: 2.125rem;\\n  right: 2.125rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  position: absolute;\\n  top: 0.875rem;\\n  right: 0.875rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .gallery-img {\\n  height: 120px;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n.dialog-container .dialog-content #photo-upload .photo-type-title {\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn {\\n  position: absolute;\\n  right: 20px;\\n  top: 20px;\\n  border: none;\\n  border-radius: 20px;\\n  padding: 10px 12px;\\n  margin: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: rgba(36, 57, 138, 0.16);\\n  color: white;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn:hover {\\n  background-color: rgb(255, 0, 0);\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo {\\n  position: relative;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  width: 100%;\\n  height: 350px;\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo .prev-img {\\n  width: 100%;\\n  height: 350px;\\n  border-radius: 8px;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected {\\n  display: flex;\\n  height: 350px;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container i {\\n  font-size: 64px;\\n  font-weight: 400;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container span {\\n  font-size: 24px;\\n  font-weight: 600;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 120px;\\n  max-height: 120px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container {\\n  color: rgba(36, 57, 138, 0.16);\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container i {\\n  font-size: 36px;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container span {\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .selected-img-list {\\n  height: 120px;\\n  display: flex;\\n  position: relative;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  padding: 24px 100px;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-top: 1px solid rgba(36, 57, 138, 0.16);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/add-edit-room-modal/add-edit-room-modal.component.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n\\n// TODO De gasit o alta varianta - fara asta optiunile selectului raman in spatele modalului\\n::ng-deep .cdk-global-overlay-wrapper {\\n  z-index: 1000 !important;\\n}\\n\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 100px;\\n    background-color: #24398A;\\n\\n    h2 {\\n      color: white;\\n      font-size: 32px;\\n      font-weight: 700;\\n      margin: 0;\\n    }\\n\\n    button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 45px;\\n      height: 45px;\\n      border: 2px solid white;\\n      border-radius: 50%;\\n      background: transparent;\\n      color: white;\\n\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    padding: 0 100px;\\n    margin-top: 78px;\\n    flex: 1;\\n\\n    .section-name {\\n      font-size: 24px;\\n      color: #24398A;\\n      font-weight: 600;\\n    }\\n\\n    .section-subtitle {\\n      color: black;\\n      font-weight: 700;\\n      font-size: 20px;\\n    }\\n\\n    .add-remove-rooms {\\n      border: 1px solid #24398A;\\n      padding: 10px 15px;\\n      width: 100%;\\n      max-width: 130px;\\n      border-radius: 70px;\\n\\n      .add-remove-btn {\\n        display: flex;\\n        background: transparent;\\n        border: none;\\n        font-size: 12px;\\n        color: #24398A;\\n      }\\n    }\\n\\n    // Beds Type\\n    #beds-types {\\n      .bed-icon {\\n        font-size: 27px;\\n        color: #24398A;\\n      }\\n\\n      .bed-new-name {\\n        font-weight: 400;\\n        font-size: 12px;\\n        color: #24398A;\\n      }\\n    }\\n\\n    // Preview\\n    #prev-container {\\n      .prev-header {\\n        background-color: #24398A;\\n        border-radius: 8px 8px 0 0;\\n        padding: 12px 8px;\\n\\n        .prev-title {\\n          color: white;\\n          font-weight: 700;\\n          font-size: 24px;\\n          margin: 0;\\n        }\\n      }\\n\\n      .prev-content {\\n        border-radius: 0 0 8px 8px;\\n        padding: 12px 8px;\\n        box-shadow: 0 5px 5px 0 #efefef;\\n\\n        .prev-info {\\n          .info-name {\\n            font-weight: 700;\\n            font-size: 20px;\\n          }\\n\\n          .info-value {\\n            font-size: 20px;\\n          }\\n\\n          i {\\n            font-size: 20px;\\n            color: #24398A;\\n          }\\n        }\\n\\n        .prev-price {\\n          border-radius: 8px;\\n          border: 1px solid #24398A;\\n          display: flex;\\n          flex-direction: column;\\n          align-items: center;\\n          padding: 10px;\\n\\n          .title-info {\\n            font-size: 14px;\\n            font-weight: 700;\\n          }\\n\\n          .price-info {\\n            font-weight: 700;\\n            color: #24398A;\\n            font-size: 32px;\\n          }\\n\\n          .currency-per {\\n            font-weight: 700;\\n            color: #24398A;\\n            font-size: 14px;\\n          }\\n        }\\n      }\\n    }\\n\\n    // Applicable Politics\\n    #applicable-politics {\\n      .politics-category-name {\\n        font-size: 16px;\\n        font-weight: 700;\\n        color: black;\\n      }\\n    }\\n\\n    #photo-upload {\\n\\n      .image-container {\\n        position: relative;\\n        width: 100%;\\n        min-height: 7.5rem;\\n        //height: 120px;\\n        border: 2px solid rgba($primary-color, 0.08);\\n        border-radius: 8px;\\n        overflow: hidden;\\n\\n        & .no-image {\\n          width: 100%;\\n          height: 120px;\\n          min-height: inherit;\\n          background: rgba($primary-color, 0.04);\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          color: $primary-color;\\n          cursor: pointer;\\n          gap: 0.75rem;\\n\\n          &:before {\\n            content: '\\\\f03e';\\n            font-family: 'Font Awesome 5 Free';\\n            font-style: normal;\\n            font-weight: 400;\\n            font-size: 2.25rem;\\n          }\\n\\n          &:after {\\n            font-size: 1rem;\\n            content: attr(translatedContent);\\n          }\\n        }\\n\\n        .btn-thumbnail, .btn-gallery {\\n          width: 2rem;\\n          height: 2rem;\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          background: rgba($primary-color, 0.16);\\n          border-radius: 100%;\\n          border: none;\\n\\n          i {\\n            color: var(--primary-background);\\n            font-weight: 900;\\n            font-size: 16px;\\n          }\\n        }\\n\\n        .btn-thumbnail {\\n          position: absolute;\\n          top: 2.125rem;\\n          right: 2.125rem;\\n        }\\n\\n        .btn-gallery {\\n          position: absolute;\\n          top: 0.875rem;\\n          right: 0.875rem;\\n        }\\n\\n        .gallery-img{\\n          height: 120px;\\n          width: 100%;\\n          object-fit: cover;\\n        }\\n      }\\n\\n\\n\\n\\n\\n\\n\\n      .photo-type-title {\\n        font-size: 16px;\\n        font-weight: 400;\\n      }\\n\\n      .clear-btn {\\n        position: absolute;\\n        right: 20px;\\n        top: 20px;\\n        border: none;\\n        border-radius: 20px;\\n        padding: 10px 12px;\\n        margin: 0;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        background-color: rgba(36, 57, 138, 0.16);\\n        color: white;\\n\\n        &:hover {\\n          background-color: rgba(255, 0, 0, 1);\\n        }\\n      }\\n\\n\\n      // Thumbnail\\n      .have-selected-photo {\\n        position: relative;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        width: 100%;\\n        height: 350px;\\n\\n        .prev-img {\\n          width: 100%;\\n          height: 350px;\\n          border-radius: 8px;\\n        }\\n      }\\n\\n      .no-photo-selected {\\n\\n        display: flex;\\n        height: 350px;\\n        align-items: center;\\n        justify-content: center;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        cursor: pointer;\\n\\n        .icons-container {\\n          display: flex;\\n          align-items: center;\\n          flex-direction: column;\\n\\n          i {\\n            font-size: 64px;\\n            font-weight: 400;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n\\n          span {\\n            font-size: 24px;\\n            font-weight: 600;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n        }\\n\\n\\n      }\\n\\n      // Gallery\\n      .select-gallery-images {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        height: 120px;\\n        max-height: 120px;\\n        border-radius: 8px;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        cursor: pointer;\\n\\n        .icons-container {\\n          color: rgba(36, 57, 138, 0.16);\\n          display: flex;\\n          flex-direction: row;\\n          align-items: center;\\n          justify-content: center;\\n\\n          i {\\n            font-size: 36px;\\n          }\\n\\n          span {\\n            font-size: 16px;\\n          }\\n        }\\n      }\\n\\n      .selected-img-list {\\n        height: 120px;\\n        display: flex;\\n        position: relative;\\n      }\\n    }\\n\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    padding: 24px 100px;\\n    align-items: center;\\n    justify-content: space-between;\\n    border-top: 1px solid rgba(36, 57, 138, 0.16);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 600;\\n  margin-bottom: 24px;\\n}\\n.dialog-container .dialog-header p {\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 48px;\\n}\\n.dialog-container .dialog-content .section-title {\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content .section-title span {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-content .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 2px solid rgba(36, 57, 138, 0.36);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n.dialog-container .dialog-content .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n.dialog-container .dialog-content .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/delete-room-modal/delete-room-modal.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;AACF;AAII;EACE,cAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAFN;AAKI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAHN;AASE;EACE,yBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAPJ;AASI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPN;AASM;EACE,gBAAA;EACA,eAAA;AAPR;AAWI;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AATN;AAWM;EACE,cAAA;EACA,eAAA;AATR;AAYM;EACE,gBAAA;EACA,eAAA;AAVR;AAgBE;EACE,aAAA;EACA,SAAA;EACA,mBAAA;AAdJ\",\"sourcesContent\":[\".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n\\n    h2 {\\n      color: #24398A;\\n      font-size: 24px;\\n      font-weight: 600;\\n      margin-bottom: 24px;\\n    }\\n\\n    p {\\n      font-weight: 400;\\n      font-size: 16px;\\n      color: #231F20;\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    border: 1px solid #24398A;\\n    border-radius: 8px;\\n    padding: 16px;\\n    margin-bottom: 48px;\\n\\n    .section-title {\\n      font-weight: 700;\\n      font-size: 14px;\\n      color: #231F20;\\n\\n      span {\\n        font-weight: 400;\\n        font-size: 14px;\\n      }\\n    }\\n\\n    .bed-type {\\n      display: flex;\\n      align-items: center;\\n      border: 2px solid rgba(36, 57, 138, 0.36);\\n      border-radius: 90px;\\n      padding: 15px 0 15px 20px;\\n\\n      i {\\n        color: #24398A;\\n        font-size: 27px;\\n      }\\n\\n      span {\\n        font-weight: 700;\\n        font-size: 12px;\\n      }\\n    }\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    gap: 20px;\\n    align-items: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#rental-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#rental-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#rental-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#rental-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#rental-booking .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#rental-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#rental-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#rental-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#rental-booking .list-content .add-room-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#rental-booking #room-list {\\n  max-height: 900px;\\n  overflow-y: auto;\\n}\\n#rental-booking #room-list .room-container {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n}\\n#rental-booking #room-list .room-container .room-header {\\n  background-color: #24398A;\\n  padding: 8px 12px;\\n  border-radius: 8px 0 0 0;\\n}\\n#rental-booking #room-list .room-container .room-header h4 {\\n  color: white;\\n  margin: 0;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n#rental-booking #room-list .room-container .room-body {\\n  padding: 8px 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title {\\n  font-weight: 700;\\n  color: black;\\n  font-size: 14px;\\n  margin-bottom: 0;\\n}\\n#rental-booking #room-list .room-container .room-body .section-title span {\\n  font-weight: 400;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type {\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 90px;\\n  padding: 15px 0 15px 20px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type i {\\n  color: #24398A;\\n  font-size: 27px;\\n}\\n#rental-booking #room-list .room-container .room-body .bed-type span {\\n  font-weight: 700;\\n  font-size: 12px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price, #rental-booking #room-list .room-container .room-body .weekend-price {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 12px 24px;\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price h5, #rental-booking #room-list .room-container .room-body .weekend-price h5 {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: black;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price, #rental-booking #room-list .room-container .room-body .weekend-price .price {\\n  font-weight: 700;\\n  font-size: 48px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .room-body .regular-price .price-per-night, #rental-booking #room-list .room-container .room-body .weekend-price .price-per-night {\\n  font-weight: 700;\\n  font-size: 16px;\\n  color: #24398A;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n  border-radius: 0 8px 0 0;\\n  border: 0;\\n  color: white;\\n  width: 40px;\\n  height: 45px;\\n}\\n#rental-booking #room-list .room-container .delete-room-btn i {\\n  font-size: 20px;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  border-radius: 0 0 8px 0;\\n  border: 0;\\n  height: 50px;\\n  color: white;\\n}\\n#rental-booking #room-list .room-container .edit-room-btn i {\\n  font-size: 15px;\\n}\\n#rental-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#rental-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/rental-booking/rental-booking.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAIE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AADJ;AAGI;EACE,eAAA;EACA,cAAA;AADN;AAII;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAFN;AAME;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAJJ;AAOE;EACE,mBAAA;EACA,4FAAA;AALJ;AAQE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AANJ;AAQI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AANN;AAUE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AARJ;AAWI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AATN;AAcE;EACE,iBAAA;EACA,gBAAA;AAZJ;AAcI;EACE,kBAAA;EACA,yCAAA;AAZN;AAcM;EACE,yBAAA;EACA,iBAAA;EACA,wBAAA;AAZR;AAcQ;EACE,YAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;AAZV;AAgBM;EACE,iBAAA;AAdR;AAgBQ;EACE,gBAAA;EACA,YAAA;EACA,eAAA;EACA,gBAAA;AAdV;AAgBU;EACE,gBAAA;AAdZ;AAkBQ;EACE,aAAA;EACA,mBAAA;EACA,yCAAA;EACA,mBAAA;EACA,yBAAA;AAhBV;AAkBU;EACE,cAAA;EACA,eAAA;AAhBZ;AAmBU;EACE,gBAAA;EACA,eAAA;AAjBZ;AAqBQ;EACE,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;EACA,kBAAA;AAnBV;AAqBU;EACE,gBAAA;EACA,eAAA;EACA,YAAA;AAnBZ;AAsBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AApBZ;AAuBU;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AArBZ;AA0BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iIAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAxBR;AA0BQ;EACE,eAAA;AAxBV;AA4BM;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iKAAA;EACA,wBAAA;EACA,SAAA;EACA,YAAA;EACA,YAAA;AA1BR;AA4BQ;EAEE,eAAA;AA3BV;AAkCE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAhCJ;AAkCI;EACE,aAAA;EACA,uBAAA;AAhCN\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n#rental-booking {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n\\n    .add-room-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n\\n  #room-list {\\n    max-height: 900px;\\n    overflow-y: auto;\\n\\n    .room-container {\\n      border-radius: 8px;\\n      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.08);\\n\\n      .room-header {\\n        background-color: #24398A;\\n        padding: 8px 12px;\\n        border-radius: 8px 0 0 0;\\n\\n        h4 {\\n          color: white;\\n          margin: 0;\\n          font-size: 24px;\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .room-body {\\n        padding: 8px 12px;\\n\\n        .section-title {\\n          font-weight: 700;\\n          color: black;\\n          font-size: 14px;\\n          margin-bottom: 0;\\n\\n          span {\\n            font-weight: 400;\\n          }\\n        }\\n\\n        .bed-type {\\n          display: flex;\\n          align-items: center;\\n          border: 1px solid rgba(36, 57, 138, 0.16);\\n          border-radius: 90px;\\n          padding: 15px 0 15px 20px;\\n\\n          i {\\n            color: #24398A;\\n            font-size: 27px;\\n          }\\n\\n          span {\\n            font-weight: 700;\\n            font-size: 12px;\\n          }\\n        }\\n\\n        .regular-price, .weekend-price {\\n          display: flex;\\n          flex-direction: column;\\n          justify-content: center;\\n          align-items: center;\\n          padding: 12px 24px;\\n          border: 1px solid #24398A;\\n          border-radius: 8px;\\n\\n          h5 {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: black;\\n          }\\n\\n          .price {\\n            font-weight: 700;\\n            font-size: 48px;\\n            color: #24398A;\\n          }\\n\\n          .price-per-night {\\n            font-weight: 700;\\n            font-size: 16px;\\n            color: #24398A;\\n          }\\n        }\\n      }\\n\\n      .delete-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, #24398A, #24398A), #FFFFFF;\\n        border-radius: 0 8px 0 0;\\n        border: 0;\\n        color: white;\\n        width: 40px;\\n        height: 45px;\\n\\n        i {\\n          font-size: 20px;\\n        }\\n      }\\n\\n      .edit-room-btn {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        border-radius: 0 0 8px 0;\\n        border: 0;\\n        height: 50px;\\n        color: white;\\n\\n        i {\\n\\n          font-size: 15px;\\n        }\\n      }\\n    }\\n  }\\n\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 25px 100px;\\n  background-color: #24398A;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: white;\\n  font-size: 32px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.dialog-container .dialog-header button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 45px;\\n  height: 45px;\\n  border: 2px solid white;\\n  border-radius: 50%;\\n  background: transparent;\\n  color: white;\\n}\\n.dialog-container .dialog-content {\\n  padding: 0 46px;\\n  margin-top: 78px;\\n  flex: 1;\\n}\\n.dialog-container .dialog-content .section-name {\\n  font-size: 24px;\\n  color: #24398A;\\n  font-weight: 600;\\n}\\n.dialog-container .dialog-content .limit-check {\\n  height: 57px;\\n}\\n.dialog-container .dialog-content .section-subtitle {\\n  color: black;\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content .tab-content {\\n  padding: 24px;\\n}\\n.dialog-container .dialog-content .tab-content .add-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container {\\n  position: relative;\\n  width: 100%;\\n  min-height: 7.5rem;\\n  border: 2px solid rgba(36, 57, 138, 0.08);\\n  border-radius: 8px;\\n  overflow: hidden;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image {\\n  width: 100%;\\n  height: 120px;\\n  min-height: inherit;\\n  background: rgba(36, 57, 138, 0.04);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: #24398A;\\n  cursor: pointer;\\n  gap: 0.75rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:before {\\n  content: \\\"\\\\f03e\\\";\\n  font-family: \\\"Font Awesome 5 Free\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 2.25rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .no-image:after {\\n  font-size: 1rem;\\n  content: attr(translatedContent);\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  width: 2rem;\\n  height: 2rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(36, 57, 138, 0.16);\\n  border-radius: 100%;\\n  border: none;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail i, .dialog-container .dialog-content #photo-upload .image-container .btn-gallery i {\\n  color: var(--primary-background);\\n  font-weight: 900;\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-thumbnail {\\n  position: absolute;\\n  top: 2.125rem;\\n  right: 2.125rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .btn-gallery {\\n  position: absolute;\\n  top: 0.875rem;\\n  right: 0.875rem;\\n}\\n.dialog-container .dialog-content #photo-upload .image-container .gallery-img {\\n  height: 120px;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n.dialog-container .dialog-content #photo-upload .photo-type-title {\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn {\\n  position: absolute;\\n  right: 20px;\\n  top: 20px;\\n  border: none;\\n  border-radius: 20px;\\n  padding: 10px 12px;\\n  margin: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: rgba(36, 57, 138, 0.16);\\n  color: white;\\n}\\n.dialog-container .dialog-content #photo-upload .clear-btn:hover {\\n  background-color: rgb(255, 0, 0);\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo {\\n  position: relative;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  width: 100%;\\n  height: 350px;\\n}\\n.dialog-container .dialog-content #photo-upload .have-selected-photo .prev-img {\\n  width: 100%;\\n  height: 350px;\\n  border-radius: 8px;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected {\\n  display: flex;\\n  height: 350px;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  border-radius: 8px;\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container i {\\n  font-size: 64px;\\n  font-weight: 400;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .no-photo-selected .icons-container span {\\n  font-size: 24px;\\n  font-weight: 600;\\n  color: rgba(36, 57, 138, 0.16);\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 120px;\\n  max-height: 120px;\\n  border-radius: 8px;\\n  border: 1px solid rgba(36, 57, 138, 0.16);\\n  cursor: pointer;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container {\\n  color: rgba(36, 57, 138, 0.16);\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container i {\\n  font-size: 36px;\\n}\\n.dialog-container .dialog-content #photo-upload .select-gallery-images .icons-container span {\\n  font-size: 16px;\\n}\\n.dialog-container .dialog-content #photo-upload .selected-img-list {\\n  height: 120px;\\n  display: flex;\\n  position: relative;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  padding: 24px 100px;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-top: 1px solid rgba(36, 57, 138, 0.16);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/add-edit-service/add-edit-service.component.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"/src/app/theme/styles/components/colors\\\";\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 100px;\\n    background-color: #24398A;\\n\\n    h2 {\\n      color: white;\\n      font-size: 32px;\\n      font-weight: 700;\\n      margin: 0;\\n    }\\n\\n    button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 45px;\\n      height: 45px;\\n      border: 2px solid white;\\n      border-radius: 50%;\\n      background: transparent;\\n      color: white;\\n\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    padding: 0 46px;\\n    margin-top: 78px;\\n    flex: 1;\\n\\n    .section-name {\\n      font-size: 24px;\\n      color: #24398A;\\n      font-weight: 600;\\n    }\\n\\n    .limit-check{\\n      height: 57px;\\n    }\\n\\n    .section-subtitle {\\n      color: black;\\n      font-weight: 700;\\n      font-size: 20px;\\n    }\\n\\n    .tab-content{\\n      padding: 24px;\\n\\n      .add-btn {\\n        border-radius: 8px;\\n        border: 1px dotted rgba(36, 57, 138, 0.16);\\n        background-color: transparent;\\n        width: 100%;\\n        padding: 15px 0;\\n        color: rgba(36, 57, 138, 0.16);\\n        font-weight: 600;\\n        font-size: 16px;\\n      }\\n    }\\n\\n    #photo-upload {\\n\\n      .image-container {\\n        position: relative;\\n        width: 100%;\\n        min-height: 7.5rem;\\n        //height: 120px;\\n        border: 2px solid rgba($primary-color, 0.08);\\n        border-radius: 8px;\\n        overflow: hidden;\\n\\n        & .no-image {\\n          width: 100%;\\n          height: 120px;\\n          min-height: inherit;\\n          background: rgba($primary-color, 0.04);\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          color: $primary-color;\\n          cursor: pointer;\\n          gap: 0.75rem;\\n\\n          &:before {\\n            content: '\\\\f03e';\\n            font-family: 'Font Awesome 5 Free';\\n            font-style: normal;\\n            font-weight: 400;\\n            font-size: 2.25rem;\\n          }\\n\\n          &:after {\\n            font-size: 1rem;\\n            content: attr(translatedContent);\\n          }\\n        }\\n\\n        .btn-thumbnail, .btn-gallery {\\n          width: 2rem;\\n          height: 2rem;\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          background: rgba($primary-color, 0.16);\\n          border-radius: 100%;\\n          border: none;\\n\\n          i {\\n            color: var(--primary-background);\\n            font-weight: 900;\\n            font-size: 16px;\\n          }\\n        }\\n\\n        .btn-thumbnail {\\n          position: absolute;\\n          top: 2.125rem;\\n          right: 2.125rem;\\n        }\\n\\n        .btn-gallery {\\n          position: absolute;\\n          top: 0.875rem;\\n          right: 0.875rem;\\n        }\\n\\n        .gallery-img{\\n          height: 120px;\\n          width: 100%;\\n          object-fit: cover;\\n        }\\n      }\\n\\n\\n\\n\\n\\n\\n\\n      .photo-type-title {\\n        font-size: 16px;\\n        font-weight: 400;\\n      }\\n\\n      .clear-btn {\\n        position: absolute;\\n        right: 20px;\\n        top: 20px;\\n        border: none;\\n        border-radius: 20px;\\n        padding: 10px 12px;\\n        margin: 0;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        background-color: rgba(36, 57, 138, 0.16);\\n        color: white;\\n\\n        &:hover {\\n          background-color: rgba(255, 0, 0, 1);\\n        }\\n      }\\n\\n\\n      // Thumbnail\\n      .have-selected-photo {\\n        position: relative;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        width: 100%;\\n        height: 350px;\\n\\n        .prev-img {\\n          width: 100%;\\n          height: 350px;\\n          border-radius: 8px;\\n        }\\n      }\\n\\n      .no-photo-selected {\\n\\n        display: flex;\\n        height: 350px;\\n        align-items: center;\\n        justify-content: center;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        border-radius: 8px;\\n        cursor: pointer;\\n\\n        .icons-container {\\n          display: flex;\\n          align-items: center;\\n          flex-direction: column;\\n\\n          i {\\n            font-size: 64px;\\n            font-weight: 400;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n\\n          span {\\n            font-size: 24px;\\n            font-weight: 600;\\n            color: rgba(36, 57, 138, 0.16);\\n          }\\n        }\\n\\n\\n      }\\n\\n      // Gallery\\n      .select-gallery-images {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        height: 120px;\\n        max-height: 120px;\\n        border-radius: 8px;\\n        border: 1px solid rgba(36, 57, 138, 0.16);\\n        cursor: pointer;\\n\\n        .icons-container {\\n          color: rgba(36, 57, 138, 0.16);\\n          display: flex;\\n          flex-direction: row;\\n          align-items: center;\\n          justify-content: center;\\n\\n          i {\\n            font-size: 36px;\\n          }\\n\\n          span {\\n            font-size: 16px;\\n          }\\n        }\\n      }\\n\\n      .selected-img-list {\\n        height: 120px;\\n        display: flex;\\n        position: relative;\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    padding: 24px 100px;\\n    align-items: center;\\n    justify-content: space-between;\\n    border-top: 1px solid rgba(36, 57, 138, 0.16);\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 600;\\n  margin-bottom: 24px;\\n}\\n.dialog-container .dialog-header p {\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 48px;\\n}\\n.dialog-container .dialog-content .section-title {\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content .section-title span {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/delete-modal-service/delete-modal-service.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;AACF;AAII;EACE,cAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAFN;AAKI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAHN;AASE;EACE,yBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAPJ;AASI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPN;AASM;EACE,gBAAA;EACA,eAAA;AAPR;AAcE;EACE,aAAA;EACA,SAAA;EACA,mBAAA;AAZJ\",\"sourcesContent\":[\".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n\\n    h2 {\\n      color: #24398A;\\n      font-size: 24px;\\n      font-weight: 600;\\n      margin-bottom: 24px;\\n    }\\n\\n    p {\\n      font-weight: 400;\\n      font-size: 16px;\\n      color: #231F20;\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    border: 1px solid #24398A;\\n    border-radius: 8px;\\n    padding: 16px;\\n    margin-bottom: 48px;\\n\\n    .section-title {\\n      font-weight: 700;\\n      font-size: 14px;\\n      color: #231F20;\\n\\n      span {\\n        font-weight: 400;\\n        font-size: 14px;\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    gap: 20px;\\n    align-items: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#booking-timeslots .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#booking-timeslots .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#booking-timeslots .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#booking-timeslots .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#booking-timeslots .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#booking-timeslots .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#booking-timeslots .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#booking-timeslots .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#booking-timeslots .list-content .ticket-list {\\n  width: 100%;\\n}\\n#booking-timeslots .list-content .ticket-list .btn-delete {\\n  background-color: #24398A;\\n  color: #FFFFFF;\\n  border-top-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#booking-timeslots .list-content .ticket-list .btn-edit {\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  color: #FFFFFF;\\n  border-bottom-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#booking-timeslots .list-content .add-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#booking-timeslots .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#booking-timeslots .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/service-booking-time-slots/service-booking-time-slots.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAKE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAFJ;AAII;EACE,eAAA;EACA,cAAA;AAFN;AAKI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAHN;AAOE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AALJ;AAQE;EACE,mBAAA;EACA,4FAAA;AANJ;AASE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AAPJ;AASI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AAPN;AAYE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AAVJ;AAYI;EACE,WAAA;AAVN;AAWM;EACE,yBAAA;EACA,cAAA;EACA,4BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AATR;AAYM;EACE,iKAAA;EACA,cAAA;EACA,+BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAVR;AAeI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAbN;AAiBE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAfJ;AAiBI;EACE,aAAA;EACA,uBAAA;AAfN\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#booking-timeslots {\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n    .ticket-list{\\n      width: 100%;\\n      .btn-delete{\\n        background-color:#24398A;\\n        color: #FFFFFF;\\n        border-top-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n\\n      .btn-edit{\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        color: #FFFFFF;\\n        border-bottom-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n    }\\n\\n\\n    .add-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 25px 100px;\\n  background-color: #24398A;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: white;\\n  font-size: 32px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.dialog-container .dialog-header button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 45px;\\n  height: 45px;\\n  border: 2px solid white;\\n  border-radius: 50%;\\n  background: transparent;\\n  color: white;\\n}\\n.dialog-container .dialog-content {\\n  padding: 0 100px;\\n  margin-top: 78px;\\n  flex: 1;\\n}\\n.dialog-container .dialog-content .section-name {\\n  font-size: 24px;\\n  color: #24398A;\\n  font-weight: 600;\\n}\\n.dialog-container .dialog-content .limit-check {\\n  height: 57px;\\n}\\n.dialog-container .dialog-content .section-subtitle {\\n  color: black;\\n  font-weight: 700;\\n  font-size: 20px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets {\\n  border: 1px solid #24398A;\\n  padding: 10px 15px;\\n  width: 100%;\\n  max-width: 130px;\\n  border-radius: 70px;\\n}\\n.dialog-container .dialog-content .add-remove-tickets .add-remove-btn {\\n  display: flex;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  color: #24398A;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  padding: 24px 100px;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-top: 1px solid rgba(36, 57, 138, 0.16);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/add-edit-ticket/add-edit-ticket.component.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,YAAA;EACA,aAAA;EACA,sBAAA;AAAF;AAGE;EACE,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,8BAAA;EACA,mBAAA;EACA,yBAAA;AADJ;AAGI;EACE,YAAA;EACA,eAAA;EACA,gBAAA;EACA,SAAA;AADN;AAII;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,WAAA;EACA,YAAA;EACA,uBAAA;EACA,kBAAA;EACA,uBAAA;EACA,YAAA;AAFN;AASE;EACE,gBAAA;EACA,gBAAA;EACA,OAAA;AAPJ;AASI;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AAPN;AAUI;EACE,YAAA;AARN;AAWI;EACE,YAAA;EACA,gBAAA;EACA,eAAA;AATN;AAYI;EACE,yBAAA;EACA,kBAAA;EACA,WAAA;EACA,gBAAA;EACA,mBAAA;AAVN;AAYM;EACE,aAAA;EACA,uBAAA;EACA,YAAA;EACA,eAAA;EACA,cAAA;AAVR;AAiBE;EACE,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,8BAAA;EACA,6CAAA;AAfJ\",\"sourcesContent\":[\"\\n.dialog-container {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 100px;\\n    background-color: #24398A;\\n\\n    h2 {\\n      color: white;\\n      font-size: 32px;\\n      font-weight: 700;\\n      margin: 0;\\n    }\\n\\n    button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 45px;\\n      height: 45px;\\n      border: 2px solid white;\\n      border-radius: 50%;\\n      background: transparent;\\n      color: white;\\n\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    padding: 0 100px;\\n    margin-top: 78px;\\n    flex: 1;\\n\\n    .section-name {\\n      font-size: 24px;\\n      color: #24398A;\\n      font-weight: 600;\\n    }\\n\\n    .limit-check{\\n      height: 57px;\\n    }\\n\\n    .section-subtitle {\\n      color: black;\\n      font-weight: 700;\\n      font-size: 20px;\\n    }\\n\\n    .add-remove-tickets {\\n      border: 1px solid #24398A;\\n      padding: 10px 15px;\\n      width: 100%;\\n      max-width: 130px;\\n      border-radius: 70px;\\n\\n      .add-remove-btn {\\n        display: flex;\\n        background: transparent;\\n        border: none;\\n        font-size: 12px;\\n        color: #24398A;\\n      }\\n    }\\n\\n}\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    padding: 24px 100px;\\n    align-items: center;\\n    justify-content: space-between;\\n    border-top: 1px solid rgba(36, 57, 138, 0.16);\\n  }\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dialog-container .dialog-header h2 {\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 600;\\n  margin-bottom: 24px;\\n}\\n.dialog-container .dialog-header p {\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 48px;\\n}\\n.dialog-container .dialog-content .section-title {\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #231F20;\\n}\\n.dialog-container .dialog-content .section-title span {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n.dialog-container .dialog-footer {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/delete-ticket/delete-ticket.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;AACF;AAII;EACE,cAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAFN;AAKI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAHN;AASE;EACE,yBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAPJ;AASI;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AAPN;AASM;EACE,gBAAA;EACA,eAAA;AAPR;AAcE;EACE,aAAA;EACA,SAAA;EACA,mBAAA;AAZJ\",\"sourcesContent\":[\".dialog-container {\\n  padding: 48px 52px;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\\n  // Header\\n  .dialog-header {\\n\\n    h2 {\\n      color: #24398A;\\n      font-size: 24px;\\n      font-weight: 600;\\n      margin-bottom: 24px;\\n    }\\n\\n    p {\\n      font-weight: 400;\\n      font-size: 16px;\\n      color: #231F20;\\n    }\\n\\n  }\\n\\n  // Content\\n  .dialog-content {\\n    border: 1px solid #24398A;\\n    border-radius: 8px;\\n    padding: 16px;\\n    margin-bottom: 48px;\\n\\n    .section-title {\\n      font-weight: 700;\\n      font-size: 14px;\\n      color: #231F20;\\n\\n      span {\\n        font-weight: 400;\\n        font-size: 14px;\\n      }\\n    }\\n\\n  }\\n\\n  // Footer\\n  .dialog-footer {\\n    display: flex;\\n    gap: 20px;\\n    align-items: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".save-btn {\\n  margin-top: -90px;\\n}\\n.save-btn button:disabled {\\n  border: 2px solid rgba(35, 31, 32, 0.48);\\n  background: rgba(36, 57, 138, 0) !important;\\n  color: rgba(35, 31, 32, 0.48);\\n}\\n\\n#ticket-booking .tab-section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n#ticket-booking .tab-section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n#ticket-booking .tab-section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n#ticket-booking .section-title {\\n  font-weight: 600;\\n  font-size: 24px;\\n  color: #24398A;\\n}\\n#ticket-booking .section-content {\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n#ticket-booking .section-content .content-tickets {\\n  padding: 46px 100px;\\n}\\n#ticket-booking .list-title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: rgba(36, 57, 138, 0.1607843137);\\n  padding: 10px 0;\\n  border-radius: 8px 8px 0 0;\\n}\\n#ticket-booking .list-title .title {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #24398A;\\n  margin: 0;\\n}\\n#ticket-booking .list-content {\\n  background-color: rgba(36, 57, 138, 0.08);\\n  border-radius: 0 0 8px 8px;\\n  padding: 20px;\\n}\\n#ticket-booking .list-content .ticket-list {\\n  width: 100%;\\n}\\n#ticket-booking .list-content .ticket-list .btn-delete {\\n  background-color: #24398A;\\n  color: #FFFFFF;\\n  border-top-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#ticket-booking .list-content .ticket-list .btn-edit {\\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n  color: #FFFFFF;\\n  border-bottom-right-radius: 8px;\\n  border: none;\\n  width: 40px;\\n  height: 50px;\\n}\\n#ticket-booking .list-content .add-btn {\\n  border-radius: 8px;\\n  border: 1px dotted rgba(36, 57, 138, 0.16);\\n  background-color: transparent;\\n  width: 100%;\\n  padding: 15px 0;\\n  color: rgba(36, 57, 138, 0.16);\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n#ticket-booking .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n#ticket-booking .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-content/configurate-edit/setup/ticket-booking/ticket-booking.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF;AACE;EACE,wCAAA;EACA,2CAAA;EACA,6BAAA;AACJ;;AAKE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAFJ;AAII;EACE,eAAA;EACA,cAAA;AAFN;AAKI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AAHN;AAOE;EACE,gBAAA;EACA,eAAA;EACA,cAAA;AALJ;AAQE;EAEE,4FAAA;AAPJ;AASI;EACE,mBAAA;AAPN;AAWE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,iDAAA;EACA,eAAA;EACA,0BAAA;AATJ;AAWI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,SAAA;AATN;AAaE;EACE,yCAAA;EACA,0BAAA;EACA,aAAA;AAXJ;AAaI;EACE,WAAA;AAXN;AAYM;EACE,yBAAA;EACA,cAAA;EACA,4BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAVR;AAaM;EACE,iKAAA;EACA,cAAA;EACA,+BAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AAXR;AAgBI;EACE,kBAAA;EACA,0CAAA;EACA,6BAAA;EACA,WAAA;EACA,eAAA;EACA,8BAAA;EACA,gBAAA;EACA,eAAA;AAdN;AAkBE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAhBJ;AAkBI;EACE,aAAA;EACA,uBAAA;AAhBN\",\"sourcesContent\":[\".save-btn{\\n  margin-top: -90px;\\n\\n  button:disabled{\\n    border: 2px solid rgba(#231F20, 48%);\\n    background: rgba(#24398A, 0%) !important;\\n    color: rgba(#231F20, 48%);\\n  }\\n}\\n\\n#ticket-booking{\\n\\n  .tab-section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-title {\\n    font-weight: 600;\\n    font-size: 24px;\\n    color: #24398A;\\n  }\\n\\n  .section-content {\\n    //padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n\\n    .content-tickets{\\n      padding: 46px 100px;\\n    }\\n  }\\n\\n  .list-title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #24398A29;\\n    padding: 10px 0;\\n    border-radius: 8px 8px 0 0;\\n\\n    .title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #24398A;\\n      margin: 0;\\n    }\\n  }\\n\\n  .list-content {\\n    background-color: rgba(36, 57, 138, 0.08);\\n    border-radius: 0 0 8px 8px;\\n    padding: 20px;\\n\\n    .ticket-list{\\n      width: 100%;\\n      .btn-delete{\\n        background-color:#24398A;\\n        color: #FFFFFF;\\n        border-top-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n\\n      .btn-edit{\\n        background: linear-gradient(90deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 50%), linear-gradient(0deg, rgba(36, 57, 138, 0.48), rgba(36, 57, 138, 0.48)), #FFFFFF;\\n        color: #FFFFFF;\\n        border-bottom-right-radius: 8px;\\n        border:none;\\n        width: 40px;\\n        height: 50px;\\n      }\\n    }\\n\\n\\n    .add-btn {\\n      border-radius: 8px;\\n      border: 1px dotted rgba(36, 57, 138, 0.16);\\n      background-color: transparent;\\n      width: 100%;\\n      padding: 15px 0;\\n      color: rgba(36, 57, 138, 0.16);\\n      font-weight: 600;\\n      font-size: 16px;\\n    }\\n  }\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  }\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".steps-container {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  gap: 12px;\\n  margin-top: 15px;\\n  margin-bottom: 27px;\\n}\\n.steps-container .step-content {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.steps-container .step-content .step-name {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: rgba(36, 57, 138, 0.24);\\n}\\n.steps-container .step-content .step-completion {\\n  background: rgba(36, 57, 138, 0.24);\\n  width: 100%;\\n  height: 13px;\\n}\\n.steps-container .step-content.selected .step-name {\\n  color: #24398A;\\n}\\n.steps-container .step-content.selected .step-completion {\\n  background: #24398A;\\n}\\n\\nnav {\\n  --bs-breadcrumb-divider: \\\"/\\\";\\n  --bs-breadcrumb-font-size:18px;\\n  --bs-breadcrumb-color: #24398A;\\n}\\nnav a {\\n  color: #24398A;\\n  font-size: 18px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/components/stepper-title-list/stepper-title-list.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,eAAA;EACA,mBAAA;EACA,8BAAA;EACA,SAAA;EACA,gBAAA;EACA,mBAAA;AACF;AAEE;EACE,YAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;AAAJ;AAEI;EACE,eAAA;EACA,gBAAA;EACA,8BAAA;AAAN;AAGI;EACE,mCAAA;EACA,WAAA;EACA,YAAA;AADN;AAKM;EACE,cAAA;AAHR;AAMM;EACE,mBAAA;AAJR;;AAWA;EACE,4BAAA;EACA,8BAAA;EACA,8BAAA;AARF;AAUE;EACE,cAAA;EACA,eAAA;AARJ\",\"sourcesContent\":[\".steps-container {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  gap: 12px;\\n  margin-top: 15px;\\n  margin-bottom: 27px;\\n\\n\\n  .step-content {\\n    flex-grow: 1;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n\\n    .step-name {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: rgba(36, 57, 138, 0.24);\\n    }\\n\\n    .step-completion {\\n      background: rgba(36, 57, 138, 0.24);\\n      width: 100%;\\n      height: 13px;\\n    }\\n\\n    &.selected {\\n      .step-name {\\n        color: #24398A;\\n      }\\n\\n      .step-completion {\\n        background: #24398A;\\n\\n      }\\n    }\\n  }\\n}\\n\\nnav{\\n  --bs-breadcrumb-divider: '/';\\n  --bs-breadcrumb-font-size:18px;\\n  --bs-breadcrumb-color: #24398A;\\n\\n  a{\\n    color: #24398A;\\n    font-size: 18px;\\n    //cursor: pointer;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".page-title {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 42px;\\n}\\n.page-title h1 {\\n  color: #24398A;\\n  font-size: 32px;\\n  margin: 0;\\n}\\n.page-title .btn-hidden {\\n  background-color: transparent;\\n  color: #edf0fa;\\n}\\n.page-title .btn-hidden:hover {\\n  box-shadow: none;\\n}\\n\\n.stepper-card-title {\\n  background-color: white;\\n  padding: 24px 72px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n.stepper-card-title h2 {\\n  margin: 0;\\n  color: #24398A;\\n  font-size: 24px;\\n  font-weight: 700;\\n}\\n\\n.stepper-card-content {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 21px;\\n  background-color: white;\\n  padding: 32px 24px;\\n}\\n\\n.configure-edit-layout {\\n  margin-bottom: 50px;\\n}\\n.configure-edit-layout .section-title {\\n  display: flex;\\n  align-items: center;\\n  background-color: white;\\n  padding: 16px 25px;\\n  border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n}\\n.configure-edit-layout .section-title i {\\n  font-size: 32px;\\n  color: #24398A;\\n}\\n.configure-edit-layout .section-title h2 {\\n  font-size: 24px;\\n  font-weight: 700;\\n  color: #24398A;\\n  margin-left: 10px;\\n  margin-bottom: 0;\\n}\\n.configure-edit-layout .section-content {\\n  padding: 46px 100px;\\n  background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n}\\n.configure-edit-layout .facility-category-name {\\n  font-size: 24px;\\n  color: #231F20;\\n  font-weight: 700;\\n}\\n.configure-edit-layout .stepper-step-controller {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: white;\\n  padding: 25px 40px;\\n}\\n.configure-edit-layout .stepper-step-controller .next-step {\\n  display: flex;\\n  justify-content: center;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/pages/add-resource/add-resource.component.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,aAAA;EACA,eAAA;EACA,mBAAA;EACA,8BAAA;EACA,mBAAA;AAAF;AAEE;EACE,cAAA;EACA,eAAA;EACA,SAAA;AAAJ;AAGE;EACE,6BAAA;EACA,cAAA;AADJ;AAEI;EACE,gBAAA;AAAN;;AAKA;EACE,uBAAA;EACA,kBAAA;EACA,wDAAA;AAFF;AAIE;EACE,SAAA;EACA,cAAA;EACA,eAAA;EACA,gBAAA;AAFJ;;AAMA;EACE,aAAA;EACA,eAAA;EACA,mBAAA;EACA,uBAAA;EACA,SAAA;EAEA,uBAAA;EACA,kBAAA;AAJF;;AASA;EAEE,mBAAA;AAPF;AASE;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;EACA,wDAAA;AAPJ;AASI;EACE,eAAA;EACA,cAAA;AAPN;AAUI;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;AARN;AAYE;EACE,mBAAA;EACA,4FAAA;AAVJ;AAcE;EACE,eAAA;EACA,cAAA;EACA,gBAAA;AAZJ;AAeE;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,iBAAA;EACA,kBAAA;AAbJ;AAeI;EACE,aAAA;EACA,uBAAA;AAbN\",\"sourcesContent\":[\"\\n.page-title {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 42px;\\n\\n  h1 {\\n    color: #24398A;\\n    font-size: 32px;\\n    margin: 0;\\n  }\\n\\n  .btn-hidden {\\n    background-color: transparent;\\n    color: #edf0fa;\\n    &:hover{\\n      box-shadow: none;\\n    }\\n  }\\n}\\n\\n.stepper-card-title {\\n  background-color: white;\\n  padding: 24px 72px;\\n  border-bottom: solid #24398A29 1px;\\n\\n  h2 {\\n    margin: 0;\\n    color: #24398A;\\n    font-size: 24px;\\n    font-weight: 700;\\n  }\\n}\\n\\n.stepper-card-content {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 21px;\\n\\n  background-color: white;\\n  padding: 32px 24px;\\n}\\n\\n\\n//Add && Edit Layout\\n.configure-edit-layout {\\n\\n  margin-bottom: 50px;\\n\\n  .section-title {\\n    display: flex;\\n    align-items: center;\\n    background-color: white;\\n    padding: 16px 25px;\\n    border-bottom: solid rgba(36, 57, 138, 0.1607843137) 1px;\\n\\n    i {\\n      font-size: 32px;\\n      color: #24398A;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      font-weight: 700;\\n      color: #24398A;\\n      margin-left: 10px;\\n      margin-bottom: 0;\\n    }\\n  }\\n\\n  .section-content {\\n    padding: 46px 100px;\\n    background: linear-gradient(0deg, rgba(36, 57, 138, 0.04), rgba(36, 57, 138, 0.04)), #FFFFFF;\\n  }\\n\\n  // Facility Section\\n  .facility-category-name {\\n    font-size: 24px;\\n    color: #231F20;\\n    font-weight: 700;\\n  }\\n\\n  .stepper-step-controller {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background: white;\\n    padding: 25px 40px;\\n\\n    .next-step {\\n      display: flex;\\n      justify-content: center;\\n    }\\n\\n  }\\n\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".shared {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\\n.not-shared {\\n  display: none;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/features/resources/pages/resources-list/resources-list.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,qBAAA;EACA,kBAAA;AACJ;;AACA;EACI,aAAA;AAEJ\",\"sourcesContent\":[\".shared{\\n    display: inline-block;\\n    margin-right: 10px;\\n}\\n.not-shared{\\n    display: none;\\n}\\n// .drop-down-panel.mat-select-panel{\\n//     background: rgba(255, 0, 0, 0.5)!important;\\n// }\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.card-list {\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n  border: 1px solid #24398A;\\n  background-color: #24398A;\\n}\\n.card-list .card-body {\\n  background-color: var(--primary-background);\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n}\\n\\n.full-card {\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid #24398A;\\n}\\n\\n.product-card {\\n  margin-bottom: 10px;\\n}\\n.product-card .card-header {\\n  background-color: #24398A;\\n  height: 50px;\\n}\\n.product-card .card-header h4 {\\n  color: #FFFFFF !important;\\n  margin-bottom: 0 !important;\\n}\\n.product-card .card-body .product-image {\\n  height: 130px;\\n  max-height: 130px;\\n  width: 208px;\\n  max-width: 208px;\\n  border-radius: 8px;\\n}\\n.product-card .card-body .product-image img {\\n  border-radius: 8px;\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  align-content: center;\\n}\\n.product-card .card-body .info {\\n  padding-right: 16px;\\n}\\n.product-card .card-body .info p span {\\n  font-weight: 700;\\n}\\n.product-card .card-body .info .price {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  width: 103px;\\n  height: 113px;\\n  color: #24398A;\\n  font-weight: 700;\\n  text-align: center;\\n}\\n.product-card .card-body .info .price .sum {\\n  font-size: 48px;\\n  line-height: 55px;\\n}\\n.product-card .card-body .info .price .details {\\n  font-size: 16px;\\n  line-height: 18px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/standalone-components/product-preview/product-preview.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAfA;EACE,2BAAA;EACA,8BAAA;EACA,+BAAA;EACA,0BAAA;EAEA,yBAAA;EACA,yBDRc;ACyBhB;AAhBE;EACE,2CAAA;EACA,8BAAA;EACA,+BAAA;AAkBJ;;AAdA;EACE,kBAAA;EACA,6BAAA;EACA,yBAAA;AAiBF;;AAdA;EACE,mBAAA;AAiBF;AAfE;EACE,yBD1BY;EC2BZ,YAAA;AAiBJ;AAfI;EACE,yBAAA;EACA,2BAAA;AAiBN;AAZI;EACE,aAAA;EACA,iBAAA;EACA,YAAA;EACA,gBAAA;EACA,kBAAA;AAcN;AAZM;EACE,kBAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;EACA,qBAAA;AAcR;AAXI;EACE,mBAAA;AAaN;AAXQ;EACE,gBAAA;AAaV;AATM;EACE,yBAAA;EACA,kBAAA;EACA,YAAA;EACA,aAAA;EACA,cDhEQ;ECiER,gBAAA;EACA,kBAAA;AAWR;AATQ;EACE,eAAA;EACA,iBAAA;AAWV;AARQ;EACE,eAAA;EACA,iBAAA;AAUV\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"src/app/theme/styles/components/_colors.scss\\\";\\n\\n.card-list{\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n\\n  border: 1px solid $primary-color;\\n  background-color: $primary-color;\\n  .card-body{\\n    background-color: var(--primary-background);\\n    border-bottom-left-radius: 8px;\\n    border-bottom-right-radius: 8px;\\n  }\\n}\\n\\n.full-card{\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid $primary-color;\\n}\\n\\n.product-card{\\n  margin-bottom: 10px;\\n\\n  .card-header{\\n    background-color: $primary-color;\\n    height: 50px;\\n\\n    h4{\\n      color: $background-primary!important;\\n      margin-bottom: 0!important;\\n    }\\n  }\\n\\n  .card-body{\\n    .product-image{\\n      height: 130px;\\n      max-height: 130px;\\n      width: 208px;\\n      max-width: 208px;\\n      border-radius: 8px;\\n\\n      img{\\n        border-radius: 8px;\\n        width: 100%;\\n        height: 100%;\\n        object-fit: cover;\\n        align-content: center;\\n      }\\n    }\\n    .info{\\n      padding-right: 16px ;\\n      p{\\n        span{\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .price{\\n        border: 1px solid $primary-color;\\n        border-radius: 8px;\\n        width: 103px;\\n        height: 113px;\\n        color: $primary-color;\\n        font-weight: 700;\\n        text-align: center;\\n\\n        .sum{\\n          font-size: 48px;\\n          line-height: 55px ;\\n        }\\n\\n        .details{\\n          font-size: 16px;\\n          line-height: 18px;\\n        }\\n      }\\n    }\\n\\n\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.card-list {\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n  border: 1px solid #24398A;\\n  background-color: #24398A;\\n}\\n.card-list .card-body {\\n  background-color: var(--primary-background);\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n}\\n\\n.full-card {\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid #24398A;\\n}\\n\\n.product-card {\\n  margin-bottom: 10px;\\n}\\n.product-card .card-header {\\n  background-color: #24398A;\\n  height: 50px;\\n}\\n.product-card .card-header h4 {\\n  color: #FFFFFF !important;\\n  margin-bottom: 0 !important;\\n}\\n.product-card .card-body .info {\\n  padding-right: 16px;\\n}\\n.product-card .card-body .info p span {\\n  font-weight: 700;\\n}\\n.product-card .card-body .info .price {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  width: 133px;\\n  height: 113px;\\n  color: #24398A;\\n  font-weight: 700;\\n  text-align: center;\\n}\\n.product-card .card-body .info .price .sum {\\n  font-size: 48px;\\n  line-height: 55px;\\n}\\n.product-card .card-body .info .price .details {\\n  font-size: 16px;\\n  line-height: 18px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/standalone-components/service-timeslot-preview/service-timeslot-preview.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAfA;EACE,2BAAA;EACA,8BAAA;EACA,+BAAA;EACA,0BAAA;EAEA,yBAAA;EACA,yBDRc;ACyBhB;AAhBE;EACE,2CAAA;EACA,8BAAA;EACA,+BAAA;AAkBJ;;AAdA;EACE,kBAAA;EACA,6BAAA;EACA,yBAAA;AAiBF;;AAdA;EACE,mBAAA;AAiBF;AAfE;EACE,yBD1BY;EC2BZ,YAAA;AAiBJ;AAfI;EACE,yBAAA;EACA,2BAAA;AAiBN;AAZI;EACE,mBAAA;AAcN;AAZQ;EACE,gBAAA;AAcV;AAVM;EACE,yBAAA;EACA,kBAAA;EACA,YAAA;EACA,aAAA;EACA,cDjDQ;ECkDR,gBAAA;EACA,kBAAA;AAYR;AAVQ;EACE,eAAA;EACA,iBAAA;AAYV;AATQ;EACE,eAAA;EACA,iBAAA;AAWV\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"src/app/theme/styles/components/_colors.scss\\\";\\n\\n.card-list{\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n\\n  border: 1px solid $primary-color;\\n  background-color: $primary-color;\\n  .card-body{\\n    background-color: var(--primary-background);\\n    border-bottom-left-radius: 8px;\\n    border-bottom-right-radius: 8px;\\n  }\\n}\\n\\n.full-card{\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid $primary-color;\\n}\\n\\n.product-card{\\n  margin-bottom: 10px;\\n\\n  .card-header{\\n    background-color: $primary-color;\\n    height: 50px;\\n\\n    h4{\\n      color: $background-primary!important;\\n      margin-bottom: 0!important;\\n    }\\n  }\\n\\n  .card-body{\\n    .info{\\n      padding-right: 16px ;\\n      p{\\n        span{\\n          font-weight: 700;\\n        }\\n      }\\n\\n      .price{\\n        border: 1px solid $primary-color;\\n        border-radius: 8px;\\n        width: 133px;\\n        height: 113px;\\n        color: $primary-color;\\n        font-weight: 700;\\n        text-align: center;\\n\\n        .sum{\\n          font-size: 48px;\\n          line-height: 55px ;\\n        }\\n\\n        .details{\\n          font-size: 16px;\\n          line-height: 18px;\\n        }\\n      }\\n    }\\n\\n\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --primary-background: #FFFFFF;\\n  --secondary-background: #edf0fa;\\n  --header-footer-background: #FFF ;\\n}\\n\\n[data-theme=dark]:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n.positive-amount {\\n  color: rgb(105, 201, 140) !important;\\n}\\n\\n.negative-amount {\\n  color: rgb(241, 56, 88) !important;\\n}\\n\\n.card-list {\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n  border: 1px solid #24398A;\\n  background-color: #24398A;\\n}\\n.card-list .card-body {\\n  background-color: var(--primary-background);\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n}\\n\\n.full-card {\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid #24398A;\\n}\\n\\n.ticket-card {\\n  margin-bottom: 10px;\\n}\\n.ticket-card .card-header {\\n  background-color: #24398A;\\n  height: 50px;\\n}\\n.ticket-card .card-header h4 {\\n  color: #FFFFFF !important;\\n  margin-bottom: 0 !important;\\n}\\n.ticket-card .card-body .info {\\n  padding-right: 16px;\\n}\\n.ticket-card .card-body .info p span {\\n  font-weight: 700;\\n}\\n.ticket-card .card-body .price {\\n  border: 1px solid #24398A;\\n  border-radius: 8px;\\n  width: 152px;\\n  height: 113px;\\n  color: #24398A;\\n  font-weight: 700;\\n  text-align: center;\\n}\\n.ticket-card .card-body .price .sum {\\n  font-size: 48px;\\n  line-height: 55px;\\n}\\n.ticket-card .card-body .price .details {\\n  font-size: 16px;\\n  line-height: 18px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/theme/styles/components/_colors.scss\",\"webpack://./src/app/standalone-components/ticket-card/ticket-card.component.scss\"],\"names\":[],\"mappings\":\"AAcA;EACE,6BAAA;EACA,+BAAA;EACA,iCAAA;ACbF;;ADgBA;EACE,6BAAA;EACA,+BAAA;ACbF;;ADyCA;EACI,oCAAA;ACtCJ;;ADyCA;EACQ,kCAAA;ACtCR;;AAfA;EACE,2BAAA;EACA,8BAAA;EACA,+BAAA;EACA,0BAAA;EAEA,yBAAA;EACA,yBDRc;ACyBhB;AAhBE;EACE,2CAAA;EACA,8BAAA;EACA,+BAAA;AAkBJ;;AAdA;EACE,kBAAA;EACA,6BAAA;EACA,yBAAA;AAiBF;;AAdA;EACE,mBAAA;AAiBF;AAfE;EACE,yBD1BY;EC2BZ,YAAA;AAiBJ;AAfI;EACE,yBAAA;EACA,2BAAA;AAiBN;AAZI;EACE,mBAAA;AAcN;AAZQ;EACE,gBAAA;AAcV;AATI;EACE,yBAAA;EACA,kBAAA;EACA,YAAA;EACA,aAAA;EACA,cDlDU;ECmDV,gBAAA;EACA,kBAAA;AAWN;AATM;EACE,eAAA;EACA,iBAAA;AAWR;AARM;EACE,eAAA;EACA,iBAAA;AAUR\",\"sourcesContent\":[\"// theme colors\\n$primary-color: #24398A;\\n\\n$secondary-color: #FFCC29;\\n\\n$title: #231F20;\\n$paragraph: #231F20;\\n$link: #0D4494;\\n\\n$background-primary: #FFFFFF !default;\\n$background-secondary: #edf0fa !default;\\n\\n$header-footer-color: #FFF;\\n\\n:root {\\n  --primary-background: #{$background-primary};\\n  --secondary-background: #{$background-secondary};\\n  --header-footer-background: #{$header-footer-color}\\n}\\n\\n[data-theme='dark']:root {\\n  --primary-background: #EDE9E8;\\n  --secondary-background: #EDE9E8;\\n}\\n\\n//label colors\\n$active-color:#69C98C;\\n$pending-color:#FCCC3D;\\n$inactive-color:#858495;\\n$draft-color:#2F9DF4;\\n$archived-color:#E6536C;\\n$inprogress-color:#236BB4;\\n\\n$bkg-active-color:rgba(105, 201, 140, 0.2);\\n$bkg-pending-color:rgba(252, 204, 61, 0.2);\\n$bkg-inactive-color:rgba(133, 132, 149, 0.2);\\n$bkg-draft-color:rgba(47, 157, 244, 0.2);\\n$bkg-archived-color:rgba(230, 83, 108, 0.2);\\n$bkg-inprogress-color:rgba(73, 80, 250, 0.2);\\n\\n$like-color:#2CCEA7;\\n$dislike-color: #EA4335;;\\n\\n\\n//label buttons active/inactive/disabled\\n\\n$active-btn-color:#34A853;\\n$inactive-btn-color:#848484;\\n$disabled-btn-color:#E64335;\\n\\n.positive-amount{\\n    color:rgba(105, 201, 140, 1)!important;\\n}\\n\\n.negative-amount{\\n        color:rgba(241, 56, 88, 1)!important;\\n}\\n\\n\",\"@import \\\"src/app/theme/styles/components/_colors.scss\\\";\\n\\n.card-list{\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n  border-top-right-radius: 0;\\n\\n  border: 1px solid $primary-color;\\n  background-color: $primary-color;\\n  .card-body{\\n    background-color: var(--primary-background);\\n    border-bottom-left-radius: 8px;\\n    border-bottom-right-radius: 8px;\\n  }\\n}\\n\\n.full-card{\\n  border-radius: 8px;\\n  background-color: transparent;\\n  border: 1px solid $primary-color;\\n}\\n\\n.ticket-card{\\n  margin-bottom: 10px;\\n\\n  .card-header{\\n    background-color: $primary-color;\\n    height: 50px;\\n\\n    h4{\\n      color: $background-primary!important;\\n      margin-bottom: 0!important;\\n    }\\n  }\\n\\n  .card-body{\\n    .info{\\n      padding-right: 16px ;\\n      p{\\n        span{\\n          font-weight: 700;\\n        }\\n      }\\n    }\\n\\n    .price{\\n      border: 1px solid $primary-color;\\n      border-radius: 8px;\\n      width: 152px;\\n      height: 113px;\\n      color: $primary-color;\\n      font-weight: 700;\\n      text-align: center;\\n\\n      .sum{\\n        font-size: 48px;\\n        line-height: 55px ;\\n      }\\n\\n      .details{\\n        font-size: 16px;\\n        line-height: 18px;\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Pipe","OrderByPipe","transform","array","field","Array","isArray","sort","a","b","name","Injectable","HttpClient","BehaviorSubject","BookingTimeslotsService","constructor","http","refreshServiceListData","refreshServiceList$","asObservable","serviceListData","serviceList$","addServiceToList","service","next","getValue","concat","addServiceToDeleteList","deleteServiceList$","getServicesByResourceId","resourceId","get","createService","post","updateServiceByServiceId","serviceId","put","deleteService","delete","providedIn","CulturalBookingService","culturalRoomData","culturalRoom$","createCulturalRoom","culturalRoom","updateCulturalRoom","culturalRoomId","newCulturalRoom","getResourceCulturalRooms","getCulturalRoomById","deleteCulturalRoom","MenuService","undefined","refreshMenuListData","refreshMenuList$","menuListData","menuList$","addCategoryToList","categ","addCategoryToDeleteArray","deleteArray$","createMenu","menu","getMenuById","menuId","getMenuByResourceId","updateMenu","ProductListService","refreshProductListData","refreshProductList$","productListData","productsList$","addProductToList","product","addProductToDeleteList","deleteProdList$","addImgtoImgList","img","imagesArray$","addAttachmentToList","attach","attachmentArray$","createProduct","getProductsByResourceId","updateProduct","productId","deleteProduct","uploadImageForProduct","image","uploadAttachmentForProduct","file","RentalBookingService","refreshRoomListData","refreshRoomList$","roomListData","roomList$","deleteArrayData","imagesArrayData","addRoomToList","room","addRoomToDeleteArray","addImgToImagesArray","createRoom","id","data","createRooms","updateRoom","deleteRoom","roomId","getRoomList","uploadRoomThumbnail","uploadRoomGallery","images","StepperService","getStepperStage","subscribe","stage","console","log","changeStepperStage","getStep","step$","getStepsTitle","stepsTitle$","stepperStage$","nextStep","notCultural","length","prevStep","stepName","ResourcesService","TicketsBookingService","resourceService","refreshTicketListData","refreshTicketList$","refreshTicketCreateData","refreshCreateArray$","refreshTicketDeleteData","refreshDeleteArray$","refreshTicketUpdateData","refreshUpdateArray$","ticketListData","ticketsList$","createArrayData","createArray$","updateArrayData","updateArray$","addTicketToList","ticket","addTicketToCreateArrayEdit","addTicketToDeleteArray","addTicketToUpdateArray","createTicket","createTickets","tickets","updateTicket","ticketId","deleteTicket","getTicketList","TimepickerService","setFreeEntry","newValue","hasFreeEntry","getFreeEntry","refreshTimetableListData","refreshTimetableList$","refreshTimepickerListData","refreshTimepickerList$","createTimepicker","timepicker","getTimepickerByResourceId","updateTimepicker","timepickerId","Component","Inject","MAT_DIALOG_DATA","MatDialogRef","SharedExperiencesService","ResourceService","Subject","takeUntil","DatePipe","FormBuilder","Validators","ToastService","ProviderCreateSharedExperienceComponent","dialogRef","sharedExperienceService","resourcesService","datePipe","fb","toastService","Date","ngOnInit","getCurrentResource","getTimepickerForResource","formInit","sharedExperienceForm","group","required","description","hasParticipantsLimit","participantsMaxNumber","getResourceById","pipe","ngUnsubscribe","resource","currentResource","getTimeslotsByResourceId","timeslots","timeslotsArray","slotItems","bookingTimeslotId","date","bookingTimeslotChanged","chosenResourceTimeslots","dateChanged","slotChosen","getAvailableSlotByDate","close","save","markAllAsTouched","valid","experienceObj","value","startDate","startHour","timeSlotReservation","itemsNumber","hour","bookingTimeSlotId","createSharedExperience","res","success","showToast","ngOnDestroy","complete","args","selector","template","providers","UserDataService","ProviderLobbyComponent","userDataService","getSharedExperience","getSharedExperienceById","experience","currentExperience","makeParticipantsArrays","arrayParticipants","arrayPending","participants","forEach","participant","accepted","type","push","checkIfHost","getCurrentUser","user","currentUserId","userId","isHost","ChangeDetectorRef","Input","ResourceRadioOptionComponent","cd","ngAfterViewInit","detectChanges","ViewChild","MatDialog","MatSort","SharedExperiencesListComponent","dialog","userService","pageChanged","event","getSharedExperiencesList","filters","listSharedExperiencesFiltered","pageNumber","pageSize","sorting","dir","expList","dataSource","content","totalElements","openSharedExperienceLobbyModal","open","width","height","static","FormControl","FormGroup","SystemSettingsService","DomainService","DomainsService","ActivatedRoute","Router","CreateResourceService","AddNewTemplateComponent","stepperService","settingService","domainSv","domainService","router","route","createResourceService","domain","categoryId","resourceTypeId","getEventCategId","getTransportCategId","getCategoriesId","providerData","providerData$","stepNumber","step","dataForAddStage","getDomain","domainId","getDomainById","nameEn","getCategory","getResourceCategoryById","category","getResourceType","resType","getResourceTypeById","resourceType","getSystemSetting","resp","eventsId","eventCategoryId","transportId","transportCategoryId","categoriesToBeExcluded","dataLoaded","getListOfDomains","optionsList","filter","templateForm","patchValue","error","getAllResourceCategoriesByResourceDomain","getAllResourceTypesByResourceCategory","addTemplate","goToStep","checkIfFirstStep","navigate","relativeTo","forkJoin","moment","FacilitiesComponent","roomService","ticketService","timepickerService","productService","timeslotService","systemSettings","menuService","facilitiesForm$","loadingSubscr","isSubmitLoading$","isSubmitLoading","unsubscribe","createFacilitiesSection","attributesFromResourceTemplate$","createDynamicForm","item","tabName","resourceId$","currentBookingType","resourceTemplateData$","bookingType","response","roles","includes","isProvider","isStaff","isAdmin","facilities","facilitiesAttributeIds","find","section","tabAttributes","map","attribute","getAttributes","facilitiesByCategory","reduce","acc","index","findIndex","x","categoryName","order","size","valueType","facilitiesByCategory$","columnSize","formSection","inputField","form","addControl","attributeValue","propertyRequired","invalid","clearFields","resourceTemplateType$","generalInformationForm$","filesForm$","resourceData","featuredImage","videos","accommodationPolicy$","travelId$","relatedResources$","timepickerList$","timetableList$","timepickerId$","timePicker$","changePolicies$","bookingPolicies$","externalUrl$","setupListener$","generalInfoListener$","policyRentalListener$","policyMenuListener$","policyListener$","settingsTripsItineraries$","tripsItinerariesObject$","menuId$","saveResource","roomsArray","combineForms","controls","formData","control","attributeName","attributeId","join","attributeIconPath","icon","filePath","attributes","formObject","title","address","country","city","slug","thumbnail","geographicalCoordinates","latitude","longitude","bookingPolicies","depositRequiredPercentage","depositRequiredAmount","advancePartialPaymentPercentage","advanceFullPayment","format","endDate","timetable","policy","Object","keys","accommodationPolicy","externalUrl","sharedExperience","forItinerary","updateResource","currentRelatedRes","resourceRelatedRes","relatedResources","$fileObservables","removeRelatedResource","addRelatedresources","thumbnailData","FormData","append","uploadResourceImage","newImages","indexOf","imagesData","galleryFile","uploadDocAttachements","newVideos","videosData","videoFile","updateArray","deleteArray","prodArray","state","respAdd","imagArray","imageObj","imageFile","reason","thumb","attachArray","attachmentFile","respUpdate","deleteProdArray","serviceArray","deleteServArray","gallery","deleteRooms","timePicker","timetables","changePolicies","ignoreAvailability","forkRes","setTimeout","submit","routeSub","GalleryComponent","culturalBookingService","fileName","getResourceId","resourceForm","thumbnailUrl","assign","galleryUrls","videoUrls","serviceForm","Blob","reader","FileReader","onload","result","readAsDataURL","thumbnailFile","File","galleryFiles","video","videoFiles","onThumbnailChange","target","files","setControl","removeThumbnail","onImageChange","inputRef","imagesLength","newUrlLength","i","removeImage","splice","onVideoChange","videoLength","removeVideo","modifiedCulturalRoom","GeneralInformationsComponent","formSections","formSectionsToSend","tripsAndItinAttributes","getCountries","createManualInputs","tripsItinObj","tripsAndItineraries","getAttributesData","facilitiesTab","getCities","hasSharedExperience","medicalId$","educationId$","hasForItinerary","currentDay","hasStartEndDates","contains","multipleValue","split","findTripIndex","attr","makeFormSectionsToSend","getAllCountries","countries","getCityFilter","cities","getCoordinates","PaymentComponent","commission","percentageCommission","getCommission","currentResourceId","providerId","getUserById","provider","accomodationPolicy","addResource","ticketList","NoPolicyComponent","getTemplate","initConfigTabs","timetableForm","listenForPolicy","sendTimePicker","newDayTab","day","startTime","endTime","closed","validators","checkTimeSlots","addDayTab","removeDayTab","tabIndex","removeAt","days","checkIfEdit","isEditMode","showTimetable","serviceTimetable","getListResourceTemplateFiltered","temp","setErrors","invalidTime","PolicyCulturalBookingComponent","bookingPoliciesValueChanges","valueChanges","newValues","previousBookingType","selectedBookingType","emitEvent","disabled","requireCheckboxesToBeCheckedValidator","minRequired","validate","formGroup","checked","key","requireCheckboxesToBeChecked","bookingPolicyEdit","enable","setValue","disable","checkDepositType","depositRequired","advancePartialPayment","compose","pattern","bookingPolicyValue","PolicyRentalBookingComponent","makeFormOnEdit","checkInStartHour","checkInEndHour","checkOutStartHour","checkOutEndHour","sendAccPolicy","setNull","valueChange","PolicyComponent","RestaurantPolicyComponent","timetableValue","nonRefundable","modifiable","freeCancellation","deadlineDays","changePolicyEdit","customChangePolicyValidation","invalidPolicy","bookingTimePickerId","changePoliciesToSend","Number","freeCancellationCheck","depositCheck","advancePaymentCheck","getError","CulturalRelatedResComponent","usersService","systemService","theaterCategoryId","addToRelatedRes","relatedRes","getRelatedResource","runAfterAsyncOperations","relatedResourcesId","applyFilter","filterObject","filterTitleChoose","excludedCategories","jobCategoryId","listResourceFiltered","pageNumberChoose","pageSizeChoose","dataSourceChoose","pageIndex","resToBeAdded","getEventCategoryId","Promise","resolve","reject","err","getJobCategoryId","domains","listCategoryFiltered","ApplyJobComponent","CarBookingComponent","CulturalBookingComponent","price","min","rows","columns","culturalRooms","initZonesForm","hasBookedWithReservation","checkIfBookedWithReservation","zones","zone","zoneIndex","addZone","firstRowLabel","rowsForBooking","rowLabel","isNaN","rowsGenerationType","row","seat","seats","seatStatus","removeZone","generateSeats","rowLabelAsNumber","fill","toString","numberToLetters","seatIndex","seatColumnLabel","number","str","q","r","Math","floor","String","fromCharCode","ExternalUrlComponent","externalURL","sendExternalUrl","markAsTouched","AddEditCategoryComponent","categoryData","random","substring","subCategories","newSubcategory","subCategoryName","subCategoryItems","addSubcategory","removeSubcategory","at","newItem","weight","ingredients","allergens","nutritionalFacts","addItem","removeItem","childIndex","onKeyDown","code","preventDefault","subcategory","subcategoryIndex","confirm","updateCategory","createCategory","menuList","selectedIndex","categList","selectedCategIndex","DeleteMenuCategoryComponent","deleteCategory","filteredList","MenuComponent","timeDifference","items","categToAdd","menuForm","customIntervalValidation","invalidInterval","maximumPeople","tableMinutesNumber","newDayTabNoValidation","newTimetable","endHour","checkTime","addTimetable","removeSlot","openAddModal","openEditModal","openDeleteModal","parentTimetable","parent","parentDayTab","startParts","endParts","startMinutes","parseInt","endMinutes","minutesDifference","invalidTimeRange","currentTimepicker","formOnEdit","timetableItem","timetbl","errors","clear","NoBookingComponent","AddEditProductComponent","productData","attachmentUrl","productForm","attachment","imagesArray","element","featuredImageUrl","elem","addProduct","prodList","selectedProdIndex","prod","imageUrl","indexInList","deleteAttachment","uploadAttachmentFile","DeleteProductModalComponent","currentProd","filteredProd","filteredProds","filteredProducts","ProductsListComponent","productList","FormArray","AddEditRoomModalComponent","formRoom","roomSize","bathrooms","maximumAdultPeople","maximumChildren","minimumStay","itemsForBooking","bedType","quantity","regularPrice","maxLength","weekendPrice","benefits","roomData","galleryUrl","getItemsForBooking","itemNumber","submitRoom","formSubmitClicked","activeFacilitiesByCategory","formDataObject","roomList","selectedRoomIndex","imgArray","imgArrayIndex","arr","urlsArray","notUpload","addRoom","addRoomToForm","removeRoom","removeLastRoomAdded","createNewRoom","addBedType","getBedTypeArray","removeBedType","categoryZone","tabAttribute","matchingAttribute","previewThumbs","selectedThumbsNail","selectedThumbnailUrl","clearThumb","previewGallery","selectedGalleryImages","filesAmount","selectedGalleryImagesUrl","clearGalleryImg","arrayLength","filesArrayLength","DeleteRoomModalComponent","filteredRooms","RentalBookingComponent","getAttributesForRoom","attributeIdsArray","obj","curr","flat","attributesList","benefit","AddEditServiceComponent","serviceData","totalItemsNumber","slots","newSlot","addSlot","addSlotOnUpdate","slotItem","slot","sendTimeSlots","updateService","serviceList","DeleteModalServiceComponent","currentService","filteredService","filteredServices","ServiceBookingTimeSlotsComponent","AddEditTicketComponent","ticketsBookingService","ticketData","ticketFormInit","ticketForm","hasSeat","ticketsForBooking","limit","ticketsLimit","isEditTicketMode","ticketNumber","seatNumber","displaySeats","displayLimit","newTicket","addTicket","removeTicket","limitChecking","seatChecking","initList","indexInInitList","createList","indexInCreateList","updateList","indexInUpdateList","filteredInitList","DeleteTicketComponent","currentTicket","filteredOriginalTickets","filteredCreateTickets","filteredUpdateTickets","filteredTickets","TicketBookingComponent","ticketBookingService","findTicket","t","StepperTitleListComponent","getBookingType","selectedStep","stepTitleList","stepId","getTemplateType","stepValue","AddResourceComponent","checkIfProviderAccepted","getDomainId","getTripsAndItinerariesIds","stepperStage","params","bookingType$","resourceName","templateList","currentTemplateId","getAttributesFromTemplate","attributesFromTemplate","searchAttributes","templateType","domainsList","exitResource","settings","tripsIds","journeyThemeCategoryId","typeOfDestinationCategoryId","typeOfJourneyCategoryId","addTripsId","resourceAttributes","templateAttributes","templateTab","resourceTab","templateAttribute","resourceAttribute","attributeIndex","findTab","onSubmit","currentUser","approvedStatus","isProviderAccepted","seeWhere","MatLegacyPaginator","MatPaginator","NgbModal","ResourcesListComponent","cdr","modal","checkRole","getListType","userData","jobDomainId","travelDomainId","healthDomainId","cultureDomainId","educationDomainId","listChanged","listChangedObs","getResourcesList","triggerListChanges","url","backPath","queryParams","providerid","editResource","objFilter","filterTitle","filterDomain","filterCategory","filterCountry","filterCity","filterSharedExperiences","status","filterStatus","resourcesList","isLoaded","advancedClick","isAdvanced","callSubmitButton","direction","active","paginator","firstPage","getCategories","categoriesList","selectedDomain","categories","categoryObject","clearfilterTitle","filterStartDate","filterFinishDate","deleteResource","closeModal","openModal","statusInput","closeAll","openSharedExperienceListModal","openSharedExperienceCreateModal","changeStatus","changeStatusForResource","archiveResource","NgModule","RouterModule","ResourcesComponent","CanDeactivateGuard","resourceRoutes","path","component","children","canDeactivate","redirectTo","pathMatch","ResourcesRoutingModule","imports","forChild","exports","CommonModule","FormsModule","ReactiveFormsModule","SharedModule","DashboardHeaderComponent","TicketCardComponent","ProductPreviewComponent","ServiceTimeslotPreviewComponent","NgxMatDatetimePickerModule","NgxMatTimepickerModule","SeatsViewerComponent","MatLegacyTableModule","DisplayUserComponent","SharedExperiencesInfoComponent","ResourcesModule","declarations","CanDeactivateState","defendAgainstBrowserBackButton","rentalService","navigation","getCurrentNavigation","extras","history","pushState","standalone"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}